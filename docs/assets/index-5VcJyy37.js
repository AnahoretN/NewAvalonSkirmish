(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hu={exports:{}},Eo={},Wu={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),Rf=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),zf=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),$f=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),Ta=Symbol.iterator;function Gf(e){return e===null||typeof e!="object"?null:(e=Ta&&e[Ta]||e["@@iterator"],typeof e=="function"?e:null)}var Vu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Qu={};function yr(e,t,n){this.props=e,this.context=t,this.refs=Qu,this.updater=n||Vu}yr.prototype.isReactComponent={};yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qu(){}qu.prototype=yr.prototype;function xi(e,t,n){this.props=e,this.context=t,this.refs=Qu,this.updater=n||Vu}var wi=xi.prototype=new qu;wi.constructor=xi;Yu(wi,yr.prototype);wi.isPureReactComponent=!0;var Ea=Array.isArray,Ju=Object.prototype.hasOwnProperty,ki={current:null},Ku={key:!0,ref:!0,__self:!0,__source:!0};function Xu(e,t,n){var r,l={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ju.call(t,r)&&!Ku.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:pl,type:e,key:o,ref:i,props:l,_owner:ki.current}}function Hf(e,t){return{$$typeof:pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ci(e){return typeof e=="object"&&e!==null&&e.$$typeof===pl}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ia=/\/+/g;function Ko(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function Gl(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case pl:case Rf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+Ko(i,0):r,Ea(l)?(n="",e!=null&&(n=e.replace(Ia,"$&/")+"/"),Gl(l,t,n,"",function(d){return d})):l!=null&&(Ci(l)&&(l=Hf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Ia,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Ea(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+Ko(o,a);i+=Gl(o,t,n,u,l)}else if(u=Gf(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+Ko(o,a++),i+=Gl(o,t,n,u,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Nl(e,t,n){if(e==null)return e;var r=[],l=0;return Gl(e,r,"","",function(o){return t.call(n,o,l++)}),r}function Vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Hl={transition:null},Yf={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:ki};function Zu(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Nl,forEach:function(e,t,n){Nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!Ci(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=yr;re.Fragment=Of;re.Profiler=Af;re.PureComponent=xi;re.StrictMode=Mf;re.Suspense=Uf;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf;re.act=Zu;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yu({},e.props),l=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ki.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ju.call(t,u)&&!Ku.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:pl,type:e.type,key:l,ref:o,props:r,_owner:i}};re.createContext=function(e){return e={$$typeof:zf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lf,_context:e},e.Consumer=e};re.createElement=Xu;re.createFactory=function(e){var t=Xu.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Ff,render:e}};re.isValidElement=Ci;re.lazy=function(e){return{$$typeof:Bf,_payload:{_status:-1,_result:e},_init:Vf}};re.memo=function(e,t){return{$$typeof:$f,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Hl.transition;Hl.transition={};try{e()}finally{Hl.transition=t}};re.unstable_act=Zu;re.useCallback=function(e,t){return Ye.current.useCallback(e,t)};re.useContext=function(e){return Ye.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};re.useEffect=function(e,t){return Ye.current.useEffect(e,t)};re.useId=function(){return Ye.current.useId()};re.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Ye.current.useMemo(e,t)};re.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};re.useRef=function(e){return Ye.current.useRef(e)};re.useState=function(e){return Ye.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return Ye.current.useTransition()};re.version="18.3.1";Wu.exports=re;var C=Wu.exports;const Pn=Df(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=C,qf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Kf=Object.prototype.hasOwnProperty,Xf=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zf={key:!0,ref:!0,__self:!0,__source:!0};function ec(e,t,n){var r,l={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Kf.call(t,r)&&!Zf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:qf,type:e,key:o,ref:i,props:l,_owner:Xf.current}}Eo.Fragment=Jf;Eo.jsx=ec;Eo.jsxs=ec;Hu.exports=Eo;var s=Hu.exports,js={},tc={exports:{}},st={},nc={exports:{}},rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,z){var q=R.length;R.push(z);e:for(;0<q;){var ne=q-1>>>1,oe=R[ne];if(0<l(oe,z))R[ne]=z,R[q]=oe,q=ne;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],q=R.pop();if(q!==z){R[0]=q;e:for(var ne=0,oe=R.length,Oe=oe>>>1;ne<Oe;){var Te=2*(ne+1)-1,at=R[Te],Q=Te+1,J=R[Q];if(0>l(at,q))Q<oe&&0>l(J,at)?(R[ne]=J,R[Q]=q,ne=Q):(R[ne]=at,R[Te]=q,ne=Te);else if(Q<oe&&0>l(J,q))R[ne]=J,R[Q]=q,ne=Q;else break e}}return z}function l(R,z){var q=R.sortIndex-z.sortIndex;return q!==0?q:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],d=[],x=1,h=null,g=3,j=!1,b=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=R)r(d),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(d)}}function p(R){if(w=!1,m(R),!b)if(n(u)!==null)b=!0,H(y);else{var z=n(d);z!==null&&X(p,z.startTime-R)}}function y(R,z){b=!1,w&&(w=!1,f(F),F=-1),j=!0;var q=g;try{for(m(z),h=n(u);h!==null&&(!(h.expirationTime>z)||R&&!K());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,g=h.priorityLevel;var oe=ne(h.expirationTime<=z);z=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(u)&&r(u),m(z)}else r(u);h=n(u)}if(h!==null)var Oe=!0;else{var Te=n(d);Te!==null&&X(p,Te.startTime-z),Oe=!1}return Oe}finally{h=null,g=q,j=!1}}var T=!1,_=null,F=-1,Y=5,M=-1;function K(){return!(e.unstable_now()-M<Y)}function $(){if(_!==null){var R=e.unstable_now();M=R;var z=!0;try{z=_(!0,R)}finally{z?ie():(T=!1,_=null)}}else T=!1}var ie;if(typeof c=="function")ie=function(){c($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=$,ie=function(){U.postMessage(null)}}else ie=function(){O($,0)};function H(R){_=R,T||(T=!0,ie())}function X(R,z){F=O(function(){R(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,H(y))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var q=g;g=z;try{return R()}finally{g=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=g;g=R;try{return z()}finally{g=q}},e.unstable_scheduleCallback=function(R,z,q){var ne=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ne+q:ne):q=ne,R){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=q+oe,R={id:x++,callback:z,priorityLevel:R,startTime:q,expirationTime:oe,sortIndex:-1},q>ne?(R.sortIndex=q,t(d,R),n(u)===null&&R===n(d)&&(w?(f(F),F=-1):w=!0,X(p,q-ne))):(R.sortIndex=oe,t(u,R),b||j||(b=!0,H(y))),R},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(R){var z=g;return function(){var q=g;g=z;try{return R.apply(this,arguments)}finally{g=q}}}})(rc);nc.exports=rc;var ep=nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=C,ot=ep;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lc=new Set,Jr={};function zn(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(Jr[e]=t,e=0;e<t.length;e++)lc.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=Object.prototype.hasOwnProperty,np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pa={},_a={};function rp(e){return bs.call(_a,e)?!0:bs.call(Pa,e)?!1:np.test(e)?_a[e]=!0:(Pa[e]=!0,!1)}function lp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function op(e,t,n,r){if(t===null||typeof t>"u"||lp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;function Ni(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Si,Ni);Re[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Si,Ni);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Si,Ni);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ji(e,t,n,r){var l=Re.hasOwnProperty(t)?Re[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(op(t,n,l,r)&&(n=null),r||l===null?rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),bi=Symbol.for("react.strict_mode"),Ts=Symbol.for("react.profiler"),oc=Symbol.for("react.provider"),sc=Symbol.for("react.context"),Ti=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),Is=Symbol.for("react.suspense_list"),Ei=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),ic=Symbol.for("react.offscreen"),Da=Symbol.iterator;function Ir(e){return e===null||typeof e!="object"?null:(e=Da&&e[Da]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Xo;function Lr(e){if(Xo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xo=t&&t[1]||""}return`
`+Xo+e}var Zo=!1;function es(e,t){if(!e||Zo)return"";Zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),o=r.stack.split(`
`),i=l.length-1,a=o.length-1;1<=i&&0<=a&&l[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==o[a]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{Zo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function sp(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=es(e.type,!1),e;case 11:return e=es(e.type.render,!1),e;case 1:return e=es(e.type,!0),e;default:return""}}function Ps(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yn:return"Fragment";case Vn:return"Portal";case Ts:return"Profiler";case bi:return"StrictMode";case Es:return"Suspense";case Is:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sc:return(e.displayName||"Context")+".Consumer";case oc:return(e._context.displayName||"Context")+".Provider";case Ti:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ei:return t=e.displayName||null,t!==null?t:Ps(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Ps(e(t))}catch{}}return null}function ip(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ps(t);case 8:return t===bi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ac(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=ac(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=ap(e))}function uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ac(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function to(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _s(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ra(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cc(e,t){t=t.checked,t!=null&&ji(e,"checked",t,!1)}function Ds(e,t){cc(e,t);var n=hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rs(e,t.type,hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rs(e,t,n){(t!=="number"||to(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zr=Array.isArray;function lr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Os(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ma(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(zr(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hn(n)}}function dc(e,t){var n=hn(t.value),r=hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Aa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ms(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tl,pc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},up=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(e){up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$r[t]=$r[e]})});function mc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$r.hasOwnProperty(e)&&$r[e]?(""+t).trim():t+"px"}function hc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=mc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var cp=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function As(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,or=null,sr=null;function La(e){if(e=gl(e)){if(typeof Fs!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Ro(t),Fs(e.stateNode,e.type,t))}}function gc(e){or?sr?sr.push(e):sr=[e]:or=e}function yc(){if(or){var e=or,t=sr;if(sr=or=null,La(e),t)for(e=0;e<t.length;e++)La(t[e])}}function vc(e,t){return e(t)}function xc(){}var ts=!1;function wc(e,t,n){if(ts)return e(t,n);ts=!0;try{return vc(e,t,n)}finally{ts=!1,(or!==null||sr!==null)&&(xc(),yc())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Us=!1;if(Bt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Us=!1}function dp(e,t,n,r,l,o,i,a,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(x){this.onError(x)}}var Br=!1,no=null,ro=!1,$s=null,fp={onError:function(e){Br=!0,no=e}};function pp(e,t,n,r,l,o,i,a,u){Br=!1,no=null,dp.apply(fp,arguments)}function mp(e,t,n,r,l,o,i,a,u){if(pp.apply(this,arguments),Br){if(Br){var d=no;Br=!1,no=null}else throw Error(A(198));ro||(ro=!0,$s=d)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function za(e){if(Fn(e)!==e)throw Error(A(188))}function hp(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return za(l),e;if(o===r)return za(l),t;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=o;break}if(a===r){i=!0,r=l,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=l;break}if(a===r){i=!0,r=o,n=l;break}a=a.sibling}if(!i)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Cc(e){return e=hp(e),e!==null?Sc(e):null}function Sc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sc(e);if(t!==null)return t;e=e.sibling}return null}var Nc=ot.unstable_scheduleCallback,Fa=ot.unstable_cancelCallback,gp=ot.unstable_shouldYield,yp=ot.unstable_requestPaint,we=ot.unstable_now,vp=ot.unstable_getCurrentPriorityLevel,Pi=ot.unstable_ImmediatePriority,jc=ot.unstable_UserBlockingPriority,lo=ot.unstable_NormalPriority,xp=ot.unstable_LowPriority,bc=ot.unstable_IdlePriority,Io=null,_t=null;function wp(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Io,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Sp,kp=Math.log,Cp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(kp(e)/Cp|0)|0}var El=64,Il=4194304;function Fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=Fr(a):(o&=i,o!==0&&(r=Fr(o)))}else i=n&~l,i!==0?r=Fr(i):o!==0&&(r=Fr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),l=1<<n,r|=e[n],t&=~l;return r}function Np(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-St(o),a=1<<i,u=l[i];u===-1?(!(a&n)||a&r)&&(l[i]=Np(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function Bs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tc(){var e=El;return El<<=1,!(El&4194240)&&(El=64),e}function ns(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ml(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function bp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-St(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function _i(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ue=0;function Ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ic,Di,Pc,_c,Dc,Gs=!1,Pl=[],on=null,sn=null,an=null,Zr=new Map,el=new Map,tn=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ua(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(t.pointerId)}}function _r(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=gl(t),t!==null&&Di(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ep(e,t,n,r,l){switch(t){case"focusin":return on=_r(on,e,t,n,r,l),!0;case"dragenter":return sn=_r(sn,e,t,n,r,l),!0;case"mouseover":return an=_r(an,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Zr.set(o,_r(Zr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,el.set(o,_r(el.get(o)||null,e,t,n,r,l)),!0}return!1}function Rc(e){var t=Tn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=kc(n),t!==null){e.blockedOn=t,Dc(e.priority,function(){Pc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zs=r,n.target.dispatchEvent(r),zs=null}else return t=gl(n),t!==null&&Di(t),e.blockedOn=n,!1;t.shift()}return!0}function $a(e,t,n){Wl(e)&&n.delete(t)}function Ip(){Gs=!1,on!==null&&Wl(on)&&(on=null),sn!==null&&Wl(sn)&&(sn=null),an!==null&&Wl(an)&&(an=null),Zr.forEach($a),el.forEach($a)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Gs||(Gs=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Ip)))}function tl(e){function t(l){return Dr(l,e)}if(0<Pl.length){Dr(Pl[0],e);for(var n=1;n<Pl.length;n++){var r=Pl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&Dr(on,e),sn!==null&&Dr(sn,e),an!==null&&Dr(an,e),Zr.forEach(t),el.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Rc(n),n.blockedOn===null&&tn.shift()}var ir=Vt.ReactCurrentBatchConfig,so=!0;function Pp(e,t,n,r){var l=ue,o=ir.transition;ir.transition=null;try{ue=1,Ri(e,t,n,r)}finally{ue=l,ir.transition=o}}function _p(e,t,n,r){var l=ue,o=ir.transition;ir.transition=null;try{ue=4,Ri(e,t,n,r)}finally{ue=l,ir.transition=o}}function Ri(e,t,n,r){if(so){var l=Hs(e,t,n,r);if(l===null)fs(e,t,r,io,n),Ua(e,r);else if(Ep(l,e,t,n,r))r.stopPropagation();else if(Ua(e,r),t&4&&-1<Tp.indexOf(e)){for(;l!==null;){var o=gl(l);if(o!==null&&Ic(o),o=Hs(e,t,n,r),o===null&&fs(e,t,r,io,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else fs(e,t,r,null,n)}}var io=null;function Hs(e,t,n,r){if(io=null,e=Ii(r),e=Tn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return io=e,null}function Oc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vp()){case Pi:return 1;case jc:return 4;case lo:case xp:return 16;case bc:return 536870912;default:return 16}default:return 16}}var rn=null,Oi=null,Vl=null;function Mc(){if(Vl)return Vl;var e,t=Oi,n=t.length,r,l="value"in rn?rn.value:rn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return Vl=l.slice(e,1<r?1-r:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Ba(){return!1}function it(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_l:Ba,this.isPropagationStopped=Ba,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=it(vr),hl=ve({},vr,{view:0,detail:0}),Dp=it(hl),rs,ls,Rr,Po=ve({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(rs=e.screenX-Rr.screenX,ls=e.screenY-Rr.screenY):ls=rs=0,Rr=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:ls}}),Ga=it(Po),Rp=ve({},Po,{dataTransfer:0}),Op=it(Rp),Mp=ve({},hl,{relatedTarget:0}),os=it(Mp),Ap=ve({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=it(Ap),zp=ve({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=it(zp),Up=ve({},vr,{data:0}),Ha=it(Up),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function Ai(){return Hp}var Wp=ve({},hl,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vp=it(Wp),Yp=ve({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=it(Yp),Qp=ve({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),qp=it(Qp),Jp=ve({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=it(Jp),Xp=ve({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=it(Xp),em=[9,13,27,32],Li=Bt&&"CompositionEvent"in window,Gr=null;Bt&&"documentMode"in document&&(Gr=document.documentMode);var tm=Bt&&"TextEvent"in window&&!Gr,Ac=Bt&&(!Li||Gr&&8<Gr&&11>=Gr),Va=" ",Ya=!1;function Lc(e,t){switch(e){case"keyup":return em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function nm(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Ya=!0,Va);case"textInput":return e=t.data,e===Va&&Ya?null:e;default:return null}}function rm(e,t){if(Qn)return e==="compositionend"||!Li&&Lc(e,t)?(e=Mc(),Vl=Oi=rn=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ac&&t.locale!=="ko"?null:t.data;default:return null}}var lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lm[e.type]:t==="textarea"}function Fc(e,t,n,r){gc(r),t=ao(t,"onChange"),0<t.length&&(n=new Mi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hr=null,nl=null;function om(e){Jc(e,0)}function _o(e){var t=Kn(e);if(uc(t))return e}function sm(e,t){if(e==="change")return t}var Uc=!1;if(Bt){var ss;if(Bt){var is="oninput"in document;if(!is){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),is=typeof qa.oninput=="function"}ss=is}else ss=!1;Uc=ss&&(!document.documentMode||9<document.documentMode)}function Ja(){Hr&&(Hr.detachEvent("onpropertychange",$c),nl=Hr=null)}function $c(e){if(e.propertyName==="value"&&_o(nl)){var t=[];Fc(t,nl,e,Ii(e)),wc(om,t)}}function im(e,t,n){e==="focusin"?(Ja(),Hr=t,nl=n,Hr.attachEvent("onpropertychange",$c)):e==="focusout"&&Ja()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(nl)}function um(e,t){if(e==="click")return _o(t)}function cm(e,t){if(e==="input"||e==="change")return _o(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:dm;function rl(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!bs.call(t,l)||!jt(e[l],t[l]))return!1}return!0}function Ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xa(e,t){var n=Ka(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ka(n)}}function Bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gc(){for(var e=window,t=to();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=to(e.document)}return t}function zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fm(e){var t=Gc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bc(n.ownerDocument.documentElement,n)){if(r!==null&&zi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Xa(n,o);var i=Xa(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pm=Bt&&"documentMode"in document&&11>=document.documentMode,qn=null,Ws=null,Wr=null,Vs=!1;function Za(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vs||qn==null||qn!==to(r)||(r=qn,"selectionStart"in r&&zi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&rl(Wr,r)||(Wr=r,r=ao(Ws,"onSelect"),0<r.length&&(t=new Mi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qn)))}function Dl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},as={},Hc={};Bt&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Do(e){if(as[e])return as[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hc)return as[e]=t[n];return e}var Wc=Do("animationend"),Vc=Do("animationiteration"),Yc=Do("animationstart"),Qc=Do("transitionend"),qc=new Map,eu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){qc.set(e,t),zn(t,[e])}for(var us=0;us<eu.length;us++){var cs=eu[us],mm=cs.toLowerCase(),hm=cs[0].toUpperCase()+cs.slice(1);yn(mm,"on"+hm)}yn(Wc,"onAnimationEnd");yn(Vc,"onAnimationIteration");yn(Yc,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Qc,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function tu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mp(r,t,void 0,e),e.currentTarget=null}function Jc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==o&&l.isPropagationStopped())break e;tu(l,a,d),o=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,d=a.currentTarget,a=a.listener,u!==o&&l.isPropagationStopped())break e;tu(l,a,d),o=u}}}if(ro)throw e=$s,ro=!1,$s=null,e}function fe(e,t){var n=t[Ks];n===void 0&&(n=t[Ks]=new Set);var r=e+"__bubble";n.has(r)||(Kc(t,e,2,!1),n.add(r))}function ds(e,t,n){var r=0;t&&(r|=4),Kc(n,e,r,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function ll(e){if(!e[Rl]){e[Rl]=!0,lc.forEach(function(n){n!=="selectionchange"&&(gm.has(n)||ds(n,!1,e),ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,ds("selectionchange",!1,t))}}function Kc(e,t,n,r){switch(Oc(t)){case 1:var l=Pp;break;case 4:l=_p;break;default:l=Ri}n=l.bind(null,t,n,e),l=void 0,!Us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function fs(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;a!==null;){if(i=Tn(a),i===null)return;if(u=i.tag,u===5||u===6){r=o=i;continue e}a=a.parentNode}}r=r.return}wc(function(){var d=o,x=Ii(n),h=[];e:{var g=qc.get(e);if(g!==void 0){var j=Mi,b=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":j=Vp;break;case"focusin":b="focus",j=os;break;case"focusout":b="blur",j=os;break;case"beforeblur":case"afterblur":j=os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=qp;break;case Wc:case Vc:case Yc:j=Lp;break;case Qc:j=Kp;break;case"scroll":j=Dp;break;case"wheel":j=Zp;break;case"copy":case"cut":case"paste":j=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Wa}var w=(t&4)!==0,O=!w&&e==="scroll",f=w?g!==null?g+"Capture":null:g;w=[];for(var c=d,m;c!==null;){m=c;var p=m.stateNode;if(m.tag===5&&p!==null&&(m=p,f!==null&&(p=Xr(c,f),p!=null&&w.push(ol(c,p,m)))),O)break;c=c.return}0<w.length&&(g=new j(g,b,null,n,x),h.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==zs&&(b=n.relatedTarget||n.fromElement)&&(Tn(b)||b[Gt]))break e;if((j||g)&&(g=x.window===x?x:(g=x.ownerDocument)?g.defaultView||g.parentWindow:window,j?(b=n.relatedTarget||n.toElement,j=d,b=b?Tn(b):null,b!==null&&(O=Fn(b),b!==O||b.tag!==5&&b.tag!==6)&&(b=null)):(j=null,b=d),j!==b)){if(w=Ga,p="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(w=Wa,p="onPointerLeave",f="onPointerEnter",c="pointer"),O=j==null?g:Kn(j),m=b==null?g:Kn(b),g=new w(p,c+"leave",j,n,x),g.target=O,g.relatedTarget=m,p=null,Tn(x)===d&&(w=new w(f,c+"enter",b,n,x),w.target=m,w.relatedTarget=O,p=w),O=p,j&&b)t:{for(w=j,f=b,c=0,m=w;m;m=Wn(m))c++;for(m=0,p=f;p;p=Wn(p))m++;for(;0<c-m;)w=Wn(w),c--;for(;0<m-c;)f=Wn(f),m--;for(;c--;){if(w===f||f!==null&&w===f.alternate)break t;w=Wn(w),f=Wn(f)}w=null}else w=null;j!==null&&nu(h,g,j,w,!1),b!==null&&O!==null&&nu(h,O,b,w,!0)}}e:{if(g=d?Kn(d):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var y=sm;else if(Qa(g))if(Uc)y=cm;else{y=am;var T=im}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(y=um);if(y&&(y=y(e,d))){Fc(h,y,n,x);break e}T&&T(e,g,d),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&Rs(g,"number",g.value)}switch(T=d?Kn(d):window,e){case"focusin":(Qa(T)||T.contentEditable==="true")&&(qn=T,Ws=d,Wr=null);break;case"focusout":Wr=Ws=qn=null;break;case"mousedown":Vs=!0;break;case"contextmenu":case"mouseup":case"dragend":Vs=!1,Za(h,n,x);break;case"selectionchange":if(pm)break;case"keydown":case"keyup":Za(h,n,x)}var _;if(Li)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Qn?Lc(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Ac&&n.locale!=="ko"&&(Qn||F!=="onCompositionStart"?F==="onCompositionEnd"&&Qn&&(_=Mc()):(rn=x,Oi="value"in rn?rn.value:rn.textContent,Qn=!0)),T=ao(d,F),0<T.length&&(F=new Ha(F,e,null,n,x),h.push({event:F,listeners:T}),_?F.data=_:(_=zc(n),_!==null&&(F.data=_)))),(_=tm?nm(e,n):rm(e,n))&&(d=ao(d,"onBeforeInput"),0<d.length&&(x=new Ha("onBeforeInput","beforeinput",null,n,x),h.push({event:x,listeners:d}),x.data=_))}Jc(h,t)})}function ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ao(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Xr(e,n),o!=null&&r.unshift(ol(e,o,l)),o=Xr(e,t),o!=null&&r.push(ol(e,o,l))),e=e.return}return r}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nu(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,l?(u=Xr(n,o),u!=null&&i.unshift(ol(n,u,a))):l||(u=Xr(n,o),u!=null&&i.push(ol(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ym=/\r\n?/g,vm=/\u0000|\uFFFD/g;function ru(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(vm,"")}function Ol(e,t,n){if(t=ru(t),ru(e)!==t&&n)throw Error(A(425))}function uo(){}var Ys=null,Qs=null;function qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Js=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,lu=typeof Promise=="function"?Promise:void 0,wm=typeof queueMicrotask=="function"?queueMicrotask:typeof lu<"u"?function(e){return lu.resolve(null).then(e).catch(km)}:Js;function km(e){setTimeout(function(){throw e})}function ps(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),tl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);tl(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ou(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+xr,sl="__reactProps$"+xr,Gt="__reactContainer$"+xr,Ks="__reactEvents$"+xr,Cm="__reactListeners$"+xr,Sm="__reactHandles$"+xr;function Tn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ou(e);e!==null;){if(n=e[Pt])return n;e=ou(e)}return t}e=n,n=e.parentNode}return null}function gl(e){return e=e[Pt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Ro(e){return e[sl]||null}var Xs=[],Xn=-1;function vn(e){return{current:e}}function pe(e){0>Xn||(e.current=Xs[Xn],Xs[Xn]=null,Xn--)}function de(e,t){Xn++,Xs[Xn]=e.current,e.current=t}var gn={},Be=vn(gn),Xe=vn(!1),Rn=gn;function dr(e,t){var n=e.type.contextTypes;if(!n)return gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ze(e){return e=e.childContextTypes,e!=null}function co(){pe(Xe),pe(Be)}function su(e,t,n){if(Be.current!==gn)throw Error(A(168));de(Be,t),de(Xe,n)}function Xc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(A(108,ip(e)||"Unknown",l));return ve({},n,r)}function fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Rn=Be.current,de(Be,e),de(Xe,Xe.current),!0}function iu(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Xc(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,pe(Xe),pe(Be),de(Be,e)):pe(Xe),de(Xe,n)}var zt=null,Oo=!1,ms=!1;function Zc(e){zt===null?zt=[e]:zt.push(e)}function Nm(e){Oo=!0,Zc(e)}function xn(){if(!ms&&zt!==null){ms=!0;var e=0,t=ue;try{var n=zt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Oo=!1}catch(l){throw zt!==null&&(zt=zt.slice(e+1)),Nc(Pi,xn),l}finally{ue=t,ms=!1}}return null}var Zn=[],er=0,po=null,mo=0,ct=[],dt=0,On=null,Ft=1,Ut="";function jn(e,t){Zn[er++]=mo,Zn[er++]=po,po=e,mo=t}function ed(e,t,n){ct[dt++]=Ft,ct[dt++]=Ut,ct[dt++]=On,On=e;var r=Ft;e=Ut;var l=32-St(r)-1;r&=~(1<<l),n+=1;var o=32-St(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Ft=1<<32-St(t)+l|n<<l|r,Ut=o+e}else Ft=1<<o|n<<l|r,Ut=e}function Fi(e){e.return!==null&&(jn(e,1),ed(e,1,0))}function Ui(e){for(;e===po;)po=Zn[--er],Zn[er]=null,mo=Zn[--er],Zn[er]=null;for(;e===On;)On=ct[--dt],ct[dt]=null,Ut=ct[--dt],ct[dt]=null,Ft=ct[--dt],ct[dt]=null}var lt=null,rt=null,me=!1,kt=null;function td(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function au(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,rt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Ft,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,rt=null,!0):!1;default:return!1}}function Zs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ei(e){if(me){var t=rt;if(t){var n=t;if(!au(e,t)){if(Zs(e))throw Error(A(418));t=un(n.nextSibling);var r=lt;t&&au(e,t)?td(r,n):(e.flags=e.flags&-4097|2,me=!1,lt=e)}}else{if(Zs(e))throw Error(A(418));e.flags=e.flags&-4097|2,me=!1,lt=e}}}function uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Ml(e){if(e!==lt)return!1;if(!me)return uu(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qs(e.type,e.memoizedProps)),t&&(t=rt)){if(Zs(e))throw nd(),Error(A(418));for(;t;)td(e,t),t=un(t.nextSibling)}if(uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=lt?un(e.stateNode.nextSibling):null;return!0}function nd(){for(var e=rt;e;)e=un(e.nextSibling)}function fr(){rt=lt=null,me=!1}function $i(e){kt===null?kt=[e]:kt.push(e)}var jm=Vt.ReactCurrentBatchConfig;function Or(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=l.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Al(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cu(e){var t=e._init;return t(e._payload)}function rd(e){function t(f,c){if(e){var m=f.deletions;m===null?(f.deletions=[c],f.flags|=16):m.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function l(f,c){return f=pn(f,c),f.index=0,f.sibling=null,f}function o(f,c,m){return f.index=m,e?(m=f.alternate,m!==null?(m=m.index,m<c?(f.flags|=2,c):m):(f.flags|=2,c)):(f.flags|=1048576,c)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,c,m,p){return c===null||c.tag!==6?(c=ks(m,f.mode,p),c.return=f,c):(c=l(c,m),c.return=f,c)}function u(f,c,m,p){var y=m.type;return y===Yn?x(f,c,m.props.children,p,m.key):c!==null&&(c.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Zt&&cu(y)===c.type)?(p=l(c,m.props),p.ref=Or(f,c,m),p.return=f,p):(p=eo(m.type,m.key,m.props,null,f.mode,p),p.ref=Or(f,c,m),p.return=f,p)}function d(f,c,m,p){return c===null||c.tag!==4||c.stateNode.containerInfo!==m.containerInfo||c.stateNode.implementation!==m.implementation?(c=Cs(m,f.mode,p),c.return=f,c):(c=l(c,m.children||[]),c.return=f,c)}function x(f,c,m,p,y){return c===null||c.tag!==7?(c=Dn(m,f.mode,p,y),c.return=f,c):(c=l(c,m),c.return=f,c)}function h(f,c,m){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ks(""+c,f.mode,m),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case jl:return m=eo(c.type,c.key,c.props,null,f.mode,m),m.ref=Or(f,null,c),m.return=f,m;case Vn:return c=Cs(c,f.mode,m),c.return=f,c;case Zt:var p=c._init;return h(f,p(c._payload),m)}if(zr(c)||Ir(c))return c=Dn(c,f.mode,m,null),c.return=f,c;Al(f,c)}return null}function g(f,c,m,p){var y=c!==null?c.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return y!==null?null:a(f,c,""+m,p);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case jl:return m.key===y?u(f,c,m,p):null;case Vn:return m.key===y?d(f,c,m,p):null;case Zt:return y=m._init,g(f,c,y(m._payload),p)}if(zr(m)||Ir(m))return y!==null?null:x(f,c,m,p,null);Al(f,m)}return null}function j(f,c,m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return f=f.get(m)||null,a(c,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case jl:return f=f.get(p.key===null?m:p.key)||null,u(c,f,p,y);case Vn:return f=f.get(p.key===null?m:p.key)||null,d(c,f,p,y);case Zt:var T=p._init;return j(f,c,m,T(p._payload),y)}if(zr(p)||Ir(p))return f=f.get(m)||null,x(c,f,p,y,null);Al(c,p)}return null}function b(f,c,m,p){for(var y=null,T=null,_=c,F=c=0,Y=null;_!==null&&F<m.length;F++){_.index>F?(Y=_,_=null):Y=_.sibling;var M=g(f,_,m[F],p);if(M===null){_===null&&(_=Y);break}e&&_&&M.alternate===null&&t(f,_),c=o(M,c,F),T===null?y=M:T.sibling=M,T=M,_=Y}if(F===m.length)return n(f,_),me&&jn(f,F),y;if(_===null){for(;F<m.length;F++)_=h(f,m[F],p),_!==null&&(c=o(_,c,F),T===null?y=_:T.sibling=_,T=_);return me&&jn(f,F),y}for(_=r(f,_);F<m.length;F++)Y=j(_,f,F,m[F],p),Y!==null&&(e&&Y.alternate!==null&&_.delete(Y.key===null?F:Y.key),c=o(Y,c,F),T===null?y=Y:T.sibling=Y,T=Y);return e&&_.forEach(function(K){return t(f,K)}),me&&jn(f,F),y}function w(f,c,m,p){var y=Ir(m);if(typeof y!="function")throw Error(A(150));if(m=y.call(m),m==null)throw Error(A(151));for(var T=y=null,_=c,F=c=0,Y=null,M=m.next();_!==null&&!M.done;F++,M=m.next()){_.index>F?(Y=_,_=null):Y=_.sibling;var K=g(f,_,M.value,p);if(K===null){_===null&&(_=Y);break}e&&_&&K.alternate===null&&t(f,_),c=o(K,c,F),T===null?y=K:T.sibling=K,T=K,_=Y}if(M.done)return n(f,_),me&&jn(f,F),y;if(_===null){for(;!M.done;F++,M=m.next())M=h(f,M.value,p),M!==null&&(c=o(M,c,F),T===null?y=M:T.sibling=M,T=M);return me&&jn(f,F),y}for(_=r(f,_);!M.done;F++,M=m.next())M=j(_,f,F,M.value,p),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?F:M.key),c=o(M,c,F),T===null?y=M:T.sibling=M,T=M);return e&&_.forEach(function($){return t(f,$)}),me&&jn(f,F),y}function O(f,c,m,p){if(typeof m=="object"&&m!==null&&m.type===Yn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case jl:e:{for(var y=m.key,T=c;T!==null;){if(T.key===y){if(y=m.type,y===Yn){if(T.tag===7){n(f,T.sibling),c=l(T,m.props.children),c.return=f,f=c;break e}}else if(T.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Zt&&cu(y)===T.type){n(f,T.sibling),c=l(T,m.props),c.ref=Or(f,T,m),c.return=f,f=c;break e}n(f,T);break}else t(f,T);T=T.sibling}m.type===Yn?(c=Dn(m.props.children,f.mode,p,m.key),c.return=f,f=c):(p=eo(m.type,m.key,m.props,null,f.mode,p),p.ref=Or(f,c,m),p.return=f,f=p)}return i(f);case Vn:e:{for(T=m.key;c!==null;){if(c.key===T)if(c.tag===4&&c.stateNode.containerInfo===m.containerInfo&&c.stateNode.implementation===m.implementation){n(f,c.sibling),c=l(c,m.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=Cs(m,f.mode,p),c.return=f,f=c}return i(f);case Zt:return T=m._init,O(f,c,T(m._payload),p)}if(zr(m))return b(f,c,m,p);if(Ir(m))return w(f,c,m,p);Al(f,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,c!==null&&c.tag===6?(n(f,c.sibling),c=l(c,m),c.return=f,f=c):(n(f,c),c=ks(m,f.mode,p),c.return=f,f=c),i(f)):n(f,c)}return O}var pr=rd(!0),ld=rd(!1),ho=vn(null),go=null,tr=null,Bi=null;function Gi(){Bi=tr=go=null}function Hi(e){var t=ho.current;pe(ho),e._currentValue=t}function ti(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ar(e,t){go=e,Bi=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Bi!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(go===null)throw Error(A(308));tr=e,go.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var En=null;function Wi(e){En===null?En=[e]:En.push(e)}function od(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Wi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Ht(e,n)}return l=r.interleaved,l===null?(t.next=t,Wi(r)):(t.next=l.next,l.next=t),r.interleaved=t,Ht(e,n)}function Ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_i(e,n)}}function du(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yo(e,t,n,r){var l=e.updateQueue;en=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,d=u.next;u.next=null,i===null?o=d:i.next=d,i=u;var x=e.alternate;x!==null&&(x=x.updateQueue,a=x.lastBaseUpdate,a!==i&&(a===null?x.firstBaseUpdate=d:a.next=d,x.lastBaseUpdate=u))}if(o!==null){var h=l.baseState;i=0,x=d=u=null,a=o;do{var g=a.lane,j=a.eventTime;if((r&g)===g){x!==null&&(x=x.next={eventTime:j,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,w=a;switch(g=t,j=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){h=b.call(j,h,g);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,g=typeof b=="function"?b.call(j,h,g):b,g==null)break e;h=ve({},h,g);break e;case 2:en=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else j={eventTime:j,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},x===null?(d=x=j,u=h):x=x.next=j,i|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(x===null&&(u=h),l.baseState=u,l.firstBaseUpdate=d,l.lastBaseUpdate=x,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);An|=i,e.lanes=i,e.memoizedState=h}}function fu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(A(191,l));l.call(r)}}}var yl={},Dt=vn(yl),il=vn(yl),al=vn(yl);function In(e){if(e===yl)throw Error(A(174));return e}function Yi(e,t){switch(de(al,t),de(il,e),de(Dt,yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ms(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ms(t,e)}pe(Dt),de(Dt,t)}function mr(){pe(Dt),pe(il),pe(al)}function id(e){In(al.current);var t=In(Dt.current),n=Ms(t,e.type);t!==n&&(de(il,e),de(Dt,n))}function Qi(e){il.current===e&&(pe(Dt),pe(il))}var ge=vn(0);function vo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hs=[];function qi(){for(var e=0;e<hs.length;e++)hs[e]._workInProgressVersionPrimary=null;hs.length=0}var ql=Vt.ReactCurrentDispatcher,gs=Vt.ReactCurrentBatchConfig,Mn=0,ye=null,je=null,Ie=null,xo=!1,Vr=!1,ul=0,bm=0;function Fe(){throw Error(A(321))}function Ji(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Ki(e,t,n,r,l,o){if(Mn=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ql.current=e===null||e.memoizedState===null?Pm:_m,e=n(r,l),Vr){o=0;do{if(Vr=!1,ul=0,25<=o)throw Error(A(301));o+=1,Ie=je=null,t.updateQueue=null,ql.current=Dm,e=n(r,l)}while(Vr)}if(ql.current=wo,t=je!==null&&je.next!==null,Mn=0,Ie=je=ye=null,xo=!1,t)throw Error(A(300));return e}function Xi(){var e=ul!==0;return ul=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ye.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function gt(){if(je===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ie===null?ye.memoizedState:Ie.next;if(t!==null)Ie=t,je=e;else{if(e===null)throw Error(A(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ie===null?ye.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function cl(e,t){return typeof t=="function"?t(e):t}function ys(e){var t=gt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=je,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var a=i=null,u=null,d=o;do{var x=d.lane;if((Mn&x)===x)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=h,i=r):u=u.next=h,ye.lanes|=x,An|=x}d=d.next}while(d!==null&&d!==o);u===null?i=r:u.next=a,jt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ye.lanes|=o,An|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vs(e){var t=gt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);jt(o,t.memoizedState)||(Ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ad(){}function ud(e,t){var n=ye,r=gt(),l=t(),o=!jt(r.memoizedState,l);if(o&&(r.memoizedState=l,Ke=!0),r=r.queue,Zi(fd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,dl(9,dd.bind(null,n,r,l,t),void 0,null),Pe===null)throw Error(A(349));Mn&30||cd(n,t,l)}return l}function cd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dd(e,t,n,r){t.value=n,t.getSnapshot=r,pd(t)&&md(e)}function fd(e,t,n){return n(function(){pd(t)&&md(e)})}function pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function md(e){var t=Ht(e,1);t!==null&&Nt(t,e,1,-1)}function pu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t.queue=e,e=e.dispatch=Im.bind(null,ye,e),[t.memoizedState,e]}function dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hd(){return gt().memoizedState}function Jl(e,t,n,r){var l=It();ye.flags|=e,l.memoizedState=dl(1|t,n,void 0,r===void 0?null:r)}function Mo(e,t,n,r){var l=gt();r=r===void 0?null:r;var o=void 0;if(je!==null){var i=je.memoizedState;if(o=i.destroy,r!==null&&Ji(r,i.deps)){l.memoizedState=dl(t,n,o,r);return}}ye.flags|=e,l.memoizedState=dl(1|t,n,o,r)}function mu(e,t){return Jl(8390656,8,e,t)}function Zi(e,t){return Mo(2048,8,e,t)}function gd(e,t){return Mo(4,2,e,t)}function yd(e,t){return Mo(4,4,e,t)}function vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xd(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4,4,vd.bind(null,t,e),n)}function ea(){}function wd(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ji(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kd(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ji(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cd(e,t,n){return Mn&21?(jt(n,t)||(n=Tc(),ye.lanes|=n,An|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Tm(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=gs.transition;gs.transition={};try{e(!1),t()}finally{ue=n,gs.transition=r}}function Sd(){return gt().memoizedState}function Em(e,t,n){var r=fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nd(e))jd(t,n);else if(n=od(e,t,n,r),n!==null){var l=Ve();Nt(n,e,r,l),bd(n,t,r)}}function Im(e,t,n){var r=fn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nd(e))jd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(l.hasEagerState=!0,l.eagerState=a,jt(a,i)){var u=t.interleaved;u===null?(l.next=l,Wi(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=od(e,t,l,r),n!==null&&(l=Ve(),Nt(n,e,r,l),bd(n,t,r))}}function Nd(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function jd(e,t){Vr=xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_i(e,n)}}var wo={readContext:ht,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Pm={readContext:ht,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:mu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jl(4194308,4,vd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jl(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Em.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:ea,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=Tm.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,l=It();if(me){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Pe===null)throw Error(A(349));Mn&30||cd(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,mu(fd.bind(null,r,o,e),[e]),r.flags|=2048,dl(9,dd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=It(),t=Pe.identifierPrefix;if(me){var n=Ut,r=Ft;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_m={readContext:ht,useCallback:wd,useContext:ht,useEffect:Zi,useImperativeHandle:xd,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:kd,useReducer:ys,useRef:hd,useState:function(){return ys(cl)},useDebugValue:ea,useDeferredValue:function(e){var t=gt();return Cd(t,je.memoizedState,e)},useTransition:function(){var e=ys(cl)[0],t=gt().memoizedState;return[e,t]},useMutableSource:ad,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1},Dm={readContext:ht,useCallback:wd,useContext:ht,useEffect:Zi,useImperativeHandle:xd,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:kd,useReducer:vs,useRef:hd,useState:function(){return vs(cl)},useDebugValue:ea,useDeferredValue:function(e){var t=gt();return je===null?t.memoizedState=e:Cd(t,je.memoizedState,e)},useTransition:function(){var e=vs(cl)[0],t=gt().memoizedState;return[e,t]},useMutableSource:ad,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ni(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ao={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),l=fn(e),o=$t(r,l);o.payload=t,n!=null&&(o.callback=n),t=cn(e,o,l),t!==null&&(Nt(t,e,l,r),Ql(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),l=fn(e),o=$t(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=cn(e,o,l),t!==null&&(Nt(t,e,l,r),Ql(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=fn(e),l=$t(n,r);l.tag=2,t!=null&&(l.callback=t),t=cn(e,l,r),t!==null&&(Nt(t,e,r,n),Ql(t,e,r))}};function hu(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!rl(n,r)||!rl(l,o):!0}function Td(e,t,n){var r=!1,l=gn,o=t.contextType;return typeof o=="object"&&o!==null?o=ht(o):(l=Ze(t)?Rn:Be.current,r=t.contextTypes,o=(r=r!=null)?dr(e,l):gn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ao,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function gu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function ri(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Vi(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=ht(o):(o=Ze(t)?Rn:Be.current,l.context=dr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ni(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ao.enqueueReplaceState(l,l.state,null),yo(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function hr(e,t){try{var n="",r=t;do n+=sp(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function xs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function li(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rm=typeof WeakMap=="function"?WeakMap:Map;function Ed(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Co||(Co=!0,mi=r),li(e,t)},n}function Id(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){li(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){li(e,t),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function yu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ym.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var Om=Vt.ReactCurrentOwner,Ke=!1;function We(e,t,n,r){t.child=e===null?ld(t,null,n,r):pr(t,e.child,n,r)}function wu(e,t,n,r,l){n=n.render;var o=t.ref;return ar(t,l),r=Ki(e,t,n,r,o,l),n=Xi(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(me&&n&&Fi(t),t.flags|=1,We(e,t,r,l),t.child)}function ku(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!aa(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Pd(e,t,o,r,l)):(e=eo(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(i,r)&&e.ref===t.ref)return Wt(e,t,l)}return t.flags|=1,e=pn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Pd(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(rl(o,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Wt(e,t,l)}return oi(e,t,n,r,l)}function _d(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(rr,nt),nt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(rr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(rr,nt),nt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(rr,nt),nt|=r;return We(e,t,l,n),t.child}function Dd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oi(e,t,n,r,l){var o=Ze(n)?Rn:Be.current;return o=dr(t,o),ar(t,l),n=Ki(e,t,n,r,o,l),r=Xi(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(me&&r&&Fi(t),t.flags|=1,We(e,t,n,l),t.child)}function Cu(e,t,n,r,l){if(Ze(n)){var o=!0;fo(t)}else o=!1;if(ar(t,l),t.stateNode===null)Kl(e,t),Td(t,n,r),ri(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=ht(d):(d=Ze(n)?Rn:Be.current,d=dr(t,d));var x=n.getDerivedStateFromProps,h=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==d)&&gu(t,i,r,d),en=!1;var g=t.memoizedState;i.state=g,yo(t,r,i,l),u=t.memoizedState,a!==r||g!==u||Xe.current||en?(typeof x=="function"&&(ni(t,n,x,r),u=t.memoizedState),(a=en||hu(t,n,a,r,g,u,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=d,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,sd(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:xt(t.type,a),i.props=d,h=t.pendingProps,g=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=ht(u):(u=Ze(n)?Rn:Be.current,u=dr(t,u));var j=n.getDerivedStateFromProps;(x=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||g!==u)&&gu(t,i,r,u),en=!1,g=t.memoizedState,i.state=g,yo(t,r,i,l);var b=t.memoizedState;a!==h||g!==b||Xe.current||en?(typeof j=="function"&&(ni(t,n,j,r),b=t.memoizedState),(d=en||hu(t,n,d,r,g,b,u)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=u,r=d):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return si(e,t,n,r,o,l)}function si(e,t,n,r,l,o){Dd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&iu(t,n,!1),Wt(e,t,o);r=t.stateNode,Om.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=pr(t,e.child,null,o),t.child=pr(t,null,a,o)):We(e,t,a,o),t.memoizedState=r.state,l&&iu(t,n,!0),t.child}function Rd(e){var t=e.stateNode;t.pendingContext?su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&su(e,t.context,!1),Yi(e,t.containerInfo)}function Su(e,t,n,r,l){return fr(),$i(l),t.flags|=256,We(e,t,n,r),t.child}var ii={dehydrated:null,treeContext:null,retryLane:0};function ai(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,t,n){var r=t.pendingProps,l=ge.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),de(ge,l&1),e===null)return ei(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Fo(i,r,0,null),e=Dn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ai(n),t.memoizedState=ii,e):ta(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Mm(e,t,i,r,a,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=pn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?o=pn(a,o):(o=Dn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?ai(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ii,r}return o=e.child,e=o.sibling,r=pn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ta(e,t){return t=Fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ll(e,t,n,r){return r!==null&&$i(r),pr(t,e.child,null,n),e=ta(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mm(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=xs(Error(A(422))),Ll(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Fo({mode:"visible",children:r.children},l,0,null),o=Dn(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&pr(t,e.child,null,i),t.child.memoizedState=ai(i),t.memoizedState=ii,o);if(!(t.mode&1))return Ll(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(A(419)),r=xs(o,r,void 0),Ll(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ke||a){if(r=Pe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Ht(e,l),Nt(r,e,l,-1))}return ia(),r=xs(Error(A(421))),Ll(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Qm.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,rt=un(l.nextSibling),lt=t,me=!0,kt=null,e!==null&&(ct[dt++]=Ft,ct[dt++]=Ut,ct[dt++]=On,Ft=e.id,Ut=e.overflow,On=t),t=ta(t,r.children),t.flags|=4096,t)}function Nu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ti(e.return,t,n)}function ws(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Md(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(We(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nu(e,n,t);else if(e.tag===19)Nu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ge,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&vo(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ws(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&vo(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ws(t,!0,n,null,o);break;case"together":ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Am(e,t,n){switch(t.tag){case 3:Rd(t),fr();break;case 5:id(t);break;case 1:Ze(t.type)&&fo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;de(ho,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Od(e,t,n):(de(ge,ge.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);de(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Md(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),de(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,_d(e,t,n)}return Wt(e,t,n)}var Ad,ui,Ld,zd;Ad=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ui=function(){};Ld=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,In(Dt.current);var o=null;switch(n){case"input":l=_s(e,l),r=_s(e,r),o=[];break;case"select":l=ve({},l,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":l=Os(e,l),r=Os(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uo)}As(n,r);var i;n=null;for(d in l)if(!r.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var a=l[d];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jr.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(a=l!=null?l[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jr.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&fe("scroll",e),o||a===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};zd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lm(e,t,n){var r=t.pendingProps;switch(Ui(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ze(t.type)&&co(),Ue(t),null;case 3:return r=t.stateNode,mr(),pe(Xe),pe(Be),qi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ml(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(yi(kt),kt=null))),ui(e,t),Ue(t),null;case 5:Qi(t);var l=In(al.current);if(n=t.type,e!==null&&t.stateNode!=null)Ld(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Ue(t),null}if(e=In(Dt.current),Ml(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Pt]=t,r[sl]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(l=0;l<Ur.length;l++)fe(Ur[l],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Ra(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Ma(r,o),fe("invalid",r)}As(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,a,e),l=["children",""+a]):Jr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":bl(r),Oa(r,o,!0);break;case"textarea":bl(r),Aa(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=uo)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Pt]=t,e[sl]=r,Ad(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ls(n,r),n){case"dialog":fe("cancel",e),fe("close",e),l=r;break;case"iframe":case"object":case"embed":fe("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ur.length;l++)fe(Ur[l],e);l=r;break;case"source":fe("error",e),l=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),l=r;break;case"details":fe("toggle",e),l=r;break;case"input":Ra(e,r),l=_s(e,r),fe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Ma(e,r),l=Os(e,r),fe("invalid",e);break;default:l=r}As(n,l),a=l;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?hc(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&pc(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Kr(e,u):typeof u=="number"&&Kr(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jr.hasOwnProperty(o)?u!=null&&o==="onScroll"&&fe("scroll",e):u!=null&&ji(e,o,u,i))}switch(n){case"input":bl(e),Oa(e,r,!1);break;case"textarea":bl(e),Aa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?lr(e,!!r.multiple,o,!1):r.defaultValue!=null&&lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)zd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=In(al.current),In(Dt.current),Ml(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(o=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Ue(t),null;case 13:if(pe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&rt!==null&&t.mode&1&&!(t.flags&128))nd(),fr(),t.flags|=98560,o=!1;else if(o=Ml(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Pt]=t}else fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else kt!==null&&(yi(kt),kt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?be===0&&(be=3):ia())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return mr(),ui(e,t),e===null&&ll(t.stateNode.containerInfo),Ue(t),null;case 10:return Hi(t.type._context),Ue(t),null;case 17:return Ze(t.type)&&co(),Ue(t),null;case 19:if(pe(ge),o=t.memoizedState,o===null)return Ue(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Mr(o,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=vo(e),i!==null){for(t.flags|=128,Mr(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>gr&&(t.flags|=128,r=!0,Mr(o,!1),t.lanes=4194304)}else{if(!r)if(e=vo(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!me)return Ue(t),null}else 2*we()-o.renderingStartTime>gr&&n!==1073741824&&(t.flags|=128,r=!0,Mr(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,n=ge.current,de(ge,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function zm(e,t){switch(Ui(t),t.tag){case 1:return Ze(t.type)&&co(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),pe(Xe),pe(Be),qi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qi(t),null;case 13:if(pe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ge),null;case 4:return mr(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var zl=!1,$e=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,G=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function ci(e,t,n){try{n()}catch(r){xe(e,t,r)}}var ju=!1;function Um(e,t){if(Ys=so,e=Gc(),zi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,d=0,x=0,h=e,g=null;t:for(;;){for(var j;h!==n||l!==0&&h.nodeType!==3||(a=i+l),h!==o||r!==0&&h.nodeType!==3||(u=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(j=h.firstChild)!==null;)g=h,h=j;for(;;){if(h===e)break t;if(g===n&&++d===l&&(a=i),g===o&&++x===r&&(u=i),(j=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=j}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qs={focusedElem:e,selectionRange:n},so=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,O=b.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:xt(t.type,w),O);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(p){xe(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=ju,ju=!1,b}function Yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ci(t,n,o)}l=l.next}while(l!==r)}}function Lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function di(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fd(e){var t=e.alternate;t!==null&&(e.alternate=null,Fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[sl],delete t[Ks],delete t[Cm],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ud(e){return e.tag===5||e.tag===3||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uo));else if(r!==4&&(e=e.child,e!==null))for(fi(e,t,n),e=e.sibling;e!==null;)fi(e,t,n),e=e.sibling}function pi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pi(e,t,n),e=e.sibling;e!==null;)pi(e,t,n),e=e.sibling}var _e=null,wt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)$d(e,t,n),n=n.sibling}function $d(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Io,n)}catch{}switch(n.tag){case 5:$e||nr(n,t);case 6:var r=_e,l=wt;_e=null,Xt(e,t,n),_e=r,wt=l,_e!==null&&(wt?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(wt?(e=_e,n=n.stateNode,e.nodeType===8?ps(e.parentNode,n):e.nodeType===1&&ps(e,n),tl(e)):ps(_e,n.stateNode));break;case 4:r=_e,l=wt,_e=n.stateNode.containerInfo,wt=!0,Xt(e,t,n),_e=r,wt=l;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ci(n,t,i),l=l.next}while(l!==r)}Xt(e,t,n);break;case 1:if(!$e&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,Xt(e,t,n),$e=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fm),t.forEach(function(r){var l=qm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,wt=!1;break e;case 3:_e=a.stateNode.containerInfo,wt=!0;break e;case 4:_e=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(_e===null)throw Error(A(160));$d(o,i,l),_e=null,wt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(d){xe(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Et(e),r&4){try{Yr(3,e,e.return),Lo(3,e)}catch(w){xe(e,e.return,w)}try{Yr(5,e,e.return)}catch(w){xe(e,e.return,w)}}break;case 1:vt(t,e),Et(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(vt(t,e),Et(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var l=e.stateNode;try{Kr(l,"")}catch(w){xe(e,e.return,w)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&cc(l,o),Ls(a,i);var d=Ls(a,o);for(i=0;i<u.length;i+=2){var x=u[i],h=u[i+1];x==="style"?hc(l,h):x==="dangerouslySetInnerHTML"?pc(l,h):x==="children"?Kr(l,h):ji(l,x,h,d)}switch(a){case"input":Ds(l,o);break;case"textarea":dc(l,o);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var j=o.value;j!=null?lr(l,!!o.multiple,j,!1):g!==!!o.multiple&&(o.defaultValue!=null?lr(l,!!o.multiple,o.defaultValue,!0):lr(l,!!o.multiple,o.multiple?[]:"",!1))}l[sl]=o}catch(w){xe(e,e.return,w)}}break;case 6:if(vt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(A(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(w){xe(e,e.return,w)}}break;case 3:if(vt(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(t.containerInfo)}catch(w){xe(e,e.return,w)}break;case 4:vt(t,e),Et(e);break;case 13:vt(t,e),Et(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(la=we())),r&4&&Tu(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?($e=(d=$e)||x,vt(t,e),$e=d):vt(t,e),Et(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(G=e,x=e.child;x!==null;){for(h=G=x;G!==null;){switch(g=G,j=g.child,g.tag){case 0:case 11:case 14:case 15:Yr(4,g,g.return);break;case 1:nr(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){xe(r,n,w)}}break;case 5:nr(g,g.return);break;case 22:if(g.memoizedState!==null){Iu(h);continue}}j!==null?(j.return=g,G=j):Iu(h)}x=x.sibling}e:for(x=null,h=e;;){if(h.tag===5){if(x===null){x=h;try{l=h.stateNode,d?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,u=h.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=mc("display",i))}catch(w){xe(e,e.return,w)}}}else if(h.tag===6){if(x===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){xe(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vt(t,e),Et(e),r&4&&Tu(e);break;case 21:break;default:vt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ud(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Kr(l,""),r.flags&=-33);var o=bu(e);pi(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=bu(e);fi(e,a,i);break;default:throw Error(A(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e,t,n){G=e,Gd(e)}function Gd(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var l=G,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||zl;if(!i){var a=l.alternate,u=a!==null&&a.memoizedState!==null||$e;a=zl;var d=$e;if(zl=i,($e=u)&&!d)for(G=l;G!==null;)i=G,u=i.child,i.tag===22&&i.memoizedState!==null?Pu(l):u!==null?(u.return=i,G=u):Pu(l);for(;o!==null;)G=o,Gd(o),o=o.sibling;G=l,zl=a,$e=d}Eu(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,G=o):Eu(e)}}function Eu(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&fu(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fu(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var h=x.dehydrated;h!==null&&tl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}$e||t.flags&512&&di(t)}catch(g){xe(t,t.return,g)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Iu(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Pu(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lo(4,t)}catch(u){xe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){xe(t,l,u)}}var o=t.return;try{di(t)}catch(u){xe(t,o,u)}break;case 5:var i=t.return;try{di(t)}catch(u){xe(t,i,u)}}}catch(u){xe(t,t.return,u)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var Bm=Math.ceil,ko=Vt.ReactCurrentDispatcher,na=Vt.ReactCurrentOwner,mt=Vt.ReactCurrentBatchConfig,se=0,Pe=null,Se=null,De=0,nt=0,rr=vn(0),be=0,fl=null,An=0,zo=0,ra=0,Qr=null,Je=null,la=0,gr=1/0,At=null,Co=!1,mi=null,dn=null,Fl=!1,ln=null,So=0,qr=0,hi=null,Xl=-1,Zl=0;function Ve(){return se&6?we():Xl!==-1?Xl:Xl=we()}function fn(e){return e.mode&1?se&2&&De!==0?De&-De:jm.transition!==null?(Zl===0&&(Zl=Tc()),Zl):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Oc(e.type)),e):1}function Nt(e,t,n,r){if(50<qr)throw qr=0,hi=null,Error(A(185));ml(e,n,r),(!(se&2)||e!==Pe)&&(e===Pe&&(!(se&2)&&(zo|=n),be===4&&nn(e,De)),et(e,r),n===1&&se===0&&!(t.mode&1)&&(gr=we()+500,Oo&&xn()))}function et(e,t){var n=e.callbackNode;jp(e,t);var r=oo(e,e===Pe?De:0);if(r===0)n!==null&&Fa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fa(n),t===1)e.tag===0?Nm(_u.bind(null,e)):Zc(_u.bind(null,e)),wm(function(){!(se&6)&&xn()}),n=null;else{switch(Ec(r)){case 1:n=Pi;break;case 4:n=jc;break;case 16:n=lo;break;case 536870912:n=bc;break;default:n=lo}n=Kd(n,Hd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hd(e,t){if(Xl=-1,Zl=0,se&6)throw Error(A(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var r=oo(e,e===Pe?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=No(e,r);else{t=r;var l=se;se|=2;var o=Vd();(Pe!==e||De!==t)&&(At=null,gr=we()+500,_n(e,t));do try{Wm();break}catch(a){Wd(e,a)}while(!0);Gi(),ko.current=o,se=l,Se!==null?t=0:(Pe=null,De=0,t=be)}if(t!==0){if(t===2&&(l=Bs(e),l!==0&&(r=l,t=gi(e,l))),t===1)throw n=fl,_n(e,0),nn(e,r),et(e,we()),n;if(t===6)nn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Gm(l)&&(t=No(e,r),t===2&&(o=Bs(e),o!==0&&(r=o,t=gi(e,o))),t===1))throw n=fl,_n(e,0),nn(e,r),et(e,we()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:bn(e,Je,At);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=la+500-we(),10<t)){if(oo(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Js(bn.bind(null,e,Je,At),t);break}bn(e,Je,At);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-St(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bm(r/1960))-r,10<r){e.timeoutHandle=Js(bn.bind(null,e,Je,At),r);break}bn(e,Je,At);break;case 5:bn(e,Je,At);break;default:throw Error(A(329))}}}return et(e,we()),e.callbackNode===n?Hd.bind(null,e):null}function gi(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=No(e,t),e!==2&&(t=Je,Je=n,t!==null&&yi(t)),e}function yi(e){Je===null?Je=e:Je.push.apply(Je,e)}function Gm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!jt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~ra,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(se&6)throw Error(A(327));ur();var t=oo(e,0);if(!(t&1))return et(e,we()),null;var n=No(e,t);if(e.tag!==0&&n===2){var r=Bs(e);r!==0&&(t=r,n=gi(e,r))}if(n===1)throw n=fl,_n(e,0),nn(e,t),et(e,we()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Je,At),et(e,we()),null}function oa(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(gr=we()+500,Oo&&xn())}}function Ln(e){ln!==null&&ln.tag===0&&!(se&6)&&ur();var t=se;se|=1;var n=mt.transition,r=ue;try{if(mt.transition=null,ue=1,e)return e()}finally{ue=r,mt.transition=n,se=t,!(se&6)&&xn()}}function sa(){nt=rr.current,pe(rr)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xm(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Ui(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&co();break;case 3:mr(),pe(Xe),pe(Be),qi();break;case 5:Qi(r);break;case 4:mr();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:Hi(r.type._context);break;case 22:case 23:sa()}n=n.return}if(Pe=e,Se=e=pn(e.current,null),De=nt=t,be=0,fl=null,ra=zo=An=0,Je=Qr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}En=null}return e}function Wd(e,t){do{var n=Se;try{if(Gi(),ql.current=wo,xo){for(var r=ye.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}xo=!1}if(Mn=0,Ie=je=ye=null,Vr=!1,ul=0,na.current=null,n===null||n.return===null){be=1,fl=t,Se=null;break}e:{var o=e,i=n.return,a=n,u=t;if(t=De,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,x=a,h=x.tag;if(!(x.mode&1)&&(h===0||h===11||h===15)){var g=x.alternate;g?(x.updateQueue=g.updateQueue,x.memoizedState=g.memoizedState,x.lanes=g.lanes):(x.updateQueue=null,x.memoizedState=null)}var j=vu(i);if(j!==null){j.flags&=-257,xu(j,i,a,o,t),j.mode&1&&yu(o,d,t),t=j,u=d;var b=t.updateQueue;if(b===null){var w=new Set;w.add(u),t.updateQueue=w}else b.add(u);break e}else{if(!(t&1)){yu(o,d,t),ia();break e}u=Error(A(426))}}else if(me&&a.mode&1){var O=vu(i);if(O!==null){!(O.flags&65536)&&(O.flags|=256),xu(O,i,a,o,t),$i(hr(u,a));break e}}o=u=hr(u,a),be!==4&&(be=2),Qr===null?Qr=[o]:Qr.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=Ed(o,u,t);du(o,f);break e;case 1:a=u;var c=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(dn===null||!dn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var p=Id(o,a,t);du(o,p);break e}}o=o.return}while(o!==null)}Qd(n)}catch(y){t=y,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Vd(){var e=ko.current;return ko.current=wo,e===null?wo:e}function ia(){(be===0||be===3||be===2)&&(be=4),Pe===null||!(An&268435455)&&!(zo&268435455)||nn(Pe,De)}function No(e,t){var n=se;se|=2;var r=Vd();(Pe!==e||De!==t)&&(At=null,_n(e,t));do try{Hm();break}catch(l){Wd(e,l)}while(!0);if(Gi(),se=n,ko.current=r,Se!==null)throw Error(A(261));return Pe=null,De=0,be}function Hm(){for(;Se!==null;)Yd(Se)}function Wm(){for(;Se!==null&&!gp();)Yd(Se)}function Yd(e){var t=Jd(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Qd(e):Se=t,na.current=null}function Qd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zm(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Se=null;return}}else if(n=Lm(n,t,nt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);be===0&&(be=5)}function bn(e,t,n){var r=ue,l=mt.transition;try{mt.transition=null,ue=1,Vm(e,t,n,r)}finally{mt.transition=l,ue=r}return null}function Vm(e,t,n,r){do ur();while(ln!==null);if(se&6)throw Error(A(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(bp(e,o),e===Pe&&(Se=Pe=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fl||(Fl=!0,Kd(lo,function(){return ur(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mt.transition,mt.transition=null;var i=ue;ue=1;var a=se;se|=4,na.current=null,Um(e,n),Bd(n,e),fm(Qs),so=!!Ys,Qs=Ys=null,e.current=n,$m(n),yp(),se=a,ue=i,mt.transition=o}else e.current=n;if(Fl&&(Fl=!1,ln=e,So=l),o=e.pendingLanes,o===0&&(dn=null),wp(n.stateNode),et(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Co)throw Co=!1,e=mi,mi=null,e;return So&1&&e.tag!==0&&ur(),o=e.pendingLanes,o&1?e===hi?qr++:(qr=0,hi=e):qr=0,xn(),null}function ur(){if(ln!==null){var e=Ec(So),t=mt.transition,n=ue;try{if(mt.transition=null,ue=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,So=0,se&6)throw Error(A(331));var l=se;for(se|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(G=d;G!==null;){var x=G;switch(x.tag){case 0:case 11:case 15:Yr(8,x,o)}var h=x.child;if(h!==null)h.return=x,G=h;else for(;G!==null;){x=G;var g=x.sibling,j=x.return;if(Fd(x),x===d){G=null;break}if(g!==null){g.return=j,G=g;break}G=j}}}var b=o.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var O=w.sibling;w.sibling=null,w=O}while(w!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yr(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,G=f;break e}G=o.return}}var c=e.current;for(G=c;G!==null;){i=G;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,G=m;else e:for(i=c;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lo(9,a)}}catch(y){xe(a,a.return,y)}if(a===i){G=null;break e}var p=a.sibling;if(p!==null){p.return=a.return,G=p;break e}G=a.return}}if(se=l,xn(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Io,e)}catch{}r=!0}return r}finally{ue=n,mt.transition=t}}return!1}function Du(e,t,n){t=hr(n,t),t=Ed(e,t,1),e=cn(e,t,1),t=Ve(),e!==null&&(ml(e,1,t),et(e,t))}function xe(e,t,n){if(e.tag===3)Du(e,e,n);else for(;t!==null;){if(t.tag===3){Du(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){e=hr(n,e),e=Id(t,e,1),t=cn(t,e,1),e=Ve(),t!==null&&(ml(t,1,e),et(t,e));break}}t=t.return}}function Ym(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(De&n)===n&&(be===4||be===3&&(De&130023424)===De&&500>we()-la?_n(e,0):ra|=n),et(e,t)}function qd(e,t){t===0&&(e.mode&1?(t=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):t=1);var n=Ve();e=Ht(e,t),e!==null&&(ml(e,t,n),et(e,n))}function Qm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qd(e,n)}function qm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),qd(e,n)}var Jd;Jd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,Am(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,me&&t.flags&1048576&&ed(t,mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kl(e,t),e=t.pendingProps;var l=dr(t,Be.current);ar(t,n),l=Ki(null,t,r,e,l,n);var o=Xi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(o=!0,fo(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Vi(t),l.updater=Ao,t.stateNode=l,l._reactInternals=t,ri(t,r,e,n),t=si(null,t,r,!0,o,n)):(t.tag=0,me&&o&&Fi(t),We(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Km(r),e=xt(r,e),l){case 0:t=oi(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=wu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,xt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xt(r,l),oi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xt(r,l),Cu(e,t,r,l,n);case 3:e:{if(Rd(t),e===null)throw Error(A(387));r=t.pendingProps,o=t.memoizedState,l=o.element,sd(e,t),yo(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=hr(Error(A(423)),t),t=Su(e,t,r,n,l);break e}else if(r!==l){l=hr(Error(A(424)),t),t=Su(e,t,r,n,l);break e}else for(rt=un(t.stateNode.containerInfo.firstChild),lt=t,me=!0,kt=null,n=ld(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fr(),r===l){t=Wt(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return id(t),e===null&&ei(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,qs(r,l)?i=null:o!==null&&qs(r,o)&&(t.flags|=32),Dd(e,t),We(e,t,i,n),t.child;case 6:return e===null&&ei(t),null;case 13:return Od(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xt(r,l),wu(e,t,r,l,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,de(ho,r._currentValue),r._currentValue=i,o!==null)if(jt(o.value,i)){if(o.children===l.children&&!Xe.current){t=Wt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=$t(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?u.next=u:(u.next=x.next,x.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ti(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(A(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ti(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}We(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ar(t,n),l=ht(l),r=r(l),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,l=xt(r,t.pendingProps),l=xt(r.type,l),ku(e,t,r,l,n);case 15:return Pd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xt(r,l),Kl(e,t),t.tag=1,Ze(r)?(e=!0,fo(t)):e=!1,ar(t,n),Td(t,r,l),ri(t,r,l,n),si(null,t,r,!0,e,n);case 19:return Md(e,t,n);case 22:return _d(e,t,n)}throw Error(A(156,t.tag))};function Kd(e,t){return Nc(e,t)}function Jm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new Jm(e,t,n,r)}function aa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Km(e){if(typeof e=="function")return aa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ti)return 11;if(e===Ei)return 14}return 2}function pn(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,l,o){var i=2;if(r=e,typeof e=="function")aa(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Yn:return Dn(n.children,l,o,t);case bi:i=8,l|=8;break;case Ts:return e=pt(12,n,t,l|2),e.elementType=Ts,e.lanes=o,e;case Es:return e=pt(13,n,t,l),e.elementType=Es,e.lanes=o,e;case Is:return e=pt(19,n,t,l),e.elementType=Is,e.lanes=o,e;case ic:return Fo(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oc:i=10;break e;case sc:i=9;break e;case Ti:i=11;break e;case Ei:i=14;break e;case Zt:i=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=pt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Dn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Fo(e,t,n,r){return e=pt(22,e,r,t),e.elementType=ic,e.lanes=n,e.stateNode={isHidden:!1},e}function ks(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Cs(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ua(e,t,n,r,l,o,i,a,u){return e=new Xm(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vi(o),e}function Zm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xd(e){if(!e)return gn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Xc(e,n,t)}return t}function Zd(e,t,n,r,l,o,i,a,u){return e=ua(n,r,!0,e,l,o,i,a,u),e.context=Xd(null),n=e.current,r=Ve(),l=fn(n),o=$t(r,l),o.callback=t??null,cn(n,o,l),e.current.lanes=l,ml(e,l,r),et(e,r),e}function Uo(e,t,n,r){var l=t.current,o=Ve(),i=fn(l);return n=Xd(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(l,t,i),e!==null&&(Nt(e,l,i,o),Ql(e,l,i)),i}function jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ca(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function eh(){return null}var ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function da(e){this._internalRoot=e}$o.prototype.render=da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Uo(e,t,null,null)};$o.prototype.unmount=da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Uo(null,e,null,null)}),t[Gt]=null}};function $o(e){this._internalRoot=e}$o.prototype.unstable_scheduleHydration=function(e){if(e){var t=_c();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&Rc(e)}};function fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ou(){}function th(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var d=jo(i);o.call(d)}}var i=Zd(t,r,e,0,null,!1,!1,"",Ou);return e._reactRootContainer=i,e[Gt]=i.current,ll(e.nodeType===8?e.parentNode:e),Ln(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var d=jo(u);a.call(d)}}var u=ua(e,0,!1,null,null,!1,!1,"",Ou);return e._reactRootContainer=u,e[Gt]=u.current,ll(e.nodeType===8?e.parentNode:e),Ln(function(){Uo(t,u,n,r)}),u}function Go(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var a=l;l=function(){var u=jo(i);a.call(u)}}Uo(t,i,e,l)}else i=th(n,t,e,l,r);return jo(i)}Ic=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fr(t.pendingLanes);n!==0&&(_i(t,n|1),et(t,we()),!(se&6)&&(gr=we()+500,xn()))}break;case 13:Ln(function(){var r=Ht(e,1);if(r!==null){var l=Ve();Nt(r,e,1,l)}}),ca(e,1)}};Di=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=Ve();Nt(t,e,134217728,n)}ca(e,134217728)}};Pc=function(e){if(e.tag===13){var t=fn(e),n=Ht(e,t);if(n!==null){var r=Ve();Nt(n,e,t,r)}ca(e,t)}};_c=function(){return ue};Dc=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Fs=function(e,t,n){switch(t){case"input":if(Ds(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ro(r);if(!l)throw Error(A(90));uc(r),Ds(r,l)}}}break;case"textarea":dc(e,n);break;case"select":t=n.value,t!=null&&lr(e,!!n.multiple,t,!1)}};vc=oa;xc=Ln;var nh={usingClientEntryPoint:!1,Events:[gl,Kn,Ro,gc,yc,oa]},Ar={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Io=Ul.inject(rh),_t=Ul}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nh;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fa(t))throw Error(A(200));return Zm(e,t,null,n)};st.createRoot=function(e,t){if(!fa(e))throw Error(A(299));var n=!1,r="",l=ef;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ua(e,1,!1,null,null,n,!1,r,l),e[Gt]=t.current,ll(e.nodeType===8?e.parentNode:e),new da(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Cc(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Ln(e)};st.hydrate=function(e,t,n){if(!Bo(t))throw Error(A(200));return Go(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!fa(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",i=ef;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Zd(t,null,e,1,n??null,l,!1,o,i),e[Gt]=t.current,ll(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new $o(t)};st.render=function(e,t,n){if(!Bo(t))throw Error(A(200));return Go(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(A(40));return e._reactRootContainer?(Ln(function(){Go(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};st.unstable_batchedUpdates=oa;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bo(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Go(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(e){console.error(e)}}tf(),tc.exports=st;var nf=tc.exports,Mu=nf;js.createRoot=Mu.createRoot,js.hydrateRoot=Mu.hydrateRoot;var ce=(e=>(e.SynchroTech="SynchroTech",e.Hoods="Hoods",e.Optimates="Optimates",e.Fusion="Fusion",e.Command="Command",e.Tokens="Tokens",e.Custom="Custom",e))(ce||{}),mn=(e=>(e.FreeForAll="FFA",e.TwoVTwo="2v2",e.ThreeVOne="3v1",e))(mn||{});const rf={[ce.SynchroTech]:{prefix:"SYN",color:"border-cyan-400"},[ce.Hoods]:{prefix:"HOO",color:"border-purple-500"},[ce.Optimates]:{prefix:"OPT",color:"border-red-500"},[ce.Fusion]:{prefix:"FUS",color:"border-green-400"},[ce.Command]:{prefix:"CMD",color:"border-yellow-500"},[ce.Tokens]:{prefix:"TKN",color:"border-gray-400"},[ce.Custom]:{prefix:"CUS",color:"border-purple-400"}},ft={blue:{bg:"bg-blue-500",border:"border-blue-500",outline:"outline-blue-500"},cyan:{bg:"bg-cyan-400",border:"border-cyan-400",outline:"outline-cyan-400"},red:{bg:"bg-red-500",border:"border-red-500",outline:"outline-red-500"},orange:{bg:"bg-orange-500",border:"border-orange-500",outline:"outline-orange-500"},green:{bg:"bg-green-500",border:"border-green-500",outline:"outline-green-500"},purple:{bg:"bg-purple-500",border:"border-purple-500",outline:"outline-purple-500"},pink:{bg:"bg-pink-400",border:"border-pink-400",outline:"outline-pink-400"},yellow:{bg:"bg-yellow-400",border:"border-yellow-400",outline:"outline-yellow-400"}},lf=Object.keys(ft),pa={Aim:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/Aim_dcct45.png",Exploit:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/Exploit_foomty.png",LastPlayed:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/LastPlayed_bfkbwb.png",Revealed:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478811/Revealed_w1gbe7.png",Shield:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/Shield_z9sjr1.png",Stun:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478811/Stun_cwqroz.png",Support:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478809/Support_ui9qpl.png",Threat:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478809/Threat_i1pbko.png"},bo={Aim:"This counter has no effect on its own, but it can modify the abilities of cards. This card is easier to destroy.",Exploit:"This counter has no effect on its own, but it can modify the abilities of cards. Hacker and Programmer cards will have a greater effect on this card.",LastPlayed:"This card was last played by its owner.",Revealed:"This card's face is visible to the owner of the counter revealed.",Shield:"If an effect attempts to destroy this card, remove 1 shield counter from it instead.",Stun:"If this card attempts to gain points, move, use an interpath, or use an activated or triggered ability, remove 1 stun counter from it instead.",Support:"This counter has no effect on its own, but it can modify the abilities of cards. This card is adjacent to its ally.",Threat:"This counter has no effect on its own, but it can modify the abilities of cards. This card is surrounded and pinned to the edge of the battlefield by an opponent's cards.","Power+":"Increases the power of the card by 1.","Power-":"Decreases the power of the card by 1."},lh=[{type:"Aim",label:"Aim"},{type:"Exploit",label:"Exploit"},{type:"Shield",label:"Shield"},{type:"Stun",label:"Stun"},{type:"Support",label:"Support"},{type:"Threat",label:"Threat"},{type:"Power+",label:"+P"},{type:"Power-",label:"-P"}],Ss=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},oh={1:"top-[59px] left-2",2:"top-[59px] right-2",3:"bottom-[3px] left-2",4:"bottom-[3px] right-2"},sh=e=>{const t={bold:["Support","support","Threat","threat","threaten","Act","Pas","Trg","Int","Exploit","exploits","Aim","Stun","Shield"],italic:[]},n=t.bold.map(o=>o.toLowerCase()),r=t.italic.map(o=>o.toLowerCase());return e.split(/(\s+|[.,:()])/).map((o,i)=>{if(!o)return null;const a=o.replace(/[.,:()]/g,"").toLowerCase();return a&&n.includes(a)?Pn.createElement("strong",{key:i,className:"text-white"},o):a&&r.includes(a)?Pn.createElement("em",{key:i,className:"text-gray-300 not-italic font-semibold"},o):o})},of=e=>e?e.split(`
`).map((t,n)=>{const r=[];return n>0&&r.push(Pn.createElement("br",{key:`br-${n}`})),r.push(...sh(t)),Pn.createElement(Pn.Fragment,{key:n},...r.filter(Boolean))}):"",ma=({x:e,y:t,children:n})=>{const r=C.useRef(null),[l,o]=C.useState({top:t+20,left:e+20});return C.useLayoutEffect(()=>{if(r.current){const{innerWidth:i,innerHeight:a}=window,{offsetWidth:u,offsetHeight:d}=r.current;let x=e+20;x+u>i&&(x=e-u-20),x<5&&(x=5);let h=t+20;h+d>a&&(h=t-d-20),h<5&&(h=5),o({top:h,left:x})}},[e,t,n]),nf.createPortal(s.jsx("div",{ref:r,className:"fixed bg-gray-900 border border-gray-700 rounded-md shadow-lg z-[99999] p-3 text-white text-base pointer-events-none transition-opacity duration-100",style:{top:l.top,left:l.left,opacity:1},children:n}),document.body)},Ho=({card:e,statusDescriptions:t,className:n,hideOwner:r=!1,powerPosition:l="default"})=>{var c;const o=(c=e.types)!=null&&c.length?e.types.join(", "):e.deck==="counter"?"":`${e.deck} Card`,i=e.powerModifier||0,a=Math.max(0,e.power+i),u=(e.statuses??[]).reduce((m,p)=>(m[p.type]=(m[p.type]||0)+1,m),{}),d=Object.keys(u).length>0,x=e.ownerName||(e.ownerId?`Player ${e.ownerId}`:null);let h="bg-gray-700 border-gray-500",g="text-white";i>0?(h="bg-green-900 border-green-500",g="text-green-400"):i<0&&(h="bg-red-900 border-red-500",g="text-red-400");const j=e.ability?e.ability.length:0,b=d?Object.keys(u).length*10:0,w=j>35||b>35,O=n||"relative flex flex-col text-left w-max max-w-[90vw]",f=l==="inner"?"top-0.5 right-0.5":"-top-1 -right-1";return s.jsxs("div",{className:O,children:[e.power>0&&s.jsx("div",{className:`absolute ${f} w-[37px] h-[37px] flex items-center justify-center rounded border-2 ${h} shadow-sm z-10`,children:s.jsx("span",{className:`font-bold text-lg ${g}`,children:a})}),s.jsxs("div",{className:"mb-1 pr-8 whitespace-nowrap",children:[s.jsx("div",{className:"font-bold text-white text-lg leading-tight mb-0.5",children:e.name}),o&&s.jsx("div",{className:"text-xs text-gray-400 font-semibold",children:o})]}),s.jsxs("div",{className:`flex flex-col ${!n&&w?"w-[16rem]":"w-full"} whitespace-normal break-words`,children:[e.ability&&s.jsx("hr",{className:"border-gray-600 mt-[0px] mb-[2px]"}),e.ability&&s.jsx("div",{className:"text-sm text-gray-200 leading-snug",children:of(e.ability)}),e.ability&&s.jsx("hr",{className:"border-gray-600 my-[4px]"}),d&&s.jsx("div",{className:"text-xs text-gray-200 leading-snug",children:Object.entries(u).map(([m,p],y,T)=>s.jsxs("span",{children:[s.jsx("span",{className:"font-bold text-indigo-300",children:m}),p>1&&s.jsxs("span",{className:"text-gray-400 ml-1",children:["(x",p,")"]}),y<T.length-1?s.jsx("span",{className:"text-gray-400 mr-1",children:", "}):""]},m))}),d&&x&&!r&&s.jsx("hr",{className:"border-gray-600 my-[2px]"}),x&&!r&&s.jsxs("div",{className:"text-xs text-gray-500 font-semibold",children:["Owner: ",s.jsx("span",{className:"text-gray-300",children:x})]})]})]})},Ct=({card:e,isFaceUp:t,playerColorMap:n,localPlayerId:r,imageRefreshVersion:l,disableTooltip:o,smallStatusIcons:i})=>{const[a,u]=C.useState(!1),[d,x]=C.useState({x:0,y:0}),h=C.useRef(null),[g,j]=C.useState(e.imageUrl);C.useEffect(()=>{let M=e.imageUrl;if(l&&M){const K=M.includes("?")?"&":"?";M=`${M}${K}v=${l}`}j(M)},[e.imageUrl,l]);const b=()=>{let M=e.fallbackImage;if(l&&M){const K=M.includes("?")?"&":"?";M=`${M}${K}v=${l}`}g!==M&&j(M)},w=M=>{o||(x({x:M.clientX,y:M.clientY}),!a&&!h.current&&(h.current=window.setTimeout(()=>{u(!0)},250)))},O=()=>{o||(h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{u(!0)},250))},f=()=>{h.current&&(clearTimeout(h.current),h.current=null),u(!1)},c=()=>{h.current&&(clearTimeout(h.current),h.current=null),u(!1)},m=(e.statuses??[]).reduce((M,K)=>{const $=`${K.type}_${K.addedByPlayerId}`;return M[$]||(M[$]={type:K.type,playerId:K.addedByPlayerId,count:0}),M[$].count++,M},{}),p=({type:M,playerId:K,count:$})=>{const ie=n.get(K),L=ie?ft[ie].bg:"bg-gray-500";let U=pa[M];if(U&&l){const oe=U.includes("?")?"&":"?";U=`${U}${oe}v=${l}`}const H=["Support","Threat","Revealed","LastPlayed"].includes(M),X=!H&&$>1,R=X?"p-1.5":"p-1",z=i?"w-6 h-6":"w-8 h-8",q=i?X?"text-xs":"text-base":X?"text-base":"text-lg",ne=i?"text-[10px]":"text-xs";return s.jsxs("div",{className:`relative ${z} flex items-center justify-center ${L} bg-opacity-80 rounded-sm shadow-md flex-shrink-0`,title:`${M} (Player ${K}) ${!H&&$>0?`x${$}`:""}`,children:[U?s.jsx("img",{src:U,alt:M,className:`object-contain w-full h-full transition-all duration-150 ${R}`}):s.jsx("span",{className:`text-white font-black transition-all duration-150 ${q}`,style:{textShadow:"0 0 2px black"},children:M.charAt(0)}),X&&s.jsx("span",{className:`absolute top-0 right-0.5 text-white font-bold ${ne} leading-none`,style:{textShadow:"1px 1px 2px black"},children:$})]})};if(e.deck==="counter")return s.jsx("div",{title:e.name,className:`w-full h-full ${e.color} shadow-md`,style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}});const y=e.ownerId?n.get(e.ownerId):null,T=Object.values(m).sort((M,K)=>M.type!==K.type?M.type.localeCompare(K.type):M.playerId-K.playerId),_=e.powerModifier||0,F=Math.max(0,e.power+_);let Y="text-white";return _>0?Y="text-green-400":_<0&&(Y="text-red-500"),s.jsxs(s.Fragment,{children:[t?(()=>{var R;const M=y?ft[y].border:((R=rf[e.deck])==null?void 0:R.color)||"border-gray-300",K=e.deck===ce.Tokens?e.color:"bg-card-face",$=(e.deck===ce.Tokens,"text-black"),ie=["Support","Shield"],L=T.filter(z=>ie.includes(z.type)),U=T.filter(z=>!ie.includes(z.type)&&z.type!=="LastPlayed"),H=T.find(z=>z.type==="LastPlayed"),X=H?[H,...L]:L;return s.jsxs("div",{onMouseEnter:O,onMouseLeave:f,onMouseMove:w,onMouseDown:c,className:`relative w-full h-full ${K} rounded-md shadow-md border-4 ${M} ${$} flex-shrink-0 select-none overflow-hidden`,children:[g?s.jsx("img",{src:g,onError:b,alt:e.name,className:"absolute inset-0 w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full p-1 flex items-center justify-center",children:s.jsx("span",{className:"text-center text-sm font-bold",children:e.name})}),T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-[3px] left-[3px] right-[3px] flex flex-row-reverse flex-wrap justify-start items-start z-10 pointer-events-none",children:U.map(z=>s.jsx(p,{type:z.type,playerId:z.playerId,count:z.count},`${z.type}_${z.playerId}`))}),s.jsx("div",{className:"absolute bottom-[3px] left-[3px] right-[30px] flex flex-wrap-reverse content-start items-end z-10 pointer-events-none",children:X.map(z=>s.jsx(p,{type:z.type,playerId:z.playerId,count:z.count},`${z.type}_${z.playerId}`))})]}),e.power>0&&s.jsx("div",{className:`absolute bottom-[5px] right-[5px] w-8 h-8 rounded-full ${y?ft[y].bg:"bg-gray-600"} border-[3px] border-white flex items-center justify-center z-20 shadow-md`,children:s.jsx("span",{className:`${Y} font-bold text-lg leading-none`,style:{textShadow:"0 0 2px black"},children:F})})]})})():(()=>{const M=y?ft[y].bg:"bg-card-back",K=y?ft[y].border:"border-blue-300",$=T.find(ie=>ie.type==="LastPlayed");return s.jsx("div",{onMouseEnter:O,onMouseLeave:f,onMouseMove:w,onMouseDown:c,className:`relative w-full h-full ${M} rounded-md shadow-md border-2 ${K} flex-shrink-0`,children:$&&s.jsx("div",{className:"absolute bottom-[3px] left-[3px] pointer-events-none",children:s.jsx(p,{type:$.type,playerId:$.playerId,count:$.count})})})})(),a&&t&&!o&&s.jsx(ma,{x:d.x,y:d.y,children:s.jsx(Ho,{card:e})})]})},ih=({row:e,col:t,cell:n,isGameStarted:r,handleDrop:l,draggedItem:o,setDraggedItem:i,openContextMenu:a,playMode:u,setPlayMode:d,playerColorMap:x,localPlayerId:h,onCardDoubleClick:g,onEmptyCellDoubleClick:j,imageRefreshVersion:b,cursorStack:w,setCursorStack:O})=>{const[f,c]=Pn.useState(!1),m=U=>{U.preventDefault(),o&&l(o,{target:"board",boardCoords:{row:e,col:t}}),c(!1)},p=()=>{if(u){const U={...u.sourceItem,card:{...u.sourceItem.card}};U.card.isFaceDown=!!u.faceDown,l(U,{target:"board",boardCoords:{row:e,col:t}}),d(null)}else w&&n.card&&(l({card:{id:"stack",deck:"counter",name:"",imageUrl:"",fallbackImage:"",power:0,ability:""},source:"counter_panel",statusType:w.type,count:w.count},{target:"board",boardCoords:{row:e,col:t}}),O(null))},y=U=>{U.preventDefault();const H=(o==null?void 0:o.source)==="counter_panel";(!n.card||n.card&&H)&&c(!0)},T=()=>{c(!1)},_=!!u,F=!!w,Y=!!n.card,M="w-full h-full rounded-lg transition-colors duration-200 flex items-center justify-center",K=!!o&&(!Y||Y&&o.source==="counter_panel"),L=`bg-board-cell-active ${f&&K?"bg-indigo-400 opacity-80":""} ${_&&!Y?"cursor-pointer ring-2 ring-green-400":""} ${F&&Y?"cursor-pointer ring-2 ring-yellow-400":""} ${_&&Y?"cursor-not-allowed":""}`;return s.jsx("div",{onDrop:m,onDragOver:y,onDragLeave:T,onClick:p,onContextMenu:U=>{n.card||a(U,"emptyBoardCell",{boardCoords:{row:e,col:t}})},onDoubleClick:()=>{n.card||j({row:e,col:t})},className:`${M} ${L}`,"data-interactive":!n.card,children:n.card&&s.jsx("div",{draggable:r,onDragStart:()=>i({card:n.card,source:"board",boardCoords:{row:e,col:t}}),onDragEnd:()=>i(null),onContextMenu:U=>a(U,"boardItem",{card:n.card,boardCoords:{row:e,col:t}}),onDoubleClick:U=>{U.stopPropagation(),w?p():g(n.card,{row:e,col:t})},className:`w-full h-full ${r?"cursor-grab":"cursor-default"}`,"data-interactive":"true",children:s.jsx(Ct,{card:n.card,isFaceUp:(()=>{var z;const U=n.card;if(!U)return!1;const H=U.revealedTo==="all",X=h!==null&&Array.isArray(U.revealedTo)&&U.revealedTo.includes(h),R=h!==null&&((z=U.statuses)==null?void 0:z.some(q=>q.type==="Revealed"&&q.addedByPlayerId===h));return!U.isFaceDown||H||X||R})(),playerColorMap:x,localPlayerId:h,imageRefreshVersion:b})})})},Au={4:"grid-cols-4 grid-rows-4",5:"grid-cols-5 grid-rows-5",6:"grid-cols-6 grid-rows-6",7:"grid-cols-7 grid-rows-7"},Lu=({board:e,isGameStarted:t,activeGridSize:n,handleDrop:r,draggedItem:l,setDraggedItem:o,openContextMenu:i,playMode:a,setPlayMode:u,highlight:d,playerColorMap:x,localPlayerId:h,onCardDoubleClick:g,onEmptyCellDoubleClick:j,imageRefreshVersion:b,cursorStack:w,setCursorStack:O})=>{const f=e.length,c=Math.floor((f-n)/2),m=e.slice(c,c+n).map(y=>y.slice(c,c+n)),p=()=>{if(!d)return null;const{type:y,row:T,col:_,playerId:F}=d,Y=x.get(F),K=`outline outline-[8px] ${Y?ft[Y].outline:"outline-yellow-400"} rounded-lg`;if(y==="row"&&T!==void 0&&T>=c&&T<c+n){const $=T-c+1;return s.jsx("div",{className:K,style:{gridArea:`${$} / 1 / ${$+1} / ${n+1}`}})}if(y==="col"&&_!==void 0&&_>=c&&_<c+n){const $=_-c+1;return s.jsx("div",{className:K,style:{gridArea:`1 / ${$} / ${n+1} / ${$+1}`}})}if(y==="cell"&&T!==void 0&&_!==void 0&&T>=c&&T<c+n&&_>=c&&_<c+n){const $=T-c+1,ie=_-c+1;return s.jsx("div",{className:K,style:{gridArea:`${$} / ${ie} / ${$+1} / ${ie+1}`}})}return null};return s.jsxs("div",{className:`relative p-2 bg-board-bg rounded-xl shadow-2xl h-full aspect-square transition-all duration-300 ${a?"ring-4 ring-green-500 shadow-green-500/50":""} ${w?"ring-4 ring-yellow-500 shadow-yellow-500/50":""}`,children:[s.jsx("div",{className:`grid ${Au[n]} gap-0.5 h-full w-full`,children:m.map((y,T)=>y.map((_,F)=>{const Y=T+c,M=F+c;return s.jsx(ih,{row:Y,col:M,cell:_,isGameStarted:t,handleDrop:r,draggedItem:l,setDraggedItem:o,openContextMenu:i,playMode:a,setPlayMode:u,playerColorMap:x,localPlayerId:h,onCardDoubleClick:g,onEmptyCellDoubleClick:j,imageRefreshVersion:b,cursorStack:w,setCursorStack:O},`${Y}-${M}`)}))}),d&&s.jsx("div",{className:`absolute top-2 right-2 bottom-2 left-2 grid ${Au[n]} gap-0.5 pointer-events-none z-20`,children:s.jsx(p,{})})]})},ah={ipDeptAgent:{name:"IP Dept Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253319/SYN_IP_DEPT_AGENT_mhwphu.png",fallbackImage:"/images/cards/SYN_IP_DEPT_AGENT.png",power:2,ability:"Act: Place 1 Stun counter on each of your opponent's cards that your cards threaten.",flavorText:`- "You've violated copyright. Open the door. We have a search warrant."`,types:["Unit","SynchroTech"]},tacticalAgent:{name:"Tactical Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253342/SYN_TACTICAL_AGENT_xbb7i0.png",fallbackImage:"/images/cards/SYN_TACTICAL_AGENT.png",power:3,ability:"Act: Destroy a card on the battlefield if it has a aim or threat.",flavorText:'- "Nobody move! SynchroTech Security Service!"',types:["Unit","SynchroTech"]},patrolAgent:{name:"Patrol Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253325/SYN_PATROL_AGENT_ioetlu.png",fallbackImage:"/images/cards/SYN_PATROL_AGENT.png",power:2,ability:"Trg: When this card gives points, you may move it to any free cell.",flavorText:"They say the city never sleeps. We make sure it doesn't even blink.",types:["Unit","SynchroTech"]},riotAgent:{name:"Riot Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253337/SYN_RIOT_AGENT_jurf4t.png",fallbackImage:"/images/cards/SYN_RIOT_AGENT.png",power:3,ability:`Support  Act: Place 1 stun on adjacent card. 
Act: Push an adjacent card 1 cell. ay take its place.`,flavorText:'- "Citizens, disperse! This meeting is unauthorized by SynchroTech."',types:["Unit","SynchroTech"]},threatAnalyst:{name:"Threat Analyst",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253338/SYN_THREAT_ANALYST_sqnpgw.png",fallbackImage:"/images/cards/SYN_THREAT_ANALYST.png",power:2,ability:`Exploit. Act: Each opponent reveals cards for each of your Exploits. 
Support  Pas: Your exploit = threat.`,flavorText:"",types:["Unit","SynchroTech"]},recklessProvocateur:{name:"Reckless Provocateur",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253315/HOO_RECKLESS_PROVOCATEUR_hi7a9z.png",fallbackImage:"/images/cards/HOO_RECKLESS_PROVOCATEUR.png",power:3,ability:`Int: From hand swap with another of your cards. 
1 stun on an adjacent card with a threat.`,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"]},dataLiberator:{name:"Data Liberator",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253317/HOO_DATA_LIBERATOR_lbtqa2.png",fallbackImage:"/images/cards/HOO_DATA_LIBERATOR.png",power:2,ability:`Pas: Cards with your exploit counters give you points.
Support  Exploit.`,flavorText:`- "Information doesn't want to be free. It needs to be."`,types:["Unit","Hoods"]},cautiousAvenger:{name:"Cautious Avenger",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253309/HOO_CAUTIOUS_AVENGER_x4g4g3.png",fallbackImage:"/images/cards/HOO_CAUTIOUS_AVENGER.png",power:2,ability:`Act: Destroy a card on the battlefield if it has a aim and no support. 
Support  Aim.`,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"]},vigilantSpotter:{name:"Vigilant Spotter",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253311/HOO_VIGILANT_SPOTTER_eiephm.png",fallbackImage:"/images/cards/HOO_VIGILANT_SPOTTER.png",power:1,ability:`Act: Each opponent reveals 1 cards to you. 
Support  Act: Gain points equal to the highest power of a revealed opponent unit.. `,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"]},inventiveMaker:{name:"Inventive Maker",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253313/HOO_INVENTIVE_MAKER_uzrbg1.png",fallbackImage:"/images/cards/HOO_INVENTIVE_MAKER.png",power:1,ability:"Act: Place the Recon Drone token in a free adjacent cell.",flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"]},faber:{name:"Faber",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253324/OPT_FABER_d7uxew.png",fallbackImage:"/images/cards/OPT_FABER.png",power:1,ability:"Act: Place the Walking Turret card in a free adjacent cell.",flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"]},censor:{name:"Censor",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253321/OPT_CENSOR_wtxtc2.png",fallbackImage:"/images/cards/OPT_CENSOR.png",power:2,ability:`Act: Exploit for any card with a threat.
Swap any exploit for stun or aim.`,flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"]},princeps:{name:"Princeps",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253332/OPT_PRINCEPS_w3o5lq.png",fallbackImage:"/images/cards/OPT_PRINCEPS.png",power:3,ability:`Act: Destroy a card in a row if it has a target or threat. 
Support  Shield 1.`,flavorText:"Order is not requested. It is imposed.",types:["Unit","Optimates"]},immunis:{name:"Immunis",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253327/OPT_IMMUNIS_bjlncl.png",fallbackImage:"/images/cards/OPT_IMMUNIS.png",power:2,ability:"Act: Return Optimat from the discard pile to the adjacent cell. Activate his ability and he gets 2 stuns.",flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"]},centurion:{name:"Centurion",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253330/OPT_CENTURION_aaushl.png",fallbackImage:"/images/cards/OPT_CENTURION.png",power:2,ability:"Trg: When you play a command, get 1 point for each card you have in the same row as that card.",flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"]},codeKeeper:{name:"Code Keeper",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253298/FUS_CODE_KEEPER_qotsym.png",fallbackImage:"/images/cards/FUS_CODE_KEEPER.png",power:3,ability:"Act: Exploit each opponent's cards with a threat in the same row as that card.",flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"]},devoutSynthetic:{name:"Devout Synthetic",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253305/FUS_DEVOUT_SYNTHETIC_bavg9k.png",fallbackImage:"/images/cards/FUS_DEVOUT_SYNTHETIC.png",power:4,ability:`Act: Push an adjacent card 1 cell. May take its place.
Support  Destroy.`,flavorText:"Flesh is a bug. The Signal is the patch.",types:["Unit","Fusion"]},unwaveringIntegrator:{name:"Unwavering Integrator",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253303/FUS_UNWAVERING_INTEGRATOR_emret1.png",fallbackImage:"/images/cards/FUS_UNWAVERING_INTEGRATOR.png",power:2,ability:`Support  Exploit.
Act: Gain 1 point for each of your exploit counter.`,flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"]},signalProphet:{name:"Signal Prophet",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253299/FUS_SIGNAL_PROPHET_nzd7w3.png",fallbackImage:"/images/cards/FUS_SIGNAL_PROPHET.png",power:3,ability:`Act: Exploit on every card you have with a support in the same row as that card.
Support  Exploit.`,flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"]},zealousMissionary:{name:"Zealous Missionary",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253301/FUS_ZEALOUS_MISSIONARY_mfv9xl.png",fallbackImage:"/images/cards/FUS_ZEALOUS_MISSIONARY.png",power:2,ability:"Pas: Cards with your exploit counter provide support to your cards and cannot pose a threat to them.",flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"]},overwatch:{name:"Overwatch",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253291/CMD_OVERWATCH_hrba9x.png",fallbackImage:"/images/cards/CMD_OVERWATCH.png",power:0,ability:`Aim. Reveal one card from any opponent for each aim token you own. 
Take X cards, where X is the highest power of the revealed cards.`,types:["Command"]},repositioning:{name:"Tactical Maneuver",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253296/CMD_REPOSITIONING_m7k4kf.png",fallbackImage:"/images/cards/CMD_REPOSITIONING.png",power:0,ability:`Move your card to a free cell in the row. 
If the card moved to support, then take 2 cards.`,types:["Command"]},mobilization:{name:"Mobilization",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253294/CMD_MOBILIZATION_lkelbw.png",fallbackImage:"/images/cards/CMD_MOBILIZATION.png",power:0,ability:`Gain points in any diagonal. 
For each support in the diagonal, get 1 point and draw 1 card.`,types:["Command"]},inspiration:{name:"Inspiration",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763260942/CMD_INSPIRATION_nxifhu.png",fallbackImage:"/images/cards/CMD_INSPIRATION.png",power:0,ability:`Remove any opponent's counters from your card. This card uses its ability. 
If you removed at least 2 counters, take 2 cards.`,types:["Command"]},dataInterception:{name:"Data Interception",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253290/CMD_DATA_INTERCEPTION_ks4lcv.png",fallbackImage:"/images/cards/CMD_DATA_INTERCEPTION.png",power:0,ability:`Exploit. Reveal one card from any opponent for each exploit token you own. 
If at least one command card is revealed, draw 2 cards.`,types:["Command"]}},uh={reconDrone:{name:"Recon Drone",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253333/TKN_RECON_DRONE_esfknf.png",fallbackImage:"/images/cards/TKN_RECON_DRONE.png",power:1,ability:`Trg: When a command is played, move this card to an empty cell and reveal 1 opponent card. 
Int: An opponent may remove 3 of their exploits to gain control of this card.`,flavorText:"SynchroTech has created lightweight drones to patrol the streets, but the Hoods have other plans for them.",color:"bg-gray-400",types:["Unit","Device"]},walkingTurret:{name:"Walking Turret",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253307/TKN_WALKING_TURRET_uq6owm.png",fallbackImage:"/images/cards/TKN_WALKING_TURRET.png",power:2,ability:`Act: Discard 1  Shield 1. 
Int: An opponent may remove 3 of their exploits to gain control of this card.`,flavorText:"This military monster clearly has no place on the city streets.",color:"bg-gray-400",types:["Unit","Optimates","Device"]}},ch=[{id:"SynchroTech",name:"SynchroTech",isSelectable:!0,cards:[{cardId:"ipDeptAgent",quantity:2},{cardId:"tacticalAgent",quantity:2},{cardId:"patrolAgent",quantity:2},{cardId:"riotAgent",quantity:2},{cardId:"threatAnalyst",quantity:2},{cardId:"overwatch",quantity:1},{cardId:"repositioning",quantity:1},{cardId:"mobilization",quantity:1},{cardId:"inspiration",quantity:1},{cardId:"dataInterception",quantity:1}]},{id:"Hoods",name:"Hoods",isSelectable:!0,cards:[{cardId:"recklessProvocateur",quantity:2},{cardId:"dataLiberator",quantity:2},{cardId:"cautiousAvenger",quantity:2},{cardId:"vigilantSpotter",quantity:2},{cardId:"inventiveMaker",quantity:2},{cardId:"overwatch",quantity:1},{cardId:"repositioning",quantity:1},{cardId:"mobilization",quantity:1},{cardId:"inspiration",quantity:1},{cardId:"dataInterception",quantity:1}]},{id:"Optimates",name:"Optimates",isSelectable:!0,cards:[{cardId:"faber",quantity:2},{cardId:"censor",quantity:2},{cardId:"princeps",quantity:2},{cardId:"immunis",quantity:2},{cardId:"centurion",quantity:2},{cardId:"overwatch",quantity:1},{cardId:"repositioning",quantity:1},{cardId:"mobilization",quantity:1},{cardId:"inspiration",quantity:1},{cardId:"dataInterception",quantity:1}]},{id:"Fusion",name:"Fusion",isSelectable:!0,cards:[{cardId:"codeKeeper",quantity:2},{cardId:"devoutSynthetic",quantity:2},{cardId:"unwaveringIntegrator",quantity:2},{cardId:"signalProphet",quantity:2},{cardId:"zealousMissionary",quantity:2},{cardId:"overwatch",quantity:1},{cardId:"repositioning",quantity:1},{cardId:"mobilization",quantity:1},{cardId:"inspiration",quantity:1},{cardId:"dataInterception",quantity:1}]}],dh={cardDatabase:ah,tokenDatabase:uh,deckFiles:ch},{cardDatabase:fh,tokenDatabase:ph,deckFiles:mh}=dh,ha=new Map(Object.entries(fh)),hh=new Map(Object.entries(ph)),ga=mh,To=new Set(["overwatch","repositioning","mobilization","inspiration","dataInterception"]);function gh(){const e={};for(const t of ga){const n=[];for(const r of t.cards){const l=ha.get(r.cardId);if(!l){console.warn(`Card definition not found for ID: ${r.cardId} in deck: ${t.name}`);continue}const o=To.has(r.cardId);for(let i=0;i<r.quantity;i++){const a=r.cardId.toUpperCase().replace(/-/g,"_");o?n.push({...l,deck:ce.Command,id:`CMD_${a}`}):n.push({...l,deck:t.id,id:`${t.id.substring(0,3).toUpperCase()}_${a}_${i+1}`})}}e[t.id]=n}return e[ce.Tokens]=Array.from(hh.values()).map(t=>{const n=t.types?[...t.types]:["Unit"];return n.includes("Device")||n.push("Device"),{id:`TKN_${t.name.toUpperCase().replace(/\s/g,"_")}`,deck:ce.Tokens,name:t.name,imageUrl:t.imageUrl,fallbackImage:t.fallbackImage,power:t.power,ability:t.ability,color:t.color,types:n,flavorText:t.flavorText}}),e}const vi=gh(),sf=()=>ga.filter(e=>e.isSelectable);function ya(e){return ha.get(e)}function yh(){return Array.from(ha.entries()).map(([e,t])=>({id:e,card:t}))}const ut=({onDrop:e,children:t,className:n,isOverClassName:r="bg-indigo-500",onContextMenu:l,style:o})=>{const[i,a]=C.useState(!1),u=h=>{h.preventDefault(),a(!0)},d=h=>{a(!1)},x=h=>{h.preventDefault(),a(!1),e()};return s.jsx("div",{onDragOver:u,onDragLeave:d,onDrop:x,onContextMenu:l,className:`${n} transition-colors ${i?r:""}`,"data-interactive":!!l,style:o,children:t})},Ns=({player:e,isLocalPlayer:t,localPlayerId:n,isSpectator:r,isGameStarted:l,position:o,onNameChange:i,onColorChange:a,onScoreChange:u,onDeckChange:d,onLoadCustomDeck:x,onDrawCard:h,handleDrop:g,draggedItem:j,setDraggedItem:b,openContextMenu:w,onHandCardDoubleClick:O,playerColorMap:f,allPlayers:c,localPlayerTeamId:m,activeTurnPlayerId:p,onToggleActiveTurn:y,imageRefreshVersion:T,layoutMode:_="standard"})=>{const F=!!e.isDisconnected,Y=m!==void 0&&e.teamId===m,M=C.useRef(null),K=!l&&!r&&(t||!!e.isDummy),$=!r&&l&&(t||F||!!e.isDummy),ie=t&&!F,L=new Set(c.filter(Q=>!Q.isDummy&&Q.id!==e.id).map(Q=>Q.color)),[U,H]=C.useState(!1),X=C.useRef(null),R=C.useMemo(()=>sf(),[]),z=e.id===p;C.useEffect(()=>{const Q=J=>{X.current&&!X.current.contains(J.target)&&H(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[X]);const q=Q=>{const J=Q.target.value;d(J)},ne=()=>{var Q;(Q=M.current)==null||Q.click()},oe=Q=>{var Me;const J=(Me=Q.target.files)==null?void 0:Me[0];if(!J)return;const ke=new FileReader;ke.onload=Rt=>{var tt;try{const qe=(tt=Rt.target)==null?void 0:tt.result,Ot=JSON.parse(qe);x(Ot)}catch(qe){alert(`Error loading deck: ${qe instanceof Error?qe.message:"Unknown error"}`)}finally{Q.target&&(Q.target.value="")}},ke.readAsText(J)},Oe=()=>s.jsxs("div",{className:"relative",ref:X,children:[s.jsxs("button",{type:"button",onClick:()=>K&&H(!U),disabled:!K,className:`flex items-center gap-2 bg-gray-700 p-1.5 rounded-md border border-gray-600 justify-center disabled:opacity-70 disabled:cursor-not-allowed hover:bg-gray-600 ${_==="list-remote"?"w-full px-2 py-1 text-xs":"w-28"}`,children:[s.jsx("div",{className:`rounded-full ${ft[e.color].bg} border border-white/50 ${_==="list-remote"?"w-3 h-3":"w-4 h-4"}`}),s.jsx("span",{className:"capitalize font-medium truncate",children:e.color})]}),U&&s.jsx("div",{className:"absolute top-full mt-1 w-36 bg-gray-800 border border-gray-600 rounded-md shadow-lg z-20 py-1",children:lf.map(Q=>{const J=L.has(Q);return s.jsxs("button",{type:"button",disabled:J,onClick:()=>{a(Q),H(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 text-sm text-left hover:bg-indigo-600 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${ft[Q].bg} border border-white/50`}),s.jsx("span",{className:"capitalize font-medium",children:Q})]},Q)})})]});if(_==="list-remote"){const Q=z?"border-yellow-400":"border-gray-700";return s.jsxs("div",{className:`w-full h-full bg-panel-bg rounded-lg shadow-lg p-3 border-2 ${Q} ${F?"opacity-60":""} flex flex-col overflow-hidden`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx("div",{className:`w-3 h-3 flex-shrink-0 ${ft[e.color].bg}`}),s.jsx("span",{className:`font-bold text-sm truncate ${z?"text-yellow-400":"text-white"}`,children:e.name})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{type:"checkbox",checked:z,onChange:()=>y(e.id),disabled:!t,className:"w-4 h-4 text-yellow-400 bg-gray-700 border-gray-600 rounded cursor-pointer flex-shrink-0",title:"Mark as Active Turn"})})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-1 mb-2 flex-shrink-0",children:[s.jsx(ut,{onDrop:()=>j&&g(j,{target:"deck",playerId:e.id}),onContextMenu:J=>$&&w(J,"deckPile",{player:e}),className:"w-full aspect-square",children:s.jsx("div",{className:"w-full h-full bg-card-back rounded border border-gray-600 flex items-center justify-center text-xs cursor-pointer hover:ring-1 ring-white",onClick:$?h:void 0,title:"Deck",children:e.deck.length})}),s.jsx(ut,{onDrop:()=>j&&g(j,{target:"discard",playerId:e.id}),onContextMenu:J=>$&&w(J,"discardPile",{player:e}),className:"w-full aspect-square",children:s.jsx("div",{className:"w-full h-full bg-gray-700 rounded border border-gray-600 flex items-center justify-center text-xs cursor-pointer hover:bg-gray-600",title:"Discard",children:e.discard.length})}),s.jsx(ut,{onDrop:()=>j&&g(j,{target:"announced",playerId:e.id}),className:"w-full aspect-square bg-gray-800 border border-dashed border-gray-600 rounded flex items-center justify-center",isOverClassName:"bg-indigo-600",children:e.announcedCard?s.jsx("div",{className:"w-full h-full",draggable:$,onDragStart:()=>$&&b({card:e.announcedCard,source:"announced",playerId:e.id}),onDragEnd:()=>b(null),onContextMenu:J=>$&&w(J,"announcedCard",{card:e.announcedCard,player:e}),children:s.jsx(Ct,{card:e.announcedCard,isFaceUp:!0,playerColorMap:f,imageRefreshVersion:T})}):s.jsx("span",{className:"text-[0.5rem] text-gray-500",children:"Showcase"})}),s.jsx("div",{}),s.jsx("div",{className:"flex justify-end h-full w-full",children:s.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-6",children:[s.jsx("button",{onClick:()=>u(1),disabled:!$,className:"bg-gray-700 w-full h-[30%] rounded hover:bg-gray-600 disabled:opacity-50 flex items-center justify-center text-sm font-bold leading-none pb-0.5",children:"+"}),s.jsx("span",{className:"font-bold text-lg leading-none",children:e.score}),s.jsx("button",{onClick:()=>u(-1),disabled:!$,className:"bg-gray-700 w-full h-[30%] rounded hover:bg-gray-600 disabled:opacity-50 flex items-center justify-center text-sm font-bold leading-none pb-0.5",children:"-"})]})})]}),s.jsx(ut,{onDrop:()=>j&&g(j,{target:"hand",playerId:e.id}),className:"w-full bg-gray-900/50 rounded p-1 grid grid-cols-5 gap-1 flex-grow overflow-hidden content-start",children:e.hand.map((J,ke)=>s.jsx("div",{className:"w-full aspect-square",draggable:$,onDragStart:()=>$&&b({card:J,source:"hand",playerId:e.id,cardIndex:ke}),onDragEnd:()=>b(null),onContextMenu:Me=>l&&w(Me,"handCard",{card:J,player:e,cardIndex:ke}),onDoubleClick:()=>O(e,J,ke),children:s.jsx(Ct,{card:J,isFaceUp:(()=>{var qe;const Me=J.revealedTo==="all",Rt=n!==null&&Array.isArray(J.revealedTo)&&J.revealedTo.includes(n),tt=n!==null&&((qe=J.statuses)==null?void 0:qe.some(Ot=>Ot.type==="Revealed"&&Ot.addedByPlayerId===n));return t||Y||!!e.isDummy||F||Me||Rt||tt})(),playerColorMap:f,localPlayerId:n,imageRefreshVersion:T})},`${J.id}-${ke}`))})]})}if(_==="list-local"){const Q=z?"border-yellow-400":"border-gray-700";return s.jsxs("div",{className:`w-full h-full flex flex-col p-4 bg-panel-bg border-2 ${Q} rounded-lg shadow-2xl ${F?"opacity-60":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-[3px] flex-shrink-0",children:[s.jsx(Oe,{}),s.jsxs("div",{className:"flex-grow relative flex items-center",children:[s.jsx("input",{type:"text",value:e.name,onChange:J=>i(J.target.value),readOnly:!K,className:"bg-transparent font-bold text-xl p-1 flex-grow focus:bg-gray-800 rounded focus:outline-none border-b border-gray-600 mr-3"}),s.jsx("input",{type:"checkbox",checked:z,onChange:()=>y(e.id),className:"w-6 h-6 text-yellow-400 bg-gray-700 border-gray-600 rounded cursor-pointer flex-shrink-0",title:"Active Turn"})]})]}),s.jsxs("div",{className:"flex justify-between items-start gap-4 bg-gray-800 p-[2px] rounded-lg mb-[3px] flex-shrink-0",children:[s.jsxs("div",{className:"p-0 border border-transparent flex gap-[3px]",children:[s.jsx(ut,{onDrop:()=>j&&g(j,{target:"deck",playerId:e.id}),onContextMenu:J=>$&&w(J,"deckPile",{player:e}),children:s.jsxs("div",{onClick:$?h:void 0,className:"w-[120px] h-[120px] bg-card-back rounded flex flex-col items-center justify-center cursor-pointer hover:ring-2 ring-indigo-400 transition-all shadow-lg",children:[s.jsx("span",{className:"text-xs font-bold mb-1",children:"DECK"}),s.jsx("span",{className:"text-lg font-bold",children:e.deck.length})]})}),s.jsx(ut,{onDrop:()=>j&&g(j,{target:"discard",playerId:e.id}),onContextMenu:J=>$&&w(J,"discardPile",{player:e}),isOverClassName:"bg-indigo-600 ring-2",children:s.jsxs("div",{className:"w-[120px] h-[120px] bg-gray-700 rounded flex flex-col items-center justify-center cursor-pointer hover:bg-gray-600 transition-all shadow-lg border border-gray-600",children:[s.jsx("span",{className:"text-xs font-bold mb-1 text-gray-400",children:"DISCARD"}),s.jsx("span",{className:"text-lg font-bold",children:e.discard.length})]})}),s.jsx(ut,{onDrop:()=>j&&g(j,{target:"announced",playerId:e.id}),className:"w-[120px] h-[120px] bg-gray-800 border border-dashed border-gray-600 rounded flex items-center justify-center",children:e.announcedCard?s.jsx("div",{className:"w-full h-full p-1",draggable:$,onDragStart:()=>$&&b({card:e.announcedCard,source:"announced",playerId:e.id}),onDragEnd:()=>b(null),onContextMenu:J=>$&&w(J,"announcedCard",{card:e.announcedCard,player:e}),children:s.jsx(Ct,{card:e.announcedCard,isFaceUp:!0,playerColorMap:f,imageRefreshVersion:T})}):s.jsx("span",{className:"text-xs text-gray-500",children:"Showcase"})})]}),s.jsxs("div",{className:"flex flex-col items-center justify-between h-[120px] w-12 flex-shrink-0 py-0",children:[s.jsx("button",{onClick:()=>u(1),className:"bg-gray-700 w-full h-10 rounded font-bold hover:bg-gray-600 flex items-center justify-center text-xl",children:"+"}),s.jsx("span",{className:"font-bold text-3xl",children:e.score}),s.jsx("button",{onClick:()=>u(-1),className:"bg-gray-700 w-full h-10 rounded font-bold hover:bg-gray-600 flex items-center justify-center text-xl",children:"-"})]})]}),!l&&s.jsxs("div",{className:"mb-[3px] flex-shrink-0",children:[s.jsxs("select",{value:e.selectedDeck,onChange:q,className:"w-full bg-gray-700 border border-gray-600 rounded p-2 mb-2",children:[R.map(J=>s.jsx("option",{value:J.id,children:J.name},J.id)),s.jsx("option",{value:ce.Custom,children:"Custom Deck"})]}),e.selectedDeck===ce.Custom&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",ref:M,onChange:oe,accept:".json",className:"hidden"}),s.jsx("button",{onClick:ne,className:"w-full bg-indigo-600 hover:bg-indigo-700 py-1 rounded font-bold",children:"Load Custom Deck"})]})]}),s.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:s.jsx(ut,{onDrop:()=>j&&g(j,{target:"hand",playerId:e.id}),className:"flex-grow bg-gray-800 rounded-lg p-2 overflow-y-scroll border border-gray-700",children:s.jsx("div",{className:"flex flex-col gap-[2px]",children:e.hand.map((J,ke)=>s.jsxs("div",{className:"flex bg-gray-900 border border-gray-700 rounded p-2",draggable:$,onDragStart:()=>$&&b({card:J,source:"hand",playerId:e.id,cardIndex:ke}),onDragEnd:()=>b(null),onContextMenu:Me=>$&&w(Me,"handCard",{card:J,player:e,cardIndex:ke}),onDoubleClick:()=>O(e,J,ke),children:[s.jsx("div",{className:"w-[120px] h-[120px] flex-shrink-0 mr-3",children:s.jsx(Ct,{card:J,isFaceUp:!0,playerColorMap:f,localPlayerId:n,imageRefreshVersion:T})}),s.jsx("div",{className:"flex-grow min-w-0",children:s.jsx(Ho,{card:J,className:"relative flex flex-col text-left w-full h-full justify-start whitespace-normal break-words",hideOwner:J.ownerId===e.id,powerPosition:"inner"})})]},`${J.id}-${ke}`))})})})]})}const Te=oh[o]||"top-2 left-2",at=z?"border-yellow-400":ie?"border-indigo-500":"border-gray-700";return s.jsxs("div",{className:`fixed ${Te} min-w-[30rem] bg-panel-bg rounded-lg shadow-2xl p-3 flex flex-col z-10 border-2 ${at} ${F?"opacity-60":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[s.jsx(Oe,{}),s.jsx("input",{type:"text",value:F?`${e.name} (Disconnected)`:e.name,onChange:Q=>i(Q.target.value),readOnly:!K||F,className:"bg-transparent font-bold text-xl p-1.5 flex-grow focus:bg-gray-800 rounded focus:outline-none focus:ring-2 focus:ring-indigo-400 disabled:cursor-default"})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:z,onChange:()=>y(e.id),disabled:!t,className:"w-5 h-5 text-yellow-400 bg-gray-700 border-gray-600 rounded focus:ring-yellow-500 focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",title:"Mark as active turn"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>u(-1),disabled:!$,className:"bg-gray-700 w-8 h-8 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"-"}),s.jsx("span",{className:"font-bold text-2xl w-10 text-center",children:e.score}),s.jsx("button",{onClick:()=>u(1),disabled:!$,className:"bg-gray-700 w-8 h-8 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]})]})]}),s.jsxs("div",{className:"mb-3 flex items-center space-x-2",children:[s.jsxs("select",{value:e.selectedDeck,onChange:q,disabled:!K,className:"bg-gray-700 border border-gray-600 text-white text-base rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[e.selectedDeck===ce.Custom&&s.jsx("option",{value:ce.Custom,children:"Custom Deck"}),R.map(Q=>s.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),s.jsx("input",{type:"file",ref:M,onChange:oe,accept:".json",style:{display:"none"}}),s.jsx("button",{onClick:ne,disabled:!K,title:"Load Custom Deck",className:"bg-gray-600 hover:bg-gray-500 text-white font-bold p-2 rounded disabled:opacity-70 disabled:cursor-not-allowed",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})})]}),s.jsxs("div",{className:"flex-grow flex space-x-3",children:[s.jsxs("div",{className:"flex flex-col w-28 space-y-2",children:[s.jsx(ut,{onDrop:()=>j&&g(j,{target:"deck",playerId:e.id}),onContextMenu:Q=>$&&w(Q,"deckPile",{player:e}),children:s.jsxs("div",{onClick:$?h:void 0,className:`relative w-28 h-28 bg-card-back rounded-md flex items-center justify-center text-center text-sm p-1 ${$?"cursor-pointer hover:ring-2 ring-indigo-400":"cursor-not-allowed"}`,children:["DECK ",s.jsx("br",{})," (",e.deck.length,")"]})}),s.jsxs(ut,{onDrop:()=>{j&&g(j,{target:"discard",playerId:e.id})},onContextMenu:Q=>$&&w(Q,"discardPile",{player:e}),className:`relative w-28 h-28 bg-gray-700 rounded-md flex items-center justify-center text-center text-sm p-1 ${$?"cursor-pointer":""}`,isOverClassName:"bg-indigo-600 ring-2 ring-indigo-400",children:["DISCARD ",s.jsx("br",{})," (",e.discard.length,")"]}),s.jsx("div",{className:"relative w-28 h-28",children:s.jsxs(ut,{onDrop:()=>j&&g(j,{target:"announced",playerId:e.id}),className:"w-full h-full bg-gray-700 rounded-md flex items-center justify-center text-center text-xs p-1",isOverClassName:"bg-indigo-600 ring-2 ring-indigo-400",children:[!e.announcedCard&&s.jsx("span",{children:"Showcase"}),e.announcedCard&&s.jsx("div",{draggable:$,onDragStart:()=>$&&b({card:e.announcedCard,source:"announced",playerId:e.id}),onDragEnd:()=>b(null),onContextMenu:Q=>$&&w(Q,"announcedCard",{card:e.announcedCard,player:e}),className:"w-full h-full","data-interactive":"true",children:s.jsx(Ct,{card:e.announcedCard,isFaceUp:!0,playerColorMap:f,localPlayerId:n,imageRefreshVersion:T})})]})})]}),s.jsx(ut,{onDrop:()=>j&&g(j,{target:"hand",playerId:e.id}),className:"flex-grow bg-gray-800 rounded-lg p-2 min-h-[16rem] max-h-[22.25rem] overflow-y-auto",isOverClassName:"bg-gray-900 ring-2 ring-indigo-400",children:s.jsx("div",{className:"grid grid-cols-3 gap-0.5",children:e.hand.map((Q,J)=>s.jsx("div",{className:"w-28 h-28",draggable:$,onDragStart:()=>$&&b({card:Q,source:"hand",playerId:e.id,cardIndex:J}),onDragEnd:()=>b(null),onContextMenu:ke=>{n!==null&&l&&w(ke,"handCard",{card:Q,player:e,cardIndex:J})},onDoubleClick:()=>O(e,Q,J),"data-interactive":"true",children:s.jsx(Ct,{card:Q,isFaceUp:(()=>{var tt;const ke=Q.revealedTo==="all",Me=n!==null&&Array.isArray(Q.revealedTo)&&Q.revealedTo.includes(n),Rt=n!==null&&((tt=Q.statuses)==null?void 0:tt.some(qe=>qe.type==="Revealed"&&qe.addedByPlayerId===n));return t||Y||!!e.isDummy||F||ke||Me||Rt})(),playerColorMap:f,localPlayerId:n,imageRefreshVersion:T})},`${Q.id}-${J}`))})})]})]})},vh=4,xh=({gameId:e,isGameStarted:t,onStartGame:n,onResetGame:r,activeGridSize:l,onGridSizeChange:o,dummyPlayerCount:i,onDummyPlayerCountChange:a,realPlayerCount:u,connectionStatus:d,onExitGame:x,onOpenTokensModal:h,onOpenCountersModal:g,gameMode:j,onGameModeChange:b,isPrivate:w,onPrivacyChange:O,isHost:f,onSyncGame:c})=>{const m=[0,1,2,3],p=()=>{let y="bg-gray-500",T="Connecting to server...";return d==="Connected"?(y="bg-green-500 animate-pulse",T="Connected"):d==="Disconnected"&&(y="bg-red-500",T="Disconnected. Retrying..."),s.jsxs("div",{className:"flex items-center space-x-2",title:T,children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${y} transition-colors`}),s.jsx("span",{className:"text-sm text-gray-400 hidden sm:block",children:d})]})};return s.jsxs("header",{className:"fixed top-0 left-0 right-0 h-14 bg-panel-bg bg-opacity-80 backdrop-blur-sm z-50 flex items-center justify-between px-4 shadow-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h1",{className:"text-xl font-bold text-indigo-400",children:"New Avalon: Skirmish"}),s.jsx(p,{}),s.jsxs("div",{className:"flex items-center space-x-3",children:[e&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Game ID:"}),s.jsx("span",{className:"font-mono bg-gray-700 px-2 py-1 rounded text-indigo-300 w-44 text-center",children:e})]}),s.jsxs("label",{className:"flex items-center space-x-1.5 cursor-pointer",title:"Hidden games do not appear in the 'Join Game' list.",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:y=>O(y.target.checked),disabled:t||!f,className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 disabled:opacity-70 disabled:cursor-not-allowed"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Hidden"})]}),s.jsx("span",{className:"text-gray-600",children:"|"}),s.jsx("button",{onClick:h,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-sm",children:"Tokens"}),s.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-sm",children:"Counters"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[t?f&&s.jsx("button",{onClick:r,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded text-sm",children:"New Game"}):s.jsx("button",{onClick:n,disabled:!f,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm animate-pulse disabled:bg-gray-600 disabled:opacity-70 disabled:cursor-not-allowed disabled:animate-none",children:"Start Game"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{htmlFor:"game-mode",className:"text-sm font-medium text-gray-300",children:"Mode:"}),s.jsxs("select",{id:"game-mode",value:j,onChange:y=>b(y.target.value),disabled:t||!f,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[s.jsx("option",{value:mn.FreeForAll,children:"Free For All"}),s.jsx("option",{value:mn.TwoVTwo,children:"2 vs 2"}),s.jsx("option",{value:mn.ThreeVOne,children:"3 vs 1"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{htmlFor:"grid-size",className:"text-sm font-medium text-gray-300",children:"Board Size:"}),s.jsxs("select",{id:"grid-size",value:l,onChange:y=>o(parseInt(y.target.value,10)),disabled:t||!f,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"4",children:"4x4"}),s.jsx("option",{value:"5",children:"5x5"}),s.jsx("option",{value:"6",children:"6x6"}),s.jsx("option",{value:"7",children:"7x7"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{htmlFor:"dummy-players",className:"text-sm font-medium text-gray-300",children:"Dummies:"}),s.jsx("select",{id:"dummy-players",value:i,onChange:y=>a(parseInt(y.target.value,10)),disabled:t||!f,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:m.map(y=>s.jsx("option",{value:y,disabled:u+y>vh,children:y},y))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f&&t&&s.jsx("button",{onClick:c,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold p-2 rounded text-sm",title:"Force sync game state and refresh images.",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:x,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded text-sm",title:"Return to Main Menu",children:"Exit Game"})]})]})]})},wh=({isOpen:e,onClose:t,onJoin:n,games:r})=>{const[l,o]=C.useState("");if(!e)return null;const i=()=>{l.trim()&&n(l.trim().toUpperCase())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-xl",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Join an Existing Game"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Active Games"}),s.jsx("div",{className:"h-[40rem] overflow-y-auto pr-2 border-b border-gray-700 pb-2 mb-6",children:r.length>0?s.jsx("ul",{className:"space-y-2",children:r.map(a=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>n(a.gameId),className:"w-full text-left p-3 bg-gray-700 hover:bg-indigo-600 rounded-lg transition-colors flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Game ID:"}),s.jsx("span",{className:"block font-mono text-indigo-300",children:a.gameId})]}),s.jsxs("span",{className:"bg-gray-600 px-2 py-1 rounded-full text-sm font-bold",children:[a.playerCount," / 4"]})]})},a.gameId))}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("p",{className:"text-gray-400 text-center",children:["No active games found. ",s.jsx("br",{})," Why not create one?"]})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Or Join with Code"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:l,onChange:a=>o(a.target.value),placeholder:"Enter Game ID",className:"flex-grow bg-gray-700 border border-gray-600 text-white font-mono rounded-lg p-2 focus:ring-indigo-500 focus:border-indigo-500",onKeyUp:a=>a.key==="Enter"&&i()}),s.jsx("button",{onClick:i,disabled:!l.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:"Join"})]}),s.jsx("div",{className:"flex justify-end mt-8",children:s.jsx("button",{type:"button",onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"})})]})})},zu=({isOpen:e,onClose:t,title:n,player:r,cards:l,setDraggedItem:o,onCardContextMenu:i,onCardDoubleClick:a,canInteract:u,isDeckView:d=!1,playerColorMap:x,localPlayerId:h,imageRefreshVersion:g})=>{const[j,b]=C.useState(null),w=C.useRef(null);if(!e)return null;const O=p=>{j!==null&&w.current&&!w.current.contains(p.relatedTarget)&&t()},c=Math.ceil(l.length/5)>5;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 pointer-events-auto",onClick:t,children:s.jsxs("div",{ref:w,onClick:p=>p.stopPropagation(),onDragLeave:O,className:"bg-gray-800 rounded-lg p-4 shadow-xl w-auto max-w-4xl max-h-[95vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:n}),s.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Close"})]}),s.jsx("div",{className:`bg-gray-900 rounded p-2 ${c?"overflow-y-auto":""}`,style:c?{height:"calc(5 * 7rem + 4 * 0.5rem + 1rem)"}:{},children:s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[l.map((p,y)=>s.jsx("div",{style:{visibility:j===y?"hidden":"visible"},draggable:u,onDragStart:()=>{u&&(b(y),o({card:p,source:d?"deck":"discard",playerId:r.id,cardIndex:y}))},onDragEnd:()=>{b(null),o(null)},onContextMenu:T=>u&&(i==null?void 0:i(T,y)),onDoubleClick:()=>u&&a(y),"data-interactive":u,className:`w-28 h-28 ${u?"cursor-grab":"cursor-default"}`,children:s.jsx(Ct,{card:p,isFaceUp:!0,playerColorMap:x,localPlayerId:h,imageRefreshVersion:g})},`${p.id}-${y}`)),l.length===0&&s.jsx("p",{className:"col-span-5 w-full text-center text-gray-400 py-8",children:"Empty"})]})})]})})},kh=({isOpen:e,onClose:t,setDraggedItem:n,openContextMenu:r,canInteract:l,anchorEl:o,imageRefreshVersion:i,draggedItem:a})=>{if(!e||!o)return null;const u=vi[ce.Tokens]||[],d={position:"fixed",top:`${o.top}px`,left:`${o.left}px`,zIndex:60},x=h=>{if(a&&a.source==="token_panel"){const g=h.currentTarget.getBoundingClientRect(),j=h.clientX,b=h.clientY;(j<g.left||j>=g.right||b<g.top||b>=g.bottom)&&t()}};return s.jsx("div",{style:d,className:"pointer-events-auto",onDragLeave:x,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-xl w-96 max-w-[90vw] h-auto flex flex-col",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Tokens"}),s.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Close"})]}),s.jsx("div",{className:"flex-grow bg-gray-900 rounded p-2 overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map(h=>s.jsx("div",{draggable:l,onDragStart:()=>l&&n({card:h,source:"token_panel"}),onDragEnd:()=>n(null),onContextMenu:g=>l&&r(g,"token_panel_item",{card:h}),"data-interactive":l,className:`w-24 h-24 ${l?"cursor-grab":"cursor-not-allowed"}`,children:s.jsx(Ct,{card:h,isFaceUp:!0,playerColorMap:new Map,imageRefreshVersion:i})},h.id))})})]})})},Ch="https://res.cloudinary.com/dxxh6meej/image/upload/v1763653192/background_counter_socvss.png",Sh=({isOpen:e,onClose:t,setDraggedItem:n,canInteract:r,anchorEl:l,imageRefreshVersion:o,onCounterClick:i,cursorStack:a})=>{const[u,d]=C.useState(null),[x,h]=C.useState({x:0,y:0});if(!e||!l)return null;const g={position:"fixed",top:`${l.top}px`,left:`${l.left}px`,zIndex:60},j=p=>{let y=pa[p];if(y&&o){const T=y.includes("?")?"&":"?";y=`${y}${T}v=${o}`}return y},b=(p,y,T)=>{if(p.button===2){const _={id:`tooltip_${y}`,deck:"counter",name:T,imageUrl:"",fallbackImage:"",power:0,ability:bo[y]||"",types:[],statuses:[]};d(_),h({x:p.clientX,y:p.clientY})}},w=()=>{d(null)},O=p=>{u&&h({x:p.clientX,y:p.clientY})},f=()=>{a&&t(),d(null)},c=p=>{const y=p.currentTarget.getBoundingClientRect(),T=p.clientX,_=p.clientY;(T<y.left||T>=y.right||_<y.top||_>=y.bottom)&&t()},m=(p,y,T,_)=>{r&&(p.dataTransfer.effectAllowed="copyMove",p.dataTransfer.setData("text/plain",`counter:${y}`),n({card:{id:`CTR_${y}`,deck:"counter",name:T,imageUrl:"",fallbackImage:"",power:0,ability:""},source:"counter_panel",statusType:y,count:1}))};return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:g,className:"pointer-events-auto",onMouseLeave:f,onDragLeave:c,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-xl w-80 max-w-[90vw] h-auto flex flex-col",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Counters"}),s.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Close"})]}),s.jsx("div",{className:"bg-gray-900 rounded p-4",children:s.jsx("div",{className:"grid grid-cols-4 gap-1",children:lh.map(p=>{const y=j(p.type),T=p.type.startsWith("Power");return s.jsx("div",{draggable:r,onDragStart:_=>m(_,p.type,p.label),onClick:_=>r&&i(p.type,_),onContextMenu:_=>_.preventDefault(),onMouseDown:_=>b(_,p.type,p.label),onMouseUp:w,onMouseMove:O,onDragEnd:()=>n(null),className:`w-12 h-12 rounded-full border-white flex items-center justify-center shadow-lg mx-auto relative ${r?"cursor-pointer hover:ring-2 ring-indigo-400":"cursor-not-allowed"}`,style:{backgroundImage:`url(${Ch})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:y?s.jsx("img",{src:y,alt:p.label,className:"w-full h-full object-contain p-1 pointer-events-none"}):s.jsx("span",{className:`font-bold text-white pointer-events-none ${T?"text-sm":"text-lg"}`,style:{textShadow:"0 0 2px black"},children:T?p.label:p.type.charAt(0)})},p.type)})})})]})}),u&&s.jsx(ma,{x:x.x,y:x.y,children:s.jsx(Ho,{card:u,statusDescriptions:bo})})]})},af=({player:e,onDragStart:t})=>s.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.id),className:"flex items-center gap-2 bg-gray-600 p-2 rounded-md cursor-grab active:cursor-grabbing",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${ft[e.color].bg} border border-white/50`}),s.jsx("span",{className:"font-medium",children:e.name})]}),Fu=({teamId:e,teamName:t,players:n,capacity:r,onDrop:l,onDragOver:o,onPlayerDragStart:i,isOver:a})=>s.jsxs("div",{onDrop:u=>l(u,e),onDragOver:o,className:`bg-gray-800 p-4 rounded-lg border-2 ${a?"border-indigo-500":"border-gray-700"} transition-colors`,children:[s.jsxs("h3",{className:"text-lg font-bold mb-3 border-b border-gray-700 pb-2",children:[t," (",n.length,"/",r,")"]}),s.jsx("div",{className:"space-y-2 min-h-[4rem]",children:n.map(u=>s.jsx(af,{player:u,onDragStart:i},u.id))})]}),Nh=({players:e,gameMode:t,onCancel:n,onConfirm:r})=>{const[l,o]=C.useState(e),[i,a]=C.useState([]),[u,d]=C.useState([]),[x,h]=C.useState(null),[g,j]=C.useState(null),{team1Capacity:b,team2Capacity:w}=C.useMemo(()=>t===mn.TwoVTwo?{team1Capacity:2,team2Capacity:2}:t===mn.ThreeVOne?{team1Capacity:3,team2Capacity:1}:{team1Capacity:0,team2Capacity:0},[t]),O=l.length===0&&i.length===b&&u.length===w,f=(y,T)=>{y.dataTransfer.effectAllowed="move",h(T)},c=y=>{y.preventDefault(),y.dataTransfer.dropEffect="move"},m=(y,T)=>{if(y.preventDefault(),x===null)return;const _=e.find(L=>L.id===x);if(!_)return;const F=[...l],Y=[...i],M=[...u],K=F.findIndex(L=>L.id===x);K>-1&&F.splice(K,1);const $=Y.findIndex(L=>L.id===x);$>-1&&Y.splice($,1);const ie=M.findIndex(L=>L.id===x);ie>-1&&M.splice(ie,1),T===1&&Y.length<b?Y.push(_):T===2&&M.length<w?M.push(_):F.push(_),o(F),a(Y),d(M),h(null),j(null)},p=()=>{if(!O)return;const y={1:i.map(T=>T.id),2:u.map(T=>T.id)};r(y)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-8 shadow-xl w-full max-w-4xl",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Assign Teams"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Drag and drop players into their teams."}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{onDrop:y=>m(y,"unassigned"),onDragOver:y=>{c(y),j("unassigned")},onDragLeave:()=>j(null),className:`bg-gray-800 p-4 rounded-lg border-2 ${g==="unassigned"?"border-indigo-500":"border-gray-700"} transition-colors`,children:[s.jsx("h3",{className:"text-lg font-bold mb-3 border-b border-gray-700 pb-2",children:"Unassigned Players"}),s.jsx("div",{className:"space-y-2",children:l.map(y=>s.jsx(af,{player:y,onDragStart:f},y.id))})]}),s.jsx(Fu,{teamId:1,teamName:"Team 1",players:i,capacity:b,onDrop:m,onDragOver:y=>{c(y),j(1)},onPlayerDragStart:f,isOver:g===1}),s.jsx(Fu,{teamId:2,teamName:"Team 2",players:u,capacity:w,onDrop:m,onDragOver:y=>{c(y),j(2)},onPlayerDragStart:f,isOver:g===2})]}),s.jsxs("div",{className:"flex justify-end mt-8 space-x-4",children:[s.jsx("button",{type:"button",onClick:n,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,disabled:!O,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:"Confirm Teams & Start"})]})]})})},jh=({players:e,localPlayer:t,onReady:n})=>{const r=()=>{t.isReady||n()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Ready to Start?"}),s.jsx("p",{className:"text-gray-400 text-center mb-6",children:"The game will begin once all players are ready. You can still change your name and deck."}),s.jsx("ul",{className:"space-y-3 mb-8",children:e.map(l=>s.jsxs("li",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg",children:[s.jsxs("span",{className:"font-medium",children:[l.name," ",l.id===t.id&&"(You)"]}),l.isReady?s.jsxs("span",{className:"flex items-center text-green-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Ready"]}):s.jsxs("span",{className:"flex items-center text-yellow-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 animate-pulse",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 102 0V6zM9 14a1 1 0 112 0 1 1 0 01-2 0z",clipRule:"evenodd"})}),"Waiting..."]})]},l.id))}),s.jsx("button",{onClick:r,disabled:t.isReady,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors text-lg",children:t.isReady?"Waiting for others...":"I'm Ready"})]})})},Uu=({card:e,ownerPlayer:t,onClose:n,statusDescriptions:r,allPlayers:l,imageRefreshVersion:o})=>{var j,b,w;const[i,a]=C.useState(e.imageUrl);C.useEffect(()=>{let O=e.imageUrl;if(o&&O){const f=O.includes("?")?"&":"?";O=`${O}${f}v=${o}`}a(O)},[e.imageUrl,o]);const u=()=>{let O=e.fallbackImage;if(o&&O){const f=O.includes("?")?"&":"?";O=`${O}${f}v=${o}`}i!==O&&a(O)},d=t==null?void 0:t.color,x=d?ft[d].border:((j=rf[e.deck])==null?void 0:j.color)||"border-gray-300",h=C.useMemo(()=>!t||t.teamId===void 0?null:`Team ${t.teamId}`,[t]),g=(e.statuses??[]).reduce((O,f)=>(O[f.type]||(O[f.type]=[]),O[f.type].push(f.addedByPlayerId),O),{});return s.jsx("div",{onClick:n,className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[102]",children:s.jsxs("div",{onClick:O=>O.stopPropagation(),className:`bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl h-[40rem] p-6 flex gap-6 border-4 ${x}`,children:[s.jsx("div",{className:"w-1/2 h-full flex-shrink-0",children:i?s.jsx("img",{src:i,onError:u,alt:e.name,className:"w-full h-full object-contain rounded-lg"}):s.jsx("div",{className:"w-full h-full bg-gray-700 rounded-lg flex items-center justify-center text-2xl font-bold text-center p-4",children:e.name})}),s.jsxs("div",{className:"w-1/2 h-full flex flex-col gap-4 overflow-y-auto pr-2 text-left",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold",children:e.name}),s.jsx("p",{className:"text-lg text-gray-400 capitalize",children:((b=e.types)==null?void 0:b.join(", "))||`${e.deck} Card`})]}),s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-indigo-400 text-lg",children:"Power:"})," ",s.jsx("span",{className:"text-xl font-bold",children:e.power})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{className:"text-indigo-400 text-lg",children:"Ability:"})," ",s.jsx("span",{className:"text-gray-200 text-base",children:of(e.ability)})]})]}),t&&s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-indigo-400",children:"Owner:"})," ",t.name]}),h&&s.jsxs("p",{className:"mt-1",children:[s.jsx("strong",{className:"text-indigo-400",children:"Team:"})," ",h]})]}),e.statuses&&e.statuses.length>0&&s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-indigo-400 text-lg font-bold mb-2",children:"Statuses"}),s.jsx("ul",{className:"space-y-2 text-sm",children:Object.entries(g).map(([O,f])=>{const c=f.reduce((p,y)=>(p[y]=(p[y]||0)+1,p),{}),m=Object.entries(c).map(([p,y])=>{var _;return`${((_=l.find(F=>F.id===Number(p)))==null?void 0:_.name)||`Player ${p}`} (x${y})`}).join(", ");return s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-200",children:O})," ",s.jsxs("span",{className:"text-gray-400 text-xs ml-1",children:["- ",m]}),s.jsx("p",{className:"text-gray-400 text-xs pl-2 mt-0.5",children:r[O]||"No description available."})]},O)})})]}),e.flavorText&&s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-indigo-400 font-bold mb-1",children:"Flavor Text"}),s.jsx("p",{className:"italic text-gray-400",children:(w=e.flavorText)==null?void 0:w.split(`
`).map((O,f)=>s.jsxs(Pn.Fragment,{children:[f>0&&s.jsx("br",{}),O]},f))})]}),s.jsx("button",{onClick:n,className:"mt-auto bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded self-end",children:"Close"})]})]})})},bh=({fromPlayer:e,cardCount:t,onAccept:n,onDecline:r})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[105]",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-md text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Reveal Request"}),s.jsxs("p",{className:"text-gray-300 mb-6",children:[s.jsx("span",{className:"font-bold",children:e.name})," would like to see ",t>1?`${t} of your hidden cards`:"one of your hidden cards","."]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded transition-colors",children:"Decline"}),s.jsx("button",{onClick:n,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded transition-colors",children:"Accept"})]})]})}),Th=yh(),$u=sf(),Lt=100,Eh=({x:e,y:t,items:n,onClose:r})=>{const l=C.useRef(null),[o,i]=C.useState({top:t,left:e});return C.useEffect(()=>{if(l.current){const{innerWidth:a,innerHeight:u}=window,{offsetWidth:d,offsetHeight:x}=l.current,h=e+d>a?a-d-5:e,g=t+x>u?u-x-5:t;i({top:g,left:h})}},[e,t,n]),s.jsx("div",{ref:l,className:"fixed bg-gray-900 border border-gray-700 rounded-md shadow-lg z-[110] py-1",style:{top:o.top,left:o.left},onClick:a=>a.stopPropagation(),children:n.map((a,u)=>"isDivider"in a?s.jsx("hr",{className:"border-gray-700 my-1"},`divider-${u}`):s.jsx("button",{onClick:()=>{a.disabled||(a.onClick(),r())},disabled:a.disabled,className:"block w-full text-left px-4 py-1 text-sm text-white hover:bg-indigo-600 disabled:text-gray-500 disabled:cursor-not-allowed disabled:bg-gray-800",style:{fontWeight:a.isBold?"bold":"normal"},children:a.label},u))})},Ih=e=>{if(typeof e.deckName!="string"||!Array.isArray(e.cards))return{isValid:!1,error:"Invalid file structure. Must have 'deckName' (string) and 'cards' (array)."};let t=0;for(const n of e.cards){if(typeof n.cardId!="string"||typeof n.quantity!="number"||n.quantity<1||!Number.isInteger(n.quantity))return{isValid:!1,error:`Invalid card entry: ${JSON.stringify(n)}`};if(!ya(n.cardId))return{isValid:!1,error:`Card with ID '${n.cardId}' does not exist.`};t+=n.quantity}return t>Lt?{isValid:!1,error:`Deck exceeds the ${Lt} card limit (found ${t} cards).`}:t===0&&e.cards.length>0?{isValid:!1,error:"Deck contains cards with zero quantity."}:{isValid:!0,deckFile:e}},Ph=({isOpen:e,onClose:t,setViewingCard:n})=>{const[r,l]=C.useState("My Custom Deck"),[o,i]=C.useState(new Map),[a,u]=C.useState(""),[d,x]=C.useState("all"),[h,g]=C.useState(""),[j,b]=C.useState(null),w=C.useRef(null),[O,f]=C.useState(null),c=C.useMemo(()=>Array.from(o.values()).reduce((L,U)=>L+U,0),[o]),m=C.useCallback(L=>{if(To.has(L))return ce.Command;const U=ga.find(H=>H.cards.some(X=>X.cardId===L));return U?U.id:ce.Custom},[]),p=C.useMemo(()=>Th.filter(({id:L,card:U})=>{if(d==="command"){if(!To.has(L))return!1}else if(d!=="all"){const H=$u.find(X=>X.cards.some(R=>R.cardId===L));if(!H||H.id!==d)return!1}if(h.trim()){const H=parseInt(h.trim(),10);if(!isNaN(H)&&U.power!==H)return!1}if(a.trim()){const H=a.toLowerCase(),X=U.name.toLowerCase().includes(H),R=U.ability.toLowerCase().includes(H);if(!X&&!R)return!1}return!0}),[a,d,h]),y=C.useCallback(L=>{c>=Lt||i(U=>{const H=new Map(U),X=H.get(L)||0;return H.set(L,X+1),H})},[c]),T=C.useCallback(L=>{i(U=>{const H=new Map(U);return H.delete(L),H})},[]),_=C.useCallback((L,U)=>{i(H=>{const X=new Map(H),R=X.get(L)||0;let z=R+U;const q=Array.from(X.values()).reduce((oe,Oe)=>oe+Oe,0),ne=q+U;return U>0&&ne>Lt&&(z=R+(Lt-q)),z<=0?X.delete(L):X.set(L,z),X})},[]),F=()=>{const L=Array.from(o.entries()).map(([z,q])=>({cardId:z,quantity:q})),U={deckName:r,cards:L},H=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),X=URL.createObjectURL(H),R=document.createElement("a");R.href=X,R.download=`${r.replace(/ /g,"_")}.json`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(X)},Y=L=>{var X;const U=(X=L.target.files)==null?void 0:X[0];if(!U)return;const H=new FileReader;H.onload=R=>{var z;try{const q=(z=R.target)==null?void 0:z.result,ne=JSON.parse(q),oe=Ih(ne);if("error"in oe)alert(`Error loading deck: ${oe.error}`);else{const{deckFile:Oe}=oe;l(Oe.deckName);const Te=new Map;Oe.cards.forEach(at=>Te.set(at.cardId,at.quantity)),i(Te)}}catch(q){alert(`Error reading file: ${q instanceof Error?q.message:"Invalid file format."}`)}finally{L.target&&(L.target.value="")}},H.readAsText(U)},M=(L,U)=>{const H=m(L),X={...U,id:`detail-${L}`,deck:H};n({card:X})},K=C.useCallback((L,U)=>{w.current&&clearTimeout(w.current),w.current=window.setTimeout(()=>{b({x:L.clientX,y:L.clientY,cardDef:U})},250)},[]),$=C.useCallback(L=>{b(U=>U?{...U,x:L.clientX,y:L.clientY}:null)},[]),ie=C.useCallback(()=>{w.current&&clearTimeout(w.current),w.current=null,b(null)},[]);return C.useEffect(()=>{const L=()=>f(null);window.addEventListener("click",L);const U=H=>{H.target.closest("[data-interactive]")||L()};return window.addEventListener("contextmenu",U),()=>{window.removeEventListener("click",L),window.removeEventListener("contextmenu",U)}},[]),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[101]",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-xl w-[95vw] h-[90vh] max-w-7xl flex flex-col gap-4",onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Deck Builder"}),s.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]}),s.jsxs("div",{className:"flex-grow flex gap-6 min-h-0",children:[s.jsxs("div",{className:"w-1/3 bg-gray-900 rounded-lg p-4 flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 mb-4 space-y-3",children:[s.jsx("input",{type:"text",value:r,onChange:L=>l(L.target.value),placeholder:"Deck Name",className:"w-full bg-gray-700 border border-gray-600 text-white font-bold text-lg rounded-lg p-2 focus:ring-indigo-500 focus:border-indigo-500"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:F,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded",children:"Save"}),s.jsxs("label",{className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-3 rounded cursor-pointer text-center",children:["Load",s.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:Y})]})]}),s.jsxs("div",{className:`text-center font-bold text-lg ${c>Lt?"text-red-500":"text-gray-300"}`,children:["Total Cards: ",c," / ",Lt]})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:Array.from(o.entries()).map(([L,U])=>{const H=ya(L);return H?s.jsxs("div",{className:"bg-gray-800 p-2 rounded flex items-center justify-between",onContextMenu:X=>{X.preventDefault(),X.stopPropagation();const R=[{label:"View",onClick:()=>M(L,H)},{isDivider:!0},{label:"Add to Deck",onClick:()=>_(L,1),disabled:c>=Lt},{label:"Remove from Deck",onClick:()=>_(L,-1)},{label:"Remove all copies",onClick:()=>T(L)}];f({x:X.clientX,y:X.clientY,items:R,onClose:()=>f(null)})},"data-interactive":"true",children:[s.jsx("span",{className:"flex-grow truncate",title:H.name,onMouseEnter:X=>K(X,H),onMouseMove:$,onMouseLeave:ie,children:H.name}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s.jsx("button",{onClick:()=>_(L,-1),className:"w-6 h-6 bg-gray-700 rounded",children:"-"}),s.jsx("span",{className:"font-mono w-6 text-center",children:U}),s.jsx("button",{onClick:()=>_(L,1),className:"w-6 h-6 bg-gray-700 rounded",children:"+"}),s.jsx("button",{onClick:()=>T(L),className:"w-6 h-6 bg-red-600 text-white rounded text-sm",children:"X"})]})]},L):null})})]}),s.jsxs("div",{className:"w-2/3 bg-gray-900 rounded-lg p-4 flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 mb-4 flex gap-2 items-center",children:[s.jsxs("select",{value:d,onChange:L=>x(L.target.value),className:"bg-gray-700 border border-gray-600 rounded p-2",children:[s.jsx("option",{value:"all",children:"All Factions"}),$u.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id)),s.jsx("option",{value:"command",children:"Command"})]}),s.jsx("input",{type:"text",value:h,onChange:L=>g(L.target.value),placeholder:"Power",className:"bg-gray-700 border border-gray-600 rounded p-2 w-24"}),s.jsx("input",{type:"text",value:a,onChange:L=>u(L.target.value),placeholder:"Search name or ability...",className:"bg-gray-700 border border-gray-600 rounded p-2 flex-grow"})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:p.map(({id:L,card:U})=>s.jsxs("div",{className:"relative group w-32 h-32","data-interactive":"true",children:[s.jsx("div",{className:"w-full h-full",children:s.jsx(Ct,{card:{...U,id:`lib_${L}`,deck:m(L)},isFaceUp:!0,playerColorMap:new Map})}),s.jsx("div",{onClick:()=>y(L),onContextMenu:H=>{H.preventDefault(),H.stopPropagation();const X=[{label:"View",onClick:()=>M(L,U)},{isDivider:!0},{label:"Add to Deck",onClick:()=>y(L),disabled:c>=Lt}];f({x:H.clientX,y:H.clientY,items:X,onClose:()=>f(null)})},onMouseEnter:H=>K(H,U),onMouseMove:$,onMouseLeave:ie,className:"absolute inset-0 bg-black bg-opacity-60 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"Add to Deck"})})]},L))})})]})]})]})}),j&&s.jsx(ma,{x:j.x,y:j.y,children:s.jsx(Ho,{card:{...j.cardDef,id:"tooltip",deck:ce.Command}})}),O&&s.jsx(Eh,{...O})]}):null},_h=({isOpen:e,onClose:t,onSave:n})=>{const[r,l]=C.useState(""),[o,i]=C.useState(!1);if(C.useEffect(()=>{if(e){const u=localStorage.getItem("custom_ws_url")||"";l(u);const d=localStorage.getItem("ui_list_mode");i(d===null?!0:d==="true")}},[e]),!e)return null;const a=()=>{localStorage.setItem("ui_list_mode",String(o)),window.dispatchEvent(new Event("storage")),n(r)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-xl",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"server-url",className:"block text-sm font-medium text-gray-300 mb-1",children:"Server Address"}),s.jsx("input",{id:"server-url",type:"text",value:r,onChange:u=>l(u.target.value),placeholder:"e.g., ws://localhost:8080 or wss://my-server.com",className:"w-full bg-gray-700 border border-gray-600 text-white font-mono rounded-lg p-2 focus:ring-indigo-500 focus:border-indigo-500",onKeyUp:u=>u.key==="Enter"&&a()}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the full WebSocket address for the server. Leave blank to use the default."})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold",children:"List Mode Interface"}),s.jsx("p",{className:"text-xs text-gray-400",children:"In List Mode, your panel occupies the full left side of the screen, and your hand is displayed as a detailed list."})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o,onChange:u=>i(u.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),s.jsxs("div",{className:"flex justify-end mt-8 space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),s.jsx("button",{onClick:a,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"Save & Apply"})]})]})})},uf="https://res.cloudinary.com/dxxh6meej/image/upload/v1763253337/SYN_RIOT_AGENT_jurf4t.png",cf="/images/cards/SYN_RIOT_AGENT.png",df="https://res.cloudinary.com/dxxh6meej/image/upload/v1763253332/OPT_PRINCEPS_w3o5lq.png",ff="/images/cards/OPT_PRINCEPS.png",Dh=e=>e===1?{id:`demo-riot-${Math.random()}`,deck:ce.SynchroTech,name:"Riot Agent",imageUrl:uf,fallbackImage:cf,power:3,ability:`Support  Act: Place 1 stun on adjacent card. 
Act: Push an adjacent card 1 cell. ay take its place.`,ownerId:1,ownerName:"Player 1",statuses:[],types:["Unit","SynchroTech"]}:{id:`demo-princeps-${Math.random()}`,deck:ce.Optimates,name:"Princeps",imageUrl:df,fallbackImage:ff,power:3,ability:`Act: Destroy a card in a row if it has a target or threat. 
Support  Shield 1.`,ownerId:2,ownerName:"Player 2",statuses:[],types:["Unit","Optimates"]},Rh=new Map([[1,"blue"],[2,"red"]]),$l=[{id:"intro",title:"1. Introduction",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:'"New Avalon: Skirmish"'})," is a tactical card game where opponents control units simultaneously on a limited battlefield (grid)."]}),s.jsxs("p",{children:["The game uses a ",s.jsx("strong",{children:"Priority System"}),": whenever a player performs an action, other players get a chance to respond with Command cards."]})]}),demoConfig:[null,1,null,null,2,null,null,null,null]},{id:"components",title:"2. Components",content:s.jsx("div",{className:"text-left",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Deck:"})," 15100 cards (Units and Commands)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Battlefield:"})," Grid of 5x5, 6x6, or 7x7 cells."]})]})})},{id:"turn_order",title:"3. Turn Order",content:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"mb-2",children:"A turn consists of the following phases:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Deployment Phase:"})," Players place units on the board."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Abilities Phase:"})," Players trigger unit abilities."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scoring Phase:"})," Players score points from rows/columns."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Draw Phase:"})," Draw cards up to 6."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"End Phase:"})," Pass the First Player token."]})]}),s.jsx("p",{className:"mt-2 italic text-gray-400",children:"Note: Command cards can be played at any time a player has Priority."})]})},{id:"priority",title:"4. Priority",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Priority"})," is the right to perform an action."]}),s.jsx("p",{className:"mb-2",children:"A player receives priority:"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 mb-2",children:[s.jsx("li",{children:"After declaring an action."}),s.jsx("li",{children:"After their action fully resolves."}),s.jsx("li",{children:"When phases change."}),s.jsx("li",{children:"After an opponent declares an action (to respond)."})]}),s.jsxs("p",{children:["When you have priority, you can: ",s.jsx("strong",{children:"Play a Command"}),", ",s.jsx("strong",{children:"Activate an Ability"}),", or ",s.jsx("strong",{children:"Pass"}),"."]})]})},{id:"stack",title:"5. The Stack",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-2",children:["Actions that can be interrupted go into the ",s.jsx("strong",{children:"Stack"}),"."]}),s.jsxs("ul",{className:"list-disc list-inside ml-2 mb-2",children:[s.jsx("li",{children:"Commands"}),s.jsx("li",{children:"Active Abilities"}),s.jsx("li",{children:"Triggered Abilities"})]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"LIFO (Last In, First Out):"})," The last action added to the stack is resolved first."]}),s.jsx("p",{className:"text-gray-400 italic",children:"Passive abilities do not use the stack."})]})},{id:"statuses_support",title:"6. Status: Support",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-4",children:["A unit gains ",s.jsx("strong",{children:"Support"})," if an allied unit is orthogonally adjacent (up, down, left, or right) to it."]}),s.jsx("p",{children:"Many card abilities become stronger if the unit has Support."})]}),demoConfig:[null,null,null,null,1,1,null,null,null],demoCardStatuses:{4:[{type:"Support",addedByPlayerId:1}],5:[{type:"Support",addedByPlayerId:1}]}},{id:"statuses_threat",title:"6. Status: Threat",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-4",children:["A unit gains ",s.jsx("strong",{children:"Threat"})," in two situations:"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:'It is "sandwiched" between two enemy units (orthogonally).'}),s.jsx("li",{children:'It is "pinned" against the edge of the board by an enemy unit.'})]}),s.jsx("p",{className:"mt-2",children:"Threatened units are often vulnerable to destruction or debuffs."})]}),demoConfig:[null,2,null,null,1,null,null,2,null],demoCardStatuses:{4:[{type:"Threat",addedByPlayerId:2}]}},{id:"deployment",title:"7. Deployment Phase",content:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"mb-2",children:'Replaces old mechanics. The Active Player declares: "I am placing a unit."'}),s.jsx("p",{children:"Priority passes around. If everyone passes, the unit is placed face-up on an empty cell."}),s.jsx("p",{className:"mt-2",children:"Units cannot be placed on occupied cells."})]}),demoConfig:[null,null,null,null,1,null,null,null,null]},{id:"abilities",title:"8. Abilities Phase",content:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{children:"Players take turns activating their units' abilities."}),s.jsx("p",{children:"Announce ability  Place in Stack  Opponents respond  Resolve."})]})},{id:"scoring",title:"9. Scoring Phase",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{children:["A player selects ",s.jsx("strong",{children:"one row or column"}),"."]}),s.jsxs("p",{children:["They gain points equal to the total ",s.jsx("strong",{children:"Power"})," of all their units in that line."]}),s.jsx("p",{children:"Bonuses and penalties from statuses are applied."})]}),demoConfig:[1,1,1,null,null,null,null,null,null]},{id:"draw",title:"10. Draw Phase",content:s.jsx("div",{className:"text-left",children:s.jsxs("p",{children:["Each player draws cards from their deck until they have ",s.jsx("strong",{children:"6 cards"})," in hand."]})})},{id:"endgame",title:"12. End Game",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{children:["The first player to reach ",s.jsx("strong",{children:"30 points"})," triggers the final round."]}),s.jsx("p",{children:"Every other player gets one last turn to try and beat that score."}),s.jsx("p",{children:"The player with the highest score wins."})]})},{id:"glossary",title:"13. Glossary",content:s.jsxs("dl",{className:"space-y-2 text-left",children:[s.jsx("dt",{className:"font-bold text-indigo-400",children:"Priority"}),s.jsx("dd",{className:"ml-4",children:"The right to act."}),s.jsx("dt",{className:"font-bold text-indigo-400",children:"Stack"}),s.jsx("dd",{className:"ml-4",children:"LIFO queue for resolving actions."}),s.jsx("dt",{className:"font-bold text-indigo-400",children:"Command"}),s.jsx("dd",{className:"ml-4",children:"One-time use card played from hand."}),s.jsx("dt",{className:"font-bold text-indigo-400",children:"Unit"}),s.jsx("dd",{className:"ml-4",children:"Card placed on the battlefield."})]})}],Oh=({config:e,cardStatuses:t})=>{const n=e||Array(9).fill(null);return s.jsx("div",{className:"bg-board-bg p-2 rounded-lg shadow-xl aspect-square w-full max-w-[400px] mx-auto grid grid-cols-3 grid-rows-3 gap-1",children:n.map((r,l)=>{const o=r?Dh(r):null;return o&&t&&t[l]&&(o.statuses=t[l]),s.jsx("div",{className:"bg-board-cell rounded flex items-center justify-center relative",children:o?s.jsx("div",{className:"w-full h-full p-0.5",children:s.jsx(Ct,{card:o,isFaceUp:!0,playerColorMap:Rh,localPlayerId:1})}):s.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full opacity-20"})},l)})})},Mh=({isOpen:e,onClose:t})=>{const[n,r]=C.useState($l[0].id),l=C.useMemo(()=>$l.find(o=>o.id===n)||$l[0],[n]);return C.useEffect(()=>{e&&[uf,df,cf,ff].forEach(i=>{const a=new Image;a.src=i})},[e]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[100]",onClick:t,children:s.jsxs("div",{className:"bg-gray-900 w-[95vw] h-[90vh] rounded-xl shadow-2xl flex overflow-hidden border border-gray-700",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"w-1/4 min-w-[250px] bg-gray-800 border-r border-gray-700 flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"Encyclopedia"})}),s.jsx("div",{className:"flex-grow overflow-y-auto p-2 space-y-1",children:$l.map(o=>s.jsx("button",{onClick:()=>r(o.id),className:`w-full text-left px-4 py-3 rounded-md transition-colors text-sm font-medium ${n===o.id?"bg-indigo-600 text-white shadow-md":"text-gray-400 hover:bg-gray-700 hover:text-gray-200"}`,children:o.title},o.id))}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:s.jsx("button",{onClick:t,className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 rounded transition-colors",children:"Close Rules"})})]}),s.jsxs("div",{className:"w-2/5 p-8 overflow-y-auto border-r border-gray-700 bg-gray-900 text-left",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-6 border-b border-indigo-500 pb-2 inline-block",children:l.title}),s.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 leading-relaxed text-left",children:l.content})]}),s.jsxs("div",{className:"w-[35%] bg-gray-800 flex flex-col items-center justify-center p-8 relative",children:[s.jsx("h3",{className:"absolute top-6 left-0 right-0 text-center text-gray-400 text-sm uppercase tracking-widest font-bold",children:"Visual Demonstration"}),s.jsx("div",{className:"w-full",children:s.jsx(Oh,{config:l.demoConfig,cardStatuses:l.demoCardStatuses})}),s.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm italic max-w-xs",children:["Example of the rule in action on a 3x3 grid snippet. ",s.jsx("br",{}),s.jsx("span",{className:"text-blue-400 font-bold",children:"Riot Agent"})," = Friendly, ",s.jsx("span",{className:"text-red-400 font-bold",children:"Princeps"})," = Enemy."]})]})]})}):null},Ah=4,Bu=7,Lh=()=>{const e=localStorage.getItem("custom_ws_url");if(e&&e.trim()!=="")return console.log(`Using custom WebSocket URL: ${e}`),e.trim();const t=window.location.protocol==="https:"?"wss":"ws",n=window.location.hostname||"localhost";return window.location.port&&window.location.port!=="80"&&window.location.port!=="443"&&window.location.hostname==="localhost"?"wss://platinocyanic-unsceptically-belia.ngrok-free.dev":`${t}://${n}`},zh=()=>Math.random().toString(36).substring(2,18).toUpperCase(),Gu=()=>Array(Bu).fill(null).map(()=>Array(Bu).fill({card:null})),Bl=e=>{const{board:t,activeGridSize:n,players:r}=e,l=JSON.parse(JSON.stringify(t)),o=l.length,i=Math.floor((o-n)/2),a=new Map;r.forEach(u=>a.set(u.id,u.teamId));for(let u=0;u<o;u++)for(let d=0;d<o;d++){const x=l[u][d].card;x&&x.statuses&&(x.statuses=x.statuses.filter(h=>h.type!=="Support"&&h.type!=="Threat"))}for(let u=0;u<o;u++)for(let d=0;d<o;d++){const x=l[u][d].card;if(!x||x.ownerId===void 0||x.isFaceDown)continue;const h=x.ownerId,g=a.get(h),j=[{r:u-1,c:d},{r:u+1,c:d},{r:u,c:d-1},{r:u,c:d+1}],b={};let w=!1;for(const f of j){const{r:c,c:m}=f;if(c>=0&&c<o&&m>=0&&m<o){const p=l[c][m].card;if(p&&p.ownerId!==void 0&&!p.isFaceDown){const y=p.ownerId,T=a.get(y);h===y||g!==void 0&&g===T?w=!0:(b[y]||(b[y]=[]),b[y].push({r:c,c:m}))}}}w&&(x.statuses||(x.statuses=[]),x.statuses.some(f=>f.type==="Support")||x.statuses.push({type:"Support",addedByPlayerId:h}));let O=null;for(const f in b)if(b[f].length>=2){O=parseInt(f,10);break}if(O===null&&u>=i&&u<i+n&&d>=i&&d<i+n){const c=u===i||u===i+n-1||d===i||d===i+n-1,m=Object.keys(b).length>0;c&&m&&(O=parseInt(Object.keys(b)[0],10))}O!==null&&(x.statuses||(x.statuses=[]),x.statuses.some(f=>f.type==="Threat")||x.statuses.push({type:"Threat",addedByPlayerId:O}))}return l},Fh=()=>{const e=C.useCallback((v,N,S)=>{const E=vi[v];if(!E)return console.error(`Deck data for ${v} not loaded! Returning empty deck.`),[];const P=[...E].map(V=>({...V,ownerId:N,ownerName:S}));return Ss(P)},[]),t=C.useCallback((v,N=!1)=>{const S=Object.keys(vi)[0],E={id:v,name:N?`Dummy ${v-1}`:`Player ${v}`,score:0,hand:[],deck:[],discard:[],announcedCard:null,selectedDeck:S,color:lf[v-1]||"blue",isDummy:N,isReady:!1};return E.deck=e(S,v,E.name),E},[e]),n=C.useCallback(()=>({players:[],board:Gu(),activeGridSize:7,gameId:null,dummyPlayerCount:0,isGameStarted:!1,gameMode:mn.FreeForAll,isPrivate:!0,isReadyCheckActive:!1,revealRequests:[],activeTurnPlayerId:void 0}),[]),[r,l]=C.useState(n),[o,i]=C.useState(null),[a,u]=C.useState(null),[d,x]=C.useState("Connecting"),[h,g]=C.useState([]),[j,b]=C.useState(null),w=C.useRef(null),O=C.useRef(null),f=C.useRef(null);C.useRef(new Set);const c=C.useRef(r);C.useEffect(()=>{c.current=r},[r]);const m=C.useRef(o);C.useEffect(()=>{m.current=o},[o]);const p=C.useCallback(v=>{l(N=>{const S=typeof v=="function"?v(N):v;return w.current&&w.current.readyState===WebSocket.OPEN&&w.current.send(JSON.stringify({type:"UPDATE_STATE",gameState:S})),S})},[]),y=C.useCallback(()=>{if(w.current&&w.current.readyState!==WebSocket.CLOSED)return;const v=Lh();try{w.current=new WebSocket(v)}catch(N){console.error("Failed to create WebSocket:",N),x("Disconnected"),O.current&&clearTimeout(O.current),O.current=window.setTimeout(y,3e3);return}x("Connecting"),w.current.onopen=()=>{var S;console.log("WebSocket connection established"),x("Connected");const N=c.current;N&&N.gameId&&((S=w.current)==null?void 0:S.readyState)===WebSocket.OPEN&&w.current.send(JSON.stringify({type:"SUBSCRIBE",gameId:N.gameId}))},w.current.onmessage=N=>{try{const S=JSON.parse(N.data);if(S.type==="GAMES_LIST")g(S.games);else if(S.type==="JOIN_SUCCESS"){i(S.playerId);const E=f.current;E&&S.playerId!==null&&S.playerToken?localStorage.setItem("reconnection_data",JSON.stringify({gameId:E,playerId:S.playerId,playerToken:S.playerToken,timestamp:Date.now()})):S.playerId===null&&localStorage.removeItem("reconnection_data"),f.current=null}else S.type==="ERROR"?(alert(S.message),localStorage.removeItem("reconnection_data"),l(n()),i(null)):S.type==="HIGHLIGHT_TRIGGERED"?b(S.highlightData):l(S)}catch(S){console.error("Failed to parse message from server:",N.data,S)}},w.current.onclose=()=>{console.log("WebSocket connection closed. Attempting to reconnect..."),x("Disconnected"),O.current&&clearTimeout(O.current),O.current=window.setTimeout(y,3e3)},w.current.onerror=N=>console.error("WebSocket error event:",N)},[l,n]),T=C.useCallback(()=>{w.current&&(console.log("Forcing WebSocket reconnection..."),w.current.close())},[]),_=C.useCallback(v=>{var N;if(((N=w.current)==null?void 0:N.readyState)===WebSocket.OPEN){f.current=v;let S=null;try{const P=localStorage.getItem("reconnection_data");P&&(S=JSON.parse(P))}catch(P){console.error("Could not parse reconnection data:",P),localStorage.removeItem("reconnection_data")}const E={type:"JOIN_GAME",gameId:v};S&&S.gameId===v&&S.playerToken&&(E.playerToken=S.playerToken),w.current.send(JSON.stringify(E))}else alert("Could not connect to the server. Please try refreshing the page.")},[]);C.useEffect(()=>(localStorage.removeItem("reconnection_data"),y(),()=>{O.current&&clearTimeout(O.current),w.current&&(w.current.onclose=null,w.current.close())}),[y]);const F=C.useCallback(()=>{var S;localStorage.removeItem("reconnection_data");const v=zh(),N={...n(),gameId:v,players:[t(1)]};p(N),((S=w.current)==null?void 0:S.readyState)===WebSocket.OPEN&&w.current.send(JSON.stringify({type:"SUBSCRIBE",gameId:v}))},[p,n,t]),Y=C.useCallback(()=>{var v;((v=w.current)==null?void 0:v.readyState)===WebSocket.OPEN&&w.current.send(JSON.stringify({type:"GET_GAMES_LIST"}))},[]),M=C.useCallback(()=>{var S;const v=c.current.gameId,N=m.current;l(n()),i(null),localStorage.removeItem("reconnection_data"),((S=w.current)==null?void 0:S.readyState)===WebSocket.OPEN&&v&&N!==null&&w.current.send(JSON.stringify({type:"LEAVE_GAME",gameId:v,playerId:N}))},[n]),K=C.useCallback(()=>{p(v=>({...v,isGameStarted:!0}))},[p]),$=C.useCallback(()=>{var v;((v=w.current)==null?void 0:v.readyState)===WebSocket.OPEN&&c.current.gameId&&w.current.send(JSON.stringify({type:"START_READY_CHECK",gameId:c.current.gameId}))},[]),ie=C.useCallback(()=>{var v;((v=w.current)==null?void 0:v.readyState)===WebSocket.OPEN&&c.current.gameId&&m.current!==null&&w.current.send(JSON.stringify({type:"PLAYER_READY",gameId:c.current.gameId,playerId:m.current}))},[]),L=C.useCallback(v=>{var N;((N=w.current)==null?void 0:N.readyState)===WebSocket.OPEN&&c.current.gameId&&w.current.send(JSON.stringify({type:"ASSIGN_TEAMS",gameId:c.current.gameId,assignments:v}))},[]),U=C.useCallback(v=>{var N;((N=w.current)==null?void 0:N.readyState)===WebSocket.OPEN&&c.current.gameId&&w.current.send(JSON.stringify({type:"SET_GAME_MODE",gameId:c.current.gameId,mode:v}))},[]),H=C.useCallback(v=>{var N;((N=w.current)==null?void 0:N.readyState)===WebSocket.OPEN&&c.current.gameId&&w.current.send(JSON.stringify({type:"SET_GAME_PRIVACY",gameId:c.current.gameId,isPrivate:v}))},[]),X=C.useCallback(()=>{var v;((v=w.current)==null?void 0:v.readyState)===WebSocket.OPEN&&c.current.gameId&&m.current===1&&w.current.send(JSON.stringify({type:"FORCE_SYNC",gameState:c.current}))},[]),R=C.useCallback(()=>{p(v=>{if(m.current!==1)return v;const N=v.players.map(S=>{const E=e(S.selectedDeck,S.id,S.name);return{...S,hand:[],deck:E,discard:[],announcedCard:null,score:0,isReady:!1}});return{...v,players:N,board:Gu(),isGameStarted:!1,isReadyCheckActive:!1,revealRequests:[],activeTurnPlayerId:void 0}})},[p,e]),z=C.useCallback(v=>{p(N=>{if(N.isGameStarted)return N;const S={...N,activeGridSize:v};return S.board=Bl(S),S})},[p]),q=C.useCallback(v=>{p(N=>{if(N.isGameStarted)return N;const S=N.players.filter(P=>!P.isDummy);if(S.length+v>Ah)return N;const E=[...S];for(let P=0;P<v;P++){const V=E.length+1,I=t(V,!0);I.name=`Dummy ${P+1}`,E.push(I)}return{...N,players:E,dummyPlayerCount:v}})},[p,t]),ne=C.useCallback((v,N,S)=>{p(E=>{var I;if(!E.isGameStarted)return E;const P=JSON.parse(JSON.stringify(E)),V=P.board[v.row][v.col].card;if(V){if(["Support","Threat","Revealed"].includes(N)&&((I=V.statuses)==null?void 0:I.some(ee=>ee.type===N&&ee.addedByPlayerId===S)))return E;V.statuses||(V.statuses=[]),V.statuses.push({type:N,addedByPlayerId:S})}return P})},[p]),oe=C.useCallback((v,N)=>{p(S=>{if(!S.isGameStarted)return S;const E=JSON.parse(JSON.stringify(S)),P=E.board[v.row][v.col].card;if(P!=null&&P.statuses){const V=P.statuses.map(I=>I.type).lastIndexOf(N);V>-1&&P.statuses.splice(V,1)}return E})},[p]),Oe=C.useCallback((v,N)=>{p(S=>{if(!S.isGameStarted)return S;const E=JSON.parse(JSON.stringify(S)),P=E.board[v.row][v.col].card;return P&&(P.powerModifier===void 0&&(P.powerModifier=0),P.powerModifier+=N),E})},[p]),Te=C.useCallback((v,N,S)=>{p(E=>{var I;if(!E.isGameStarted)return E;const P=JSON.parse(JSON.stringify(E)),V=P.players.find(W=>W.id===v);if(V&&V.announcedCard){if(["Support","Threat","Revealed"].includes(N)&&((I=V.announcedCard.statuses)==null?void 0:I.some(ee=>ee.type===N&&ee.addedByPlayerId===S)))return E;V.announcedCard.statuses||(V.announcedCard.statuses=[]),V.announcedCard.statuses.push({type:N,addedByPlayerId:S})}return P})},[p]),at=C.useCallback((v,N)=>{p(S=>{var V;if(!S.isGameStarted)return S;const E=JSON.parse(JSON.stringify(S)),P=E.players.find(I=>I.id===v);if(P&&((V=P.announcedCard)!=null&&V.statuses)){const I=P.announcedCard.statuses.map(W=>W.type).lastIndexOf(N);I>-1&&P.announcedCard.statuses.splice(I,1)}return E})},[p]),Q=C.useCallback((v,N)=>{p(S=>{if(!S.isGameStarted)return S;const E=JSON.parse(JSON.stringify(S)),P=E.players.find(V=>V.id===v);return P&&P.announcedCard&&(P.announcedCard.powerModifier===void 0&&(P.announcedCard.powerModifier=0),P.announcedCard.powerModifier+=N),E})},[p]),J=C.useCallback(v=>{p(N=>{if(!N.isGameStarted)return N;const S=JSON.parse(JSON.stringify(N)),E=S.board[v.row][v.col].card;return E&&(E.isFaceDown=!1),S.board=Bl(S),S})},[p]),ke=C.useCallback(v=>{p(N=>{if(!N.isGameStarted)return N;const S=JSON.parse(JSON.stringify(N)),E=S.board[v.row][v.col].card;return E&&(E.isFaceDown=!0),S.board=Bl(S),S})},[p]),Me=C.useCallback((v,N,S)=>{p(E=>{const P=E.players.find(W=>W.id===v);if(!P||!P.hand[N])return E;const V=JSON.parse(JSON.stringify(E)),I=V.players.find(W=>W.id===v).hand[N];if(S==="all")I.revealedTo="all",I.statuses||(I.statuses=[]),I.statuses.some(W=>W.type==="Revealed"&&W.addedByPlayerId===v)||I.statuses.push({type:"Revealed",addedByPlayerId:v});else{(!I.revealedTo||I.revealedTo==="all"||!Array.isArray(I.revealedTo))&&(I.revealedTo=[]);const W=S.filter(ee=>!I.revealedTo.includes(ee));I.revealedTo.push(...W)}return V})},[p]),Rt=C.useCallback((v,N)=>{p(S=>{if(!S.board[v.row][v.col].card)return S;const P=JSON.parse(JSON.stringify(S)),V=P.board[v.row][v.col].card,I=V.ownerId;if(N==="all")V.revealedTo="all",I!==void 0&&(V.statuses||(V.statuses=[]),V.statuses.some(W=>W.type==="Revealed"&&W.addedByPlayerId===I)||V.statuses.push({type:"Revealed",addedByPlayerId:I}));else{(!V.revealedTo||V.revealedTo==="all"||!Array.isArray(V.revealedTo))&&(V.revealedTo=[]);const W=N.filter(ee=>!V.revealedTo.includes(ee));V.revealedTo.push(...W)}return P})},[p]),tt=C.useCallback((v,N)=>{p(S=>{var I;const E=v.boardCoords?(I=S.board[v.boardCoords.row][v.boardCoords.col].card)==null?void 0:I.ownerId:v.ownerId;if(!E)return S;const P=JSON.parse(JSON.stringify(S)),V=P.revealRequests.find(W=>W.fromPlayerId===N&&W.toPlayerId===E);return V?V.cardIdentifiers.some(ee=>JSON.stringify(ee)===JSON.stringify(v))||V.cardIdentifiers.push(v):P.revealRequests.push({fromPlayerId:N,toPlayerId:E,cardIdentifiers:[v]}),P})},[p]),qe=C.useCallback((v,N)=>{p(S=>{const E=S.revealRequests.findIndex(I=>I.toPlayerId===m.current&&I.fromPlayerId===v);if(E===-1)return S;const P=JSON.parse(JSON.stringify(S)),V=P.revealRequests[E];if(N){const{toPlayerId:I,cardIdentifiers:W}=V;for(const ee of W){let ae=null;if(ee.source==="board"&&ee.boardCoords)ae=P.board[ee.boardCoords.row][ee.boardCoords.col].card;else if(ee.source==="hand"&&ee.ownerId&&ee.cardIndex!==void 0){const Ne=P.players.find(Un=>Un.id===ee.ownerId);Ne&&(ae=Ne.hand[ee.cardIndex])}ae&&(ae.statuses||(ae.statuses=[]),ae.statuses.some(Ne=>Ne.type==="Revealed"&&Ne.addedByPlayerId===v)||ae.statuses.push({type:"Revealed",addedByPlayerId:v}))}}return P.revealRequests.splice(E,1),P})},[p]),Ot=C.useCallback(v=>{p(N=>{const S=JSON.parse(JSON.stringify(N));let E=null;if(v.source==="board"&&v.boardCoords)E=S.board[v.boardCoords.row][v.boardCoords.col].card;else if(v.source==="hand"&&v.playerId&&v.cardIndex!==void 0){const P=S.players.find(V=>V.id===v.playerId);P&&(E=P.hand[v.cardIndex])}return E&&(E.statuses&&(E.statuses=E.statuses.filter(P=>P.type!=="Revealed")),delete E.revealedTo),S})},[p]),Wo=C.useCallback((v,N)=>{p(S=>S.isGameStarted?S:{...S,players:S.players.map(E=>E.id===v?{...E,name:N}:E)})},[p]),wr=C.useCallback((v,N)=>{p(S=>S.isGameStarted||S.players.some(P=>P.id!==v&&!P.isDummy&&P.color===N)?S:{...S,players:S.players.map(P=>P.id===v?{...P,color:N}:P)})},[p]),vl=C.useCallback((v,N)=>{p(S=>S.isGameStarted?{...S,players:S.players.map(E=>E.id===v?{...E,score:E.score+N}:E)}:S)},[p]),wn=C.useCallback((v,N)=>{p(S=>S.isGameStarted?S:{...S,players:S.players.map(E=>E.id===v?{...E,deck:e(N,v,E.name),selectedDeck:N,hand:[],discard:[],announcedCard:null}:E)})},[p,e]),xl=C.useCallback((v,N)=>{p(S=>{if(S.isGameStarted)return S;const E=S.players.find(I=>I.id===v);if(!E)return S;const P=[];let V=new Map;for(const{cardId:I,quantity:W}of N.cards){const ee=ya(I);if(!ee)continue;const ae=To.has(I),Ne=ae?ce.Command:ce.Custom,Un=ae?"CMD":"CUS";for(let Ae=0;Ae<W;Ae++){const kl=(V.get(I)||0)+1;V.set(I,kl),P.push({...ee,id:`${Un}_${I.toUpperCase()}_${kl}`,deck:Ne,ownerId:v,ownerName:E.name})}}return{...S,players:S.players.map(I=>I.id===v?{...I,deck:Ss(P),selectedDeck:ce.Custom,hand:[],discard:[],announcedCard:null}:I)}})},[p]),kn=C.useCallback(v=>{p(N=>{if(!N.isGameStarted)return N;const S=N.players.find(I=>I.id===v);if(!S||S.deck.length===0)return N;const E=JSON.parse(JSON.stringify(N)),P=E.players.find(I=>I.id===v),V=P.deck.shift();return V&&P.hand.push(V),E})},[p]),Vo=C.useCallback(v=>{p(N=>{if(!N.isGameStarted||!N.players.find(V=>V.id===v))return N;const E=JSON.parse(JSON.stringify(N)),P=E.players.find(V=>V.id===v);return P.deck=Ss(P.deck),E})},[p]),kr=C.useCallback(v=>{p(N=>{const S=N.activeTurnPlayerId===v?void 0:v;return{...N,activeTurnPlayerId:S}})},[p]),wl=C.useCallback((v,N)=>{p(S=>{if(!S.isGameStarted)return S;const E=JSON.parse(JSON.stringify(S));if(v.source==="board"&&["hand","deck","discard"].includes(N.target)){const I=v.card.ownerId,W=E.players.find(Ne=>Ne.id===I),ee=I===m.current,ae=!!(W!=null&&W.isDummy);if(!ee&&!ae)return S}let P={...v.card};if(v.source==="hand"&&v.playerId!==void 0&&v.cardIndex!==void 0){const I=E.players.find(W=>W.id===v.playerId);I&&I.hand.splice(v.cardIndex,1)}else if(v.source==="board"&&v.boardCoords)E.board[v.boardCoords.row][v.boardCoords.col].card=null;else if(v.source==="discard"&&v.playerId!==void 0&&v.cardIndex!==void 0){const I=E.players.find(W=>W.id===v.playerId);I&&I.discard.splice(v.cardIndex,1)}else if(v.source==="deck"&&v.playerId!==void 0&&v.cardIndex!==void 0){const I=E.players.find(W=>W.id===v.playerId);I&&I.deck.splice(v.cardIndex,1)}else if(v.source==="announced"&&v.playerId!==void 0){const I=E.players.find(W=>W.id===v.playerId);I&&(I.announcedCard=null)}if(["hand","deck","discard"].includes(N.target))P.statuses&&(P.statuses=P.statuses.filter(I=>I.type==="Revealed")),P.isFaceDown=!1,delete P.powerModifier;else if(N.target==="board"){if(v.source==="counter_panel"&&N.boardCoords){const I=E.board[N.boardCoords.row][N.boardCoords.col].card;if(I&&v.statusType){const W=v.count||1;if(v.statusType==="Power+")I.powerModifier===void 0&&(I.powerModifier=0),I.powerModifier+=1*W;else if(v.statusType==="Power-")I.powerModifier===void 0&&(I.powerModifier=0),I.powerModifier-=1*W;else{I.statuses||(I.statuses=[]);for(let ee=0;ee<W;ee++)["Support","Threat","Revealed"].includes(v.statusType)?!I.statuses.some(Ne=>Ne.type===v.statusType&&Ne.addedByPlayerId===m.current)&&m.current!==null&&I.statuses.push({type:v.statusType,addedByPlayerId:m.current}):m.current!==null&&I.statuses.push({type:v.statusType,addedByPlayerId:m.current})}}return E}P.statuses||(P.statuses=[]),v.source!=="board"&&P.isFaceDown===void 0&&(P.isFaceDown=!1)}if(N.target==="hand"&&N.playerId!==void 0){const I=E.players.find(W=>W.id===N.playerId);I&&I.hand.push(P)}else if(N.target==="board"&&N.boardCoords){if(E.board[N.boardCoords.row][N.boardCoords.col].card===null){if(P.ownerId===void 0&&m.current!==null){const I=E.players.find(W=>W.id===m.current);I&&(P.ownerId=I.id,P.ownerName=I.name)}if(v.source==="hand"&&v.playerId!==void 0){const I=v.playerId;for(let W=0;W<E.board.length;W++)for(let ee=0;ee<E.board[W].length;ee++){const ae=E.board[W][ee].card;ae&&ae.ownerId===I&&ae.statuses&&(ae.statuses=ae.statuses.filter(Ne=>Ne.type!=="LastPlayed"))}P.statuses||(P.statuses=[]),P.statuses=P.statuses.filter(W=>W.type!=="LastPlayed"),P.statuses.push({type:"LastPlayed",addedByPlayerId:I})}E.board[N.boardCoords.row][N.boardCoords.col].card=P}}else if(N.target==="discard"&&N.playerId!==void 0){if(P.deck!=="Tokens"){const I=E.players.find(W=>W.id===N.playerId);I&&I.discard.push(P)}}else if(N.target==="deck"&&N.playerId!==void 0){const I=E.players.find(W=>W.id===N.playerId);I&&(N.deckPosition==="top"?I.deck.unshift(P):I.deck.push(P))}else if(N.target==="announced"&&N.playerId!==void 0){const I=E.players.find(W=>W.id===N.playerId);I&&(I.announcedCard&&I.discard.push(I.announcedCard),I.announcedCard=P)}return(v.source==="board"||N.target==="board")&&(E.board=Bl(E)),E})},[p]),Cr=C.useCallback(v=>{var N;if(((N=w.current)==null?void 0:N.readyState)===WebSocket.OPEN&&c.current.gameId){const S={...v,timestamp:Date.now()};w.current.send(JSON.stringify({type:"TRIGGER_HIGHLIGHT",gameId:c.current.gameId,highlightData:S}))}},[]);return{gameState:r,localPlayerId:o,setLocalPlayerId:i,draggedItem:a,setDraggedItem:u,connectionStatus:d,gamesList:h,latestHighlight:j,createGame:F,joinGame:_,requestGamesList:Y,exitGame:M,startGame:K,startReadyCheck:$,playerReady:ie,assignTeams:L,setGameMode:U,setGamePrivacy:H,setActiveGridSize:z,setDummyPlayerCount:q,updatePlayerName:Wo,changePlayerColor:wr,updatePlayerScore:vl,changePlayerDeck:wn,loadCustomDeck:xl,drawCard:kn,shufflePlayerDeck:Vo,moveItem:wl,handleDrop:wl,addBoardCardStatus:ne,removeBoardCardStatus:oe,modifyBoardCardPower:Oe,addAnnouncedCardStatus:Te,removeAnnouncedCardStatus:at,modifyAnnouncedCardPower:Q,flipBoardCard:J,flipBoardCardFaceDown:ke,revealHandCard:Me,revealBoardCard:Rt,requestCardReveal:tt,respondToRevealRequest:qe,syncGame:X,removeRevealedStatus:Ot,resetGame:R,toggleActiveTurnPlayer:kr,forceReconnect:T,triggerHighlight:Cr}},Uh=({x:e,y:t,items:n,onClose:r})=>{const l=e+200>window.innerWidth?window.innerWidth-210:e,o=n.reduce((a,u)=>a+("isDivider"in u?9:32),0),i=t+o>window.innerHeight?window.innerHeight-o-10:t;return s.jsx("div",{className:"fixed bg-gray-900 border border-gray-700 rounded-md shadow-lg z-[100] py-1",style:{top:i,left:l},onClick:a=>a.stopPropagation(),children:n.map((a,u)=>"isDivider"in a?s.jsx("hr",{className:"border-gray-700 my-1"},`divider-${u}`):"onClick"in a?s.jsx("button",{onClick:()=>{a.disabled||(a.onClick(),r())},disabled:a.disabled,className:"block w-full text-left px-4 py-1 text-sm text-white hover:bg-indigo-600 disabled:text-gray-500 disabled:cursor-not-allowed disabled:bg-gray-800",style:{fontWeight:a.isBold?"bold":"normal"},children:a.label},u):s.jsxs("div",{className:"flex items-center justify-between px-4 py-1 text-sm text-white w-full space-x-2",children:[s.jsx("button",{onClick:d=>{d.stopPropagation(),a.onRemove()},disabled:a.removeDisabled,className:"w-7 h-6 flex items-center justify-center bg-gray-700 hover:bg-red-600 rounded disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed font-mono text-lg",children:"-"}),s.jsx("span",{className:"flex-grow text-center",children:a.label}),s.jsx("button",{onClick:d=>{d.stopPropagation(),a.onAdd()},className:"w-7 h-6 flex items-center justify-center bg-gray-700 hover:bg-green-600 rounded font-mono text-lg",children:"+"})]},u))})};function $h(){const{gameState:e,localPlayerId:t,setLocalPlayerId:n,createGame:r,joinGame:l,startReadyCheck:o,playerReady:i,assignTeams:a,setGameMode:u,setGamePrivacy:d,setActiveGridSize:x,setDummyPlayerCount:h,updatePlayerName:g,changePlayerColor:j,updatePlayerScore:b,changePlayerDeck:w,loadCustomDeck:O,drawCard:f,handleDrop:c,draggedItem:m,setDraggedItem:p,connectionStatus:y,gamesList:T,requestGamesList:_,exitGame:F,moveItem:Y,shufflePlayerDeck:M,addBoardCardStatus:K,removeBoardCardStatus:$,modifyBoardCardPower:ie,addAnnouncedCardStatus:L,removeAnnouncedCardStatus:U,modifyAnnouncedCardPower:H,flipBoardCard:X,flipBoardCardFaceDown:R,revealHandCard:z,revealBoardCard:q,requestCardReveal:ne,respondToRevealRequest:oe,syncGame:Oe,removeRevealedStatus:Te,resetGame:at,toggleActiveTurnPlayer:Q,forceReconnect:J,triggerHighlight:ke,latestHighlight:Me}=Fh(),[Rt,tt]=C.useState(!1),[qe,Ot]=C.useState(!1),[Wo,wr]=C.useState(!1),[vl,wn]=C.useState(!1),[xl,kn]=C.useState(!1),[Vo,kr]=C.useState(!1),[wl,Cr]=C.useState(null),[v,N]=C.useState(null),[S,E]=C.useState(!1),[P,V]=C.useState(null),[I,W]=C.useState(null),[ee,ae]=C.useState(null),[Ne,Un]=C.useState(!0),[Ae,kl]=C.useState(Date.now()),[va,Yo]=C.useState(null),[Cl,yt]=C.useState(null),[Ee,Sr]=C.useState(null),Cn=C.useRef(null),Sl=C.useRef(null),[xa,wa]=C.useState(null),mf=C.useRef(null),Nr=C.useRef(null),[hf,ka]=C.useState(void 0);C.useMemo(()=>e.players.filter(k=>!k.isDummy&&!k.isDisconnected).length,[e.players]);const $n=t===null&&e.gameId!==null,gf=C.useMemo(()=>e.players.filter(k=>!k.isDummy).length,[e.players]),Qo=t===1,he=C.useMemo(()=>e.players.find(k=>k.id===t),[e.players,t]),yf=e.gameId&&(he||$n),Sn=C.useMemo(()=>{const k=new Map;return e.players.forEach(D=>k.set(D.id,D.color)),k},[e.players]);C.useEffect(()=>{const k=()=>{const D=localStorage.getItem("ui_list_mode");Un(D===null?!0:D==="true")};return k(),window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[]),C.useLayoutEffect(()=>{if(!Ne){ka(void 0);return}const k=()=>{if(Nr.current){const Le=window.innerWidth,B=Nr.current.getBoundingClientRect();if(B.width===0)return;const bt=(Le-B.width)/2-10;ka(Math.max(0,bt))}},D=new ResizeObserver(k);Nr.current&&D.observe(Nr.current),window.addEventListener("resize",k),k();const te=setTimeout(k,100);return()=>{D.disconnect(),window.removeEventListener("resize",k),clearTimeout(te)}},[Ne,t,e.activeGridSize,he,e.isGameStarted,e.players.length]),C.useLayoutEffect(()=>{Ee&&Cn.current&&Sl.current&&(Cn.current.style.left=`${Sl.current.x+1}px`,Cn.current.style.top=`${Sl.current.y+1}px`)},[Ee]),C.useEffect(()=>{const k=D=>{Cn.current&&Ee&&(Cn.current.style.left=`${D.clientX+1}px`,Cn.current.style.top=`${D.clientY+1}px`)};return Ee&&window.addEventListener("mousemove",k),()=>{window.removeEventListener("mousemove",k)}},[Ee]),C.useEffect(()=>{const k=te=>{te.key==="Escape"&&(Sr(null),yt(null))},D=te=>{(Ee||Cl)&&(te.preventDefault(),Sr(null),yt(null))};return window.addEventListener("keydown",k),window.addEventListener("contextmenu",D),()=>{window.removeEventListener("keydown",k),window.removeEventListener("contextmenu",D)}},[Ee,Cl]),C.useEffect(()=>{if(Me){wa(Me);const k=setTimeout(()=>wa(null),1e3);return()=>clearTimeout(k)}},[Me]);const Nn=()=>{wn(!1),kn(!1),V(null),W(null),ae(null),kr(!1)},vf=()=>{Qo&&(e.gameMode===mn.FreeForAll?o():E(!0))},xf=k=>{a(k),E(!1),o()},wf=k=>{l(k),tt(!1)},kf=()=>{r(),n(1)},Cf=()=>{_(),tt(!0)},Sf=k=>{localStorage.setItem("custom_ws_url",k.trim());const D=localStorage.getItem("ui_list_mode");Un(D===null?!0:D==="true"),wr(!1),J()},Nf=()=>{kl(Date.now()),Oe()},Yt=k=>{t!==null&&ke({...k,playerId:t})},jr=()=>{Yo(null)},Qt=(k,D,te)=>{k.preventDefault(),k.stopPropagation(),!(t===null||!e.isGameStarted)&&Yo({x:k.clientX,y:k.clientY,type:D,data:te})},Ca=(k,D)=>{var qt;const te=k.ownerId===t;if(te&&k.isFaceDown){X(D);return}const Le=k.ownerId?e.players.find(bt=>bt.id===k.ownerId):void 0,B=(qt=k.statuses)==null?void 0:qt.some(bt=>bt.type==="Revealed"&&bt.addedByPlayerId===t);!k.isFaceDown||k.revealedTo==="all"||Array.isArray(k.revealedTo)&&k.revealedTo.includes(t)||B||te?ae({card:k,player:Le}):t!==null&&ne({source:"board",ownerId:k.ownerId,boardCoords:D},t)},Sa=k=>{Yt({type:"cell",row:k.row,col:k.col})},qo=(k,D,te)=>{var Le;if(k.id===t){Nn();const B={card:D,source:"hand",playerId:k.id,cardIndex:te};yt({card:D,sourceItem:B,faceDown:!1})}else if(t!==null){const B=D.revealedTo==="all",Bn=Array.isArray(D.revealedTo)&&D.revealedTo.includes(t),qt=(Le=D.statuses)==null?void 0:Le.some(br=>br.type==="Revealed"&&br.addedByPlayerId===t);B||Bn||qt||!!k.isDummy||!!k.isDisconnected?ae({card:D,player:k}):ne({source:"hand",ownerId:k.id,cardIndex:te},t)}},Na=(k,D,te,Le)=>{const B={card:D,source:Le,playerId:k.id,cardIndex:te};Y(B,{target:"hand",playerId:k.id})},jf=k=>{V(null),W(k)},bf=k=>{W(null),V({player:k})},Tf=C.useMemo(()=>{var Bn,qt,bt,br;if(!va||t===null)return null;const{type:k,data:D,x:te,y:Le}=va;let B=[];if(k==="emptyBoardCell")B.push({label:"Highlight Cell",onClick:()=>Yt({type:"cell",row:D.boardCoords.row,col:D.boardCoords.col})}),B.push({label:"Highlight Column",onClick:()=>Yt({type:"col",col:D.boardCoords.col})}),B.push({label:"Highlight Row",onClick:()=>Yt({type:"row",row:D.boardCoords.row})});else if(k==="boardItem"||k==="announcedCard"){const Z=k==="boardItem",le=Z?e.board[D.boardCoords.row][D.boardCoords.col].card:D.card,Ce=Z?null:D.player;if(!le)return Yo(null),null;const Mt=le.ownerId?e.players.find(ze=>ze.id===le.ownerId):void 0,Tr=le.ownerId===t,Gn=!!(Mt!=null&&Mt.isDummy),Er=Tr||Gn,Jo=(Bn=le.statuses)==null?void 0:Bn.some(ze=>ze.type==="Revealed"&&ze.addedByPlayerId===t),Hn=!le.isFaceDown||le.revealedTo==="all"||Array.isArray(le.revealedTo)&&le.revealedTo.includes(t)||Jo;(Hn||Tr&&le.isFaceDown)&&B.push({label:"View",isBold:!0,onClick:()=>ae({card:le,player:Mt})}),Z&&Er&&(le.isFaceDown?B.push({label:"Flip Face Up",isBold:!0,onClick:()=>X(D.boardCoords)}):B.push({label:"Flip Face Down",onClick:()=>R(D.boardCoords)}));const Jt=Z?{card:le,source:"board",boardCoords:D.boardCoords}:{card:le,source:"announced",playerId:Ce.id},Tt=le.ownerId,Ge=(le==null?void 0:le.deck)===ce.Tokens||(le==null?void 0:le.deck)==="counter";if(Z&&(Er&&le.isFaceDown&&B.push({label:"Reveal to All",onClick:()=>q(D.boardCoords,"all")}),!Tr&&!Hn&&B.push({label:"Request Reveal",onClick:()=>ne({source:"board",ownerId:le.ownerId,boardCoords:D.boardCoords},t)}),(qt=le.statuses)!=null&&qt.some(ze=>ze.type==="Revealed")&&B.push({label:"Remove Revealed",onClick:()=>Te({source:"board",boardCoords:D.boardCoords})})),B.length>0&&B.push({isDivider:!0}),Er&&Hn&&(B.push({label:"To Hand",disabled:Ge,onClick:()=>Y(Jt,{target:"hand",playerId:Tt})}),Tt)){const ze=Ge?"Remove":"To Discard";B.push({label:ze,onClick:()=>Y(Jt,{target:"discard",playerId:Tt})}),B.push({label:"To Deck Top",disabled:Ge,onClick:()=>Y(Jt,{target:"deck",playerId:Tt,deckPosition:"top"})}),B.push({label:"To Deck Bottom",disabled:Ge,onClick:()=>Y(Jt,{target:"deck",playerId:Tt,deckPosition:"bottom"})})}if(Z&&(B.push({isDivider:!0}),B.push({label:"Highlight Cell",onClick:()=>Yt({type:"cell",row:D.boardCoords.row,col:D.boardCoords.col})}),B.push({label:"Highlight Column",onClick:()=>Yt({type:"col",col:D.boardCoords.col})}),B.push({label:"Highlight Row",onClick:()=>Yt({type:"row",row:D.boardCoords.row})})),Hn){const ze=["Aim","Exploit","Stun","Shield","Support","Threat"],Kt=[];ze.forEach(He=>{var ba;(((ba=le.statuses)==null?void 0:ba.filter(_f=>_f.type===He).length)||0)>0&&Kt.push({type:"statusControl",label:He,onAdd:()=>Z?K(D.boardCoords,He,t):L(Ce.id,He,t),onRemove:()=>Z?$(D.boardCoords,He):U(Ce.id,He),removeDisabled:!1})}),Kt.length>0&&(B.length>0&&!("isDivider"in B[B.length-1])&&B.push({isDivider:!0}),B.push(...Kt)),B.length>0&&!("isDivider"in B[B.length-1])&&B.push({isDivider:!0}),B.push({type:"statusControl",label:"Power",onAdd:()=>Z?ie(D.boardCoords,1):H(Ce.id,1),onRemove:()=>Z?ie(D.boardCoords,-1):H(Ce.id,-1),removeDisabled:!1})}}else if(k==="token_panel_item"){const{card:Z}=D,le={card:Z,source:"token_panel"};B.push({label:"View",isBold:!0,onClick:()=>ae({card:Z})}),B.push({isDivider:!0}),B.push({label:"Play Face Up",isBold:!0,onClick:()=>{Nn(),yt({card:Z,sourceItem:le,faceDown:!1})}}),B.push({label:"Play Face Down",onClick:()=>{Nn(),yt({card:Z,sourceItem:le,faceDown:!0})}})}else if(["handCard","discardCard","deckCard"].includes(k)){const{card:Z,boardCoords:le,player:Ce,cardIndex:Mt}=D,Tr=Ce.id===t||!!Ce.isDummy,Gn=e.players.find(He=>He.id===t),Er=(Gn==null?void 0:Gn.teamId)!==void 0&&Ce.teamId===Gn.teamId,Jo=Z.revealedTo==="all"||Array.isArray(Z.revealedTo)&&Z.revealedTo.includes(t),Hn=(bt=Z.statuses)==null?void 0:bt.some(He=>He.type==="Revealed"&&He.addedByPlayerId===t),Jt=k!=="handCard"?!0:Ce.id===t||Er||!!Ce.isDummy||!!Ce.isDisconnected||Jo||Hn;let Tt;k==="handCard"?Tt="hand":k==="discardCard"?Tt="discard":Tt="deck";const Ge={card:Z,source:Tt,playerId:Ce==null?void 0:Ce.id,cardIndex:Mt,boardCoords:le},ze=Z.ownerId,Kt=(Z==null?void 0:Z.deck)===ce.Tokens||(Z==null?void 0:Z.deck)==="counter";if(Jt){const He=Z.ownerId?e.players.find(ja=>ja.id===Z.ownerId):void 0;B.push({label:"View",isBold:!0,onClick:()=>ae({card:Z,player:He})})}Tr?(k==="handCard"?(B.push({label:"Play",isBold:!0,onClick:()=>{Nn(),yt({card:Z,sourceItem:Ge,faceDown:!1})}}),B.push({label:"Play Face Down",onClick:()=>{Nn(),yt({card:Z,sourceItem:Ge,faceDown:!0})}})):Jt&&["discardCard","deckCard"].includes(k)&&(B.push({label:"Play Face Up",isBold:!0,onClick:()=>{Nn(),yt({card:Z,sourceItem:Ge,faceDown:!1})}}),B.push({label:"Play Face Down",onClick:()=>{Nn(),yt({card:Z,sourceItem:Ge,faceDown:!0})}})),B.length>0&&B.push({isDivider:!0}),k==="handCard"&&((br=Z.statuses)!=null&&br.some(He=>He.type==="Revealed")&&B.push({label:"Remove Revealed",onClick:()=>Te({source:"hand",playerId:Ce.id,cardIndex:Mt})}),B.push({label:"Reveal to All",onClick:()=>z(Ce.id,Mt,"all")})),B.length>0&&!("isDivider"in B[B.length-1])&&B.push({isDivider:!0}),k==="discardCard"?B.push({label:"To Hand",disabled:Kt,onClick:()=>Y(Ge,{target:"hand",playerId:ze})}):k==="handCard"&&B.push({label:"To Discard",onClick:()=>Y(Ge,{target:"discard",playerId:ze})}),["handCard","discardCard"].includes(k)&&ze&&(B.push({label:"To Deck Top",disabled:Kt,onClick:()=>Y(Ge,{target:"deck",playerId:ze,deckPosition:"top"})}),B.push({label:"To Deck Bottom",disabled:Kt,onClick:()=>Y(Ge,{target:"deck",playerId:ze,deckPosition:"bottom"})})),k==="deckCard"&&(B.push({label:"To Hand",disabled:Kt,onClick:()=>Y(Ge,{target:"hand",playerId:Ce.id})}),B.push({label:"To Discard",onClick:()=>Y(Ge,{target:"discard",playerId:Ce.id})}))):k==="handCard"&&!Jt&&B.push({label:"Request Reveal",onClick:()=>ne({source:"hand",ownerId:Ce.id,cardIndex:Mt},t)})}else if(k==="deckPile"){const{player:Z}=D;(Z.id===t||!!Z.isDummy)&&(B.push({label:"Draw Card",onClick:()=>f(Z.id)}),B.push({label:"Shuffle",onClick:()=>M(Z.id)})),B.push({label:"View",onClick:()=>jf(Z)})}else if(k==="discardPile"){const{player:Z}=D;B.push({label:"View",onClick:()=>bf(Z)})}return B=B.filter((Z,le)=>"isDivider"in Z?!(le===0||le===B.length-1||"isDivider"in B[le-1]):!0),s.jsx(Uh,{x:te,y:Le,items:B,onClose:jr})},[e,t,Y,Yt,K,$,ie,L,U,H,f,M,X,R,z,q,ne,Te]);C.useEffect(()=>{window.addEventListener("click",jr);const k=D=>{D.target.closest("[data-interactive]")||jr()};return window.addEventListener("contextmenu",k),()=>{window.removeEventListener("click",jr),window.removeEventListener("contextmenu",k)}},[]),C.useEffect(()=>{m&&jr()},[m]);const Ef=k=>{if(vl)wn(!1),Cr(null);else{kn(!1),N(null);const D=k.currentTarget.getBoundingClientRect();Cr({top:D.top,left:D.left}),wn(!0)}},If=k=>{if(xl)kn(!1),N(null);else{wn(!1),Cr(null);const D=k.currentTarget.getBoundingClientRect();N({top:D.top,left:D.left}),kn(!0)}},Pf=(k,D)=>{Sl.current={x:D.clientX,y:D.clientY},Sr(te=>te&&te.type===k?{type:k,count:te.count+1}:{type:k,count:1})};if(!yf){const k="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg text-lg w-full transition-colors disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",D="text-gray-400 hover:text-white transition-colors";return s.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-800",children:s.jsxs("div",{className:"text-center p-4 flex flex-col items-center",children:[s.jsx("h1",{className:"text-5xl font-bold mb-12",children:"New Avalon: Skirmish"}),s.jsxs("div",{className:"flex flex-col space-y-4 w-64",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:kf,className:`${k} flex-grow`,children:"Start Game"}),s.jsx("button",{onClick:()=>wr(!0),className:"bg-gray-600 hover:bg-gray-700 text-white font-bold p-3 rounded-lg transition-colors aspect-square",title:"Settings",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),s.jsx("button",{onClick:Cf,className:k,children:"Join Game"}),s.jsx("button",{onClick:()=>Ot(!0),className:k,children:"Deck Building"}),s.jsx("button",{disabled:!0,className:k,children:"Story Mode"}),s.jsx("button",{disabled:!0,className:k,children:"Puzzles"}),s.jsx("button",{onClick:()=>kr(!0),className:k,children:"Rules & Tutorial"})]}),s.jsxs("div",{className:"mt-16 flex items-center space-x-8",children:[s.jsx("a",{href:"https://t.me/NikitaAnahoretTriakin",target:"_blank",rel:"noopener noreferrer",className:D,title:"Telegram",children:s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Telegram_Messenger.png",alt:"Telegram",className:"h-8 w-8 object-contain"})}),s.jsx("a",{href:"https://discord.gg/U5zKADsZZY",target:"_blank",rel:"noopener noreferrer",className:D,title:"Discord",children:s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2111/2111370.png",alt:"Discord",className:"h-8 w-8 object-contain"})}),s.jsx("a",{href:"https://www.patreon.com/c/AnchoriteComics",target:"_blank",rel:"noopener noreferrer",className:D,title:"Patreon",children:s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5968/5968722.png",alt:"Patreon",className:"h-8 w-8 object-contain"})})]}),s.jsx(wh,{isOpen:Rt,onClose:()=>tt(!1),onJoin:wf,games:T}),s.jsx(Ph,{isOpen:qe,onClose:()=>Ot(!1),setViewingCard:ae}),s.jsx(_h,{isOpen:Wo,onClose:()=>wr(!1),onSave:Sf}),s.jsx(Mh,{isOpen:Vo,onClose:()=>kr(!1)}),ee&&s.jsx(Uu,{card:ee.card,ownerPlayer:ee.player,onClose:()=>ae(null),statusDescriptions:bo,allPlayers:e.players,imageRefreshVersion:Ae})]})})}return s.jsxs("div",{className:`relative w-screen h-screen overflow-hidden ${Ee?"cursor-none":""}`,children:[s.jsx(xh,{gameId:e.gameId,isGameStarted:e.isGameStarted,onStartGame:vf,onResetGame:at,activeGridSize:e.activeGridSize,onGridSizeChange:x,dummyPlayerCount:e.dummyPlayerCount,onDummyPlayerCountChange:h,realPlayerCount:gf,connectionStatus:y,onExitGame:F,onOpenTokensModal:Ef,onOpenCountersModal:If,gameMode:e.gameMode,onGameModeChange:u,isPrivate:e.isPrivate,onPrivacyChange:d,isHost:Qo,onSyncGame:Nf}),Ne?s.jsxs("div",{className:"relative h-full w-full pt-14 overflow-hidden bg-gray-900",children:[he&&s.jsx("div",{ref:mf,className:"absolute left-0 top-14 bottom-[2px] z-30 bg-panel-bg shadow-xl flex flex-col border-r border-gray-700 w-fit min-w-0 pl-[2px] py-[2px] pr-0 transition-all duration-100 overflow-hidden",style:{width:hf},children:s.jsx(Ns,{player:he,isLocalPlayer:!0,localPlayerId:t,isSpectator:$n,isGameStarted:e.isGameStarted,position:he.id,onNameChange:k=>g(he.id,k),onColorChange:k=>j(he.id,k),onScoreChange:k=>b(he.id,k),onDeckChange:k=>w(he.id,k),onLoadCustomDeck:k=>O(he.id,k),onDrawCard:()=>f(he.id),handleDrop:c,draggedItem:m,setDraggedItem:p,openContextMenu:Qt,onHandCardDoubleClick:qo,playerColorMap:Sn,allPlayers:e.players,localPlayerTeamId:he==null?void 0:he.teamId,activeTurnPlayerId:e.activeTurnPlayerId,onToggleActiveTurn:Q,imageRefreshVersion:Ae,layoutMode:"list-local"},he.id)}),s.jsx("div",{className:"absolute top-14 bottom-0 z-10 flex items-center justify-center pointer-events-none w-full left-0",children:s.jsx("div",{ref:Nr,className:"pointer-events-auto h-full aspect-square flex items-center justify-center py-[2px]",children:s.jsx(Lu,{board:e.board,isGameStarted:e.isGameStarted,activeGridSize:e.activeGridSize,handleDrop:c,draggedItem:m,setDraggedItem:p,openContextMenu:Qt,playMode:Cl,setPlayMode:yt,highlight:xa,playerColorMap:Sn,localPlayerId:t,onCardDoubleClick:Ca,onEmptyCellDoubleClick:Sa,imageRefreshVersion:Ae,cursorStack:Ee,setCursorStack:Sr})})}),s.jsx("div",{className:"absolute right-0 top-14 bottom-0 z-30 w-[32rem] bg-panel-bg shadow-xl flex flex-col pt-[3px] pb-[3px] border-l border-gray-700 gap-[3px]",children:e.players.filter(k=>k.id!==t).map(k=>s.jsx("div",{className:"w-full flex-1 min-h-0",children:s.jsx(Ns,{player:k,isLocalPlayer:!1,localPlayerId:t,isSpectator:$n,isGameStarted:e.isGameStarted,position:k.id,onNameChange:D=>g(k.id,D),onColorChange:D=>j(k.id,D),onScoreChange:D=>b(k.id,D),onDeckChange:D=>w(k.id,D),onLoadCustomDeck:D=>O(k.id,D),onDrawCard:()=>f(k.id),handleDrop:c,draggedItem:m,setDraggedItem:p,openContextMenu:Qt,onHandCardDoubleClick:qo,playerColorMap:Sn,allPlayers:e.players,localPlayerTeamId:he==null?void 0:he.teamId,activeTurnPlayerId:e.activeTurnPlayerId,onToggleActiveTurn:Q,imageRefreshVersion:Ae,layoutMode:"list-remote"})},k.id))})]}):s.jsxs("main",{className:"pt-14 h-screen w-full flex items-center justify-center py-[2px] px-[2px]",children:[s.jsx(Lu,{board:e.board,isGameStarted:e.isGameStarted,activeGridSize:e.activeGridSize,handleDrop:c,draggedItem:m,setDraggedItem:p,openContextMenu:Qt,playMode:Cl,setPlayMode:yt,highlight:xa,playerColorMap:Sn,localPlayerId:t,onCardDoubleClick:Ca,onEmptyCellDoubleClick:Sa,imageRefreshVersion:Ae,cursorStack:Ee,setCursorStack:Sr}),e.players.map(k=>s.jsx(Ns,{player:k,isLocalPlayer:k.id===t,localPlayerId:t,isSpectator:$n,isGameStarted:e.isGameStarted,position:k.id,onNameChange:D=>g(k.id,D),onColorChange:D=>j(k.id,D),onScoreChange:D=>b(k.id,D),onDeckChange:D=>w(k.id,D),onLoadCustomDeck:D=>O(k.id,D),onDrawCard:()=>f(k.id),handleDrop:c,draggedItem:m,setDraggedItem:p,openContextMenu:Qt,onHandCardDoubleClick:qo,playerColorMap:Sn,allPlayers:e.players,localPlayerTeamId:he==null?void 0:he.teamId,activeTurnPlayerId:e.activeTurnPlayerId,onToggleActiveTurn:Q,imageRefreshVersion:Ae,layoutMode:"standard"},k.id))]}),Ee&&s.jsx("div",{ref:Cn,className:"fixed pointer-events-none z-[1000] flex items-center justify-center",children:s.jsxs("div",{className:"relative w-12 h-12 rounded-full bg-gray-500 border-[3px] border-white flex items-center justify-center shadow-xl",children:[(()=>{let k=pa[Ee.type];k&&Ae&&(k=`${k}?v=${Ae}`);const D=Ee.type.startsWith("Power");return k?s.jsx("img",{src:k,alt:Ee.type,className:"w-full h-full object-contain p-1"}):s.jsx("span",{className:`font-bold text-white ${D?"text-sm":"text-lg"}`,style:{textShadow:"0 0 2px black"},children:D?Ee.type==="Power+"?"+P":"-P":Ee.type.charAt(0)})})(),s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center border border-white",children:Ee.count})]})}),$n&&!Ne&&s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black bg-opacity-70 p-4 rounded-lg z-50",children:[s.jsx("p",{className:"text-xl font-bold text-center",children:"Spectator Mode"}),s.jsx("p",{className:"text-center text-gray-300",children:"You are watching the game."})]}),(()=>{const k=e.revealRequests.find(te=>te.toPlayerId===t);if(!k)return null;const D=e.players.find(te=>te.id===k.fromPlayerId);return D?s.jsx(bh,{fromPlayer:D,cardCount:k.cardIdentifiers.length,onAccept:()=>oe(k.fromPlayerId,!0),onDecline:()=>oe(k.fromPlayerId,!1)}):null})(),S&&Qo&&s.jsx(Nh,{players:e.players.filter(k=>!k.isDisconnected),gameMode:e.gameMode,onCancel:()=>E(!1),onConfirm:xf}),e.isReadyCheckActive&&!$n&&he&&s.jsx(jh,{players:e.players.filter(k=>!k.isDummy&&!k.isDisconnected),localPlayer:he,onReady:i}),P&&(()=>{const k=e.players.find(te=>te.id===P.player.id),D=k?k.discard:[];return s.jsx(zu,{isOpen:!!P,onClose:()=>V(null),title:`${P.player.name}'s Discard Pile`,player:P.player,cards:D,setDraggedItem:p,onCardContextMenu:(te,Le)=>Qt(te,"discardCard",{card:D[Le],player:P.player,cardIndex:Le}),onCardDoubleClick:te=>Na(P.player,D[te],te,"discard"),canInteract:t!==null&&e.isGameStarted&&(P.player.id===t||!!P.player.isDummy),playerColorMap:Sn,localPlayerId:t,imageRefreshVersion:Ae})})(),I&&(()=>{const k=e.players.find(te=>te.id===I.id),D=k?k.deck:[];return s.jsx(zu,{isOpen:!!I,onClose:()=>W(null),title:`${I.name}'s Deck`,player:I,cards:D,setDraggedItem:p,onCardContextMenu:(te,Le)=>Qt(te,"deckCard",{card:D[Le],player:I,cardIndex:Le}),onCardDoubleClick:te=>Na(I,D[te],te,"deck"),canInteract:t!==null&&e.isGameStarted&&(I.id===t||!!I.isDummy),isDeckView:!0,playerColorMap:Sn,localPlayerId:t,imageRefreshVersion:Ae})})(),s.jsx(kh,{isOpen:vl,onClose:()=>wn(!1),setDraggedItem:p,openContextMenu:Qt,canInteract:t!==null&&e.isGameStarted,anchorEl:wl,imageRefreshVersion:Ae,draggedItem:m}),s.jsx(Sh,{isOpen:xl,onClose:()=>kn(!1),setDraggedItem:p,canInteract:t!==null&&e.isGameStarted,anchorEl:v,imageRefreshVersion:Ae,onCounterClick:Pf,cursorStack:Ee}),ee&&s.jsx(Uu,{card:ee.card,ownerPlayer:ee.player,onClose:()=>ae(null),statusDescriptions:bo,allPlayers:e.players,imageRefreshVersion:Ae}),Tf]})}const pf=document.getElementById("root");if(!pf)throw new Error("Could not find root element to mount to");const Bh=js.createRoot(pf);Bh.render(s.jsx($h,{}));
