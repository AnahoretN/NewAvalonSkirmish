(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jc={exports:{}},qo={},Tc={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),Cp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),Ep=Symbol.for("react.provider"),bp=Symbol.for("react.context"),jp=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Ip=Symbol.for("react.memo"),_p=Symbol.for("react.lazy"),cu=Symbol.iterator;function Pp(e){return e===null||typeof e!="object"?null:(e=cu&&e[cu]||e["@@iterator"],typeof e=="function"?e:null)}var Ic={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_c=Object.assign,Pc={};function zr(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Ic}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dc(){}Dc.prototype=zr.prototype;function ei(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Ic}var ti=ei.prototype=new Dc;ti.constructor=ei;_c(ti,zr.prototype);ti.isPureReactComponent=!0;var du=Array.isArray,Rc=Object.prototype.hasOwnProperty,ni={current:null},Oc={key:!0,ref:!0,__self:!0,__source:!0};function Ac(e,t,n){var r,l={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Rc.call(t,r)&&!Oc.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var u=Array(i),d=0;d<i;d++)u[d]=arguments[d+2];l.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Al,type:e,key:o,ref:a,props:l,_owner:ni.current}}function Dp(e,t){return{$$typeof:Al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ri(e){return typeof e=="object"&&e!==null&&e.$$typeof===Al}function Rp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fu=/\/+/g;function Ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rp(""+e.key):t.toString(36)}function co(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Al:case Cp:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Ts(a,0):r,du(l)?(n="",e!=null&&(n=e.replace(fu,"$&/")+"/"),co(l,t,n,"",function(d){return d})):l!=null&&(ri(l)&&(l=Dp(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(fu,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",du(e))for(var i=0;i<e.length;i++){o=e[i];var u=r+Ts(o,i);a+=co(o,t,n,u,l)}else if(u=Pp(e),typeof u=="function")for(e=u.call(e),i=0;!(o=e.next()).done;)o=o.value,u=r+Ts(o,i++),a+=co(o,t,n,u,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Vl(e,t,n){if(e==null)return e;var r=[],l=0;return co(e,r,"","",function(o){return t.call(n,o,l++)}),r}function Op(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},fo={transition:null},Ap={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:fo,ReactCurrentOwner:ni};function Lc(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Vl,forEach:function(e,t,n){Vl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vl(e,function(){t++}),t},toArray:function(e){return Vl(e,function(t){return t})||[]},only:function(e){if(!ri(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=zr;ve.Fragment=kp;ve.Profiler=Np;ve.PureComponent=ei;ve.StrictMode=Sp;ve.Suspense=Tp;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ap;ve.act=Lc;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_c({},e.props),l=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=ni.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Rc.call(t,u)&&!Oc.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var d=0;d<u;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:Al,type:e.type,key:l,ref:o,props:r,_owner:a}};ve.createContext=function(e){return e={$$typeof:bp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ep,_context:e},e.Consumer=e};ve.createElement=Ac;ve.createFactory=function(e){var t=Ac.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:jp,render:e}};ve.isValidElement=ri;ve.lazy=function(e){return{$$typeof:_p,_payload:{_status:-1,_result:e},_init:Op}};ve.memo=function(e,t){return{$$typeof:Ip,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=fo.transition;fo.transition={};try{e()}finally{fo.transition=t}};ve.unstable_act=Lc;ve.useCallback=function(e,t){return ct.current.useCallback(e,t)};ve.useContext=function(e){return ct.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ve.useEffect=function(e,t){return ct.current.useEffect(e,t)};ve.useId=function(){return ct.current.useId()};ve.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return ct.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};ve.useRef=function(e){return ct.current.useRef(e)};ve.useState=function(e){return ct.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return ct.current.useTransition()};ve.version="18.3.1";Tc.exports=ve;var k=Tc.exports;const En=wp(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=k,Mp=Symbol.for("react.element"),Up=Symbol.for("react.fragment"),zp=Object.prototype.hasOwnProperty,Fp=Lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$p={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,n){var r,l={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)zp.call(t,r)&&!$p.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Mp,type:e,key:o,ref:a,props:l,_owner:Fp.current}}qo.Fragment=Up;qo.jsx=Mc;qo.jsxs=Mc;jc.exports=qo;var s=jc.exports,la={},Uc={exports:{}},Nt={},zc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,A){var W=z.length;z.push(A);e:for(;0<W;){var oe=W-1>>>1,pe=z[oe];if(0<l(pe,A))z[oe]=A,z[W]=pe,W=oe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var A=z[0],W=z.pop();if(W!==A){z[0]=W;e:for(var oe=0,pe=z.length,Ee=pe>>>1;oe<Ee;){var ce=2*(oe+1)-1,ze=z[ce],Fe=ce+1,ae=z[Fe];if(0>l(ze,W))Fe<pe&&0>l(ae,ze)?(z[oe]=ae,z[Fe]=W,oe=Fe):(z[oe]=ze,z[ce]=W,oe=ce);else if(Fe<pe&&0>l(ae,W))z[oe]=ae,z[Fe]=W,oe=Fe;else break e}}return A}function l(z,A){var W=z.sortIndex-A.sortIndex;return W!==0?W:z.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var u=[],d=[],w=1,v=null,C=3,T=!1,j=!1,E=!1,F=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(z){for(var A=n(d);A!==null;){if(A.callback===null)r(d);else if(A.startTime<=z)r(d),A.sortIndex=A.expirationTime,t(u,A);else break;A=n(d)}}function p(z){if(E=!1,f(z),!j)if(n(u)!==null)j=!0,q(I);else{var A=n(d);A!==null&&Y(p,A.startTime-z)}}function I(z,A){j=!1,E&&(E=!1,m(K),K=-1),T=!0;var W=C;try{for(f(A),v=n(u);v!==null&&(!(v.expirationTime>A)||z&&!se());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,C=v.priorityLevel;var pe=oe(v.expirationTime<=A);A=e.unstable_now(),typeof pe=="function"?v.callback=pe:v===n(u)&&r(u),f(A)}else r(u);v=n(u)}if(v!==null)var Ee=!0;else{var ce=n(d);ce!==null&&Y(p,ce.startTime-A),Ee=!1}return Ee}finally{v=null,C=W,T=!1}}var L=!1,V=null,K=-1,G=5,ne=-1;function se(){return!(e.unstable_now()-ne<G)}function me(){if(V!==null){var z=e.unstable_now();ne=z;var A=!0;try{A=V(!0,z)}finally{A?fe():(L=!1,V=null)}}else L=!1}var fe;if(typeof c=="function")fe=function(){c(me)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=me,fe=function(){ee.postMessage(null)}}else fe=function(){F(me,0)};function q(z){V=z,L||(L=!0,fe())}function Y(z,A){K=F(function(){z(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){j||T||(j=!0,q(I))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(C){case 1:case 2:case 3:var A=3;break;default:A=C}var W=C;C=A;try{return z()}finally{C=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=C;C=z;try{return A()}finally{C=W}},e.unstable_scheduleCallback=function(z,A,W){var oe=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=W+pe,z={id:w++,callback:A,priorityLevel:z,startTime:W,expirationTime:pe,sortIndex:-1},W>oe?(z.sortIndex=W,t(d,z),n(u)===null&&z===n(d)&&(E?(m(K),K=-1):E=!0,Y(p,W-oe))):(z.sortIndex=pe,t(u,z),j||T||(j=!0,q(I))),z},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(z){var A=C;return function(){var W=C;C=A;try{return z.apply(this,arguments)}finally{C=W}}}})(Fc);zc.exports=Fc;var Bp=zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=k,St=Bp;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $c=new Set,vl={};function lr(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(vl[e]=t,e=0;e<t.length;e++)$c.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=Object.prototype.hasOwnProperty,Hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pu={},mu={};function Vp(e){return oa.call(mu,e)?!0:oa.call(pu,e)?!1:Hp.test(e)?mu[e]=!0:(pu[e]=!0,!1)}function Wp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kp(e,t,n,r){if(t===null||typeof t>"u"||Wp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,r,l,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var li=/[\-:]([a-z])/g;function oi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(li,oi);nt[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(li,oi);nt[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(li,oi);nt[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function si(e,t,n,r){var l=nt.hasOwnProperty(t)?nt[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kp(t,n,l,r)&&(n=null),r||l===null?Vp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pn=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),mr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),ai=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),Bc=Symbol.for("react.provider"),Gc=Symbol.for("react.context"),ii=Symbol.for("react.forward_ref"),aa=Symbol.for("react.suspense"),ia=Symbol.for("react.suspense_list"),ui=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Hc=Symbol.for("react.offscreen"),hu=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=hu&&e[hu]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,Is;function ol(e){if(Is===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||""}return`
`+Is+e}var _s=!1;function Ps(e,t){if(!e||_s)return"";_s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),o=r.stack.split(`
`),a=l.length-1,i=o.length-1;1<=a&&0<=i&&l[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==o[i]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=i);break}}}finally{_s=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ol(e):""}function Jp(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=Ps(e.type,!1),e;case 11:return e=Ps(e.type.render,!1),e;case 1:return e=Ps(e.type,!0),e;default:return""}}function ua(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case mr:return"Portal";case sa:return"Profiler";case ai:return"StrictMode";case aa:return"Suspense";case ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gc:return(e.displayName||"Context")+".Consumer";case Bc:return(e._context.displayName||"Context")+".Provider";case ii:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ui:return t=e.displayName||null,t!==null?t:ua(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return ua(e(t))}catch{}}return null}function Yp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ua(t);case 8:return t===ai?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qp(e){var t=Vc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=qp(e))}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function So(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ca(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kc(e,t){t=t.checked,t!=null&&si(e,"checked",t,!1)}function da(e,t){Kc(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fa(e,t.type,n):t.hasOwnProperty("defaultValue")&&fa(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fa(e,t,n){(t!=="number"||So(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sl=Array.isArray;function br(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function pa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(sl(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function Jc(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jl,qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qp=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(e){Qp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ul[t]=ul[e]})});function Qc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ul.hasOwnProperty(e)&&ul[e]?(""+t).trim():t+"px"}function Xc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Qc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Xp=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(e,t){if(t){if(Xp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=null;function ci(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var va=null,jr=null,Tr=null;function wu(e){if(e=Ul(e)){if(typeof va!="function")throw Error(B(280));var t=e.stateNode;t&&(t=ts(t),va(e.stateNode,e.type,t))}}function Zc(e){jr?Tr?Tr.push(e):Tr=[e]:jr=e}function ed(){if(jr){var e=jr,t=Tr;if(Tr=jr=null,wu(e),t)for(e=0;e<t.length;e++)wu(t[e])}}function td(e,t){return e(t)}function nd(){}var Ds=!1;function rd(e,t,n){if(Ds)return e(t,n);Ds=!0;try{return td(e,t,n)}finally{Ds=!1,(jr!==null||Tr!==null)&&(nd(),ed())}}function wl(e,t){var n=e.stateNode;if(n===null)return null;var r=ts(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var xa=!1;if(un)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){xa=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{xa=!1}function Zp(e,t,n,r,l,o,a,i,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(w){this.onError(w)}}var cl=!1,No=null,Eo=!1,wa=null,em={onError:function(e){cl=!0,No=e}};function tm(e,t,n,r,l,o,a,i,u){cl=!1,No=null,Zp.apply(em,arguments)}function nm(e,t,n,r,l,o,a,i,u){if(tm.apply(this,arguments),cl){if(cl){var d=No;cl=!1,No=null}else throw Error(B(198));Eo||(Eo=!0,wa=d)}}function or(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cu(e){if(or(e)!==e)throw Error(B(188))}function rm(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Cu(l),e;if(o===r)return Cu(l),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=l,r=o;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,r=o;break}if(i===r){a=!0,r=l,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=l;break}if(i===r){a=!0,r=o,n=l;break}i=i.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function od(e){return e=rm(e),e!==null?sd(e):null}function sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sd(e);if(t!==null)return t;e=e.sibling}return null}var ad=St.unstable_scheduleCallback,ku=St.unstable_cancelCallback,lm=St.unstable_shouldYield,om=St.unstable_requestPaint,Ve=St.unstable_now,sm=St.unstable_getCurrentPriorityLevel,di=St.unstable_ImmediatePriority,id=St.unstable_UserBlockingPriority,bo=St.unstable_NormalPriority,am=St.unstable_LowPriority,ud=St.unstable_IdlePriority,Qo=null,qt=null;function im(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Qo,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:dm,um=Math.log,cm=Math.LN2;function dm(e){return e>>>=0,e===0?32:31-(um(e)/cm|0)|0}var Yl=64,ql=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?r=al(i):(o&=a,o!==0&&(r=al(o)))}else a=n&~l,a!==0?r=al(a):o!==0&&(r=al(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),l=1<<n,r|=e[n],t&=~l;return r}function fm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Bt(o),i=1<<a,u=l[a];u===-1?(!(i&n)||i&r)&&(l[a]=fm(i,t)):u<=t&&(e.expiredLanes|=i),o&=~i}}function Ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cd(){var e=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),e}function Rs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ll(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function mm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Bt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function fi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var be=0;function dd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,pi,pd,md,hd,ka=!1,Ql=[],bn=null,jn=null,Tn=null,Cl=new Map,kl=new Map,Cn=[],hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(e,t){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function Zr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Ul(t),t!==null&&pi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function gm(e,t,n,r,l){switch(t){case"focusin":return bn=Zr(bn,e,t,n,r,l),!0;case"dragenter":return jn=Zr(jn,e,t,n,r,l),!0;case"mouseover":return Tn=Zr(Tn,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Cl.set(o,Zr(Cl.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,kl.set(o,Zr(kl.get(o)||null,e,t,n,r,l)),!0}return!1}function gd(e){var t=Jn(e.target);if(t!==null){var n=or(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,hd(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ya=r,n.target.dispatchEvent(r),ya=null}else return t=Ul(n),t!==null&&pi(t),e.blockedOn=n,!1;t.shift()}return!0}function Nu(e,t,n){po(e)&&n.delete(t)}function ym(){ka=!1,bn!==null&&po(bn)&&(bn=null),jn!==null&&po(jn)&&(jn=null),Tn!==null&&po(Tn)&&(Tn=null),Cl.forEach(Nu),kl.forEach(Nu)}function el(e,t){e.blockedOn===t&&(e.blockedOn=null,ka||(ka=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,ym)))}function Sl(e){function t(l){return el(l,e)}if(0<Ql.length){el(Ql[0],e);for(var n=1;n<Ql.length;n++){var r=Ql[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bn!==null&&el(bn,e),jn!==null&&el(jn,e),Tn!==null&&el(Tn,e),Cl.forEach(t),kl.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)gd(n),n.blockedOn===null&&Cn.shift()}var Ir=pn.ReactCurrentBatchConfig,To=!0;function vm(e,t,n,r){var l=be,o=Ir.transition;Ir.transition=null;try{be=1,mi(e,t,n,r)}finally{be=l,Ir.transition=o}}function xm(e,t,n,r){var l=be,o=Ir.transition;Ir.transition=null;try{be=4,mi(e,t,n,r)}finally{be=l,Ir.transition=o}}function mi(e,t,n,r){if(To){var l=Sa(e,t,n,r);if(l===null)Gs(e,t,r,Io,n),Su(e,r);else if(gm(l,e,t,n,r))r.stopPropagation();else if(Su(e,r),t&4&&-1<hm.indexOf(e)){for(;l!==null;){var o=Ul(l);if(o!==null&&fd(o),o=Sa(e,t,n,r),o===null&&Gs(e,t,r,Io,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Gs(e,t,r,null,n)}}var Io=null;function Sa(e,t,n,r){if(Io=null,e=ci(r),e=Jn(e),e!==null)if(t=or(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sm()){case di:return 1;case id:return 4;case bo:case am:return 16;case ud:return 536870912;default:return 16}default:return 16}}var Sn=null,hi=null,mo=null;function vd(){if(mo)return mo;var e,t=hi,n=t.length,r,l="value"in Sn?Sn.value:Sn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[o-r];r++);return mo=l.slice(e,1<r?1-r:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function Eu(){return!1}function Et(e){function t(n,r,l,o,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xl:Eu,this.isPropagationStopped=Eu,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Et(Fr),Ml=Ue({},Fr,{view:0,detail:0}),wm=Et(Ml),Os,As,tl,Xo=Ue({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(Os=e.screenX-tl.screenX,As=e.screenY-tl.screenY):As=Os=0,tl=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:As}}),bu=Et(Xo),Cm=Ue({},Xo,{dataTransfer:0}),km=Et(Cm),Sm=Ue({},Ml,{relatedTarget:0}),Ls=Et(Sm),Nm=Ue({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=Et(Nm),bm=Ue({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jm=Et(bm),Tm=Ue({},Fr,{data:0}),ju=Et(Tm),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pm[e])?!!t[e]:!1}function yi(){return Dm}var Rm=Ue({},Ml,{key:function(e){if(e.key){var t=Im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Om=Et(Rm),Am=Ue({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=Et(Am),Lm=Ue({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),Mm=Et(Lm),Um=Ue({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zm=Et(Um),Fm=Ue({},Xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=Et(Fm),Bm=[9,13,27,32],vi=un&&"CompositionEvent"in window,dl=null;un&&"documentMode"in document&&(dl=document.documentMode);var Gm=un&&"TextEvent"in window&&!dl,xd=un&&(!vi||dl&&8<dl&&11>=dl),Iu=" ",_u=!1;function wd(e,t){switch(e){case"keyup":return Bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function Hm(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(_u=!0,Iu);case"textInput":return e=t.data,e===Iu&&_u?null:e;default:return null}}function Vm(e,t){if(gr)return e==="compositionend"||!vi&&wd(e,t)?(e=vd(),mo=hi=Sn=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var Wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wm[e.type]:t==="textarea"}function kd(e,t,n,r){Zc(r),t=_o(t,"onChange"),0<t.length&&(n=new gi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fl=null,Nl=null;function Km(e){Rd(e,0)}function Zo(e){var t=xr(e);if(Wc(t))return e}function Jm(e,t){if(e==="change")return t}var Sd=!1;if(un){var Ms;if(un){var Us="oninput"in document;if(!Us){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),Us=typeof Du.oninput=="function"}Ms=Us}else Ms=!1;Sd=Ms&&(!document.documentMode||9<document.documentMode)}function Ru(){fl&&(fl.detachEvent("onpropertychange",Nd),Nl=fl=null)}function Nd(e){if(e.propertyName==="value"&&Zo(Nl)){var t=[];kd(t,Nl,e,ci(e)),rd(Km,t)}}function Ym(e,t,n){e==="focusin"?(Ru(),fl=t,Nl=n,fl.attachEvent("onpropertychange",Nd)):e==="focusout"&&Ru()}function qm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(Nl)}function Qm(e,t){if(e==="click")return Zo(t)}function Xm(e,t){if(e==="input"||e==="change")return Zo(t)}function Zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Zm;function El(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!oa.call(t,l)||!Ht(e[l],t[l]))return!1}return!0}function Ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Au(e,t){var n=Ou(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ou(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(){for(var e=window,t=So();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=So(e.document)}return t}function xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eh(e){var t=bd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(r!==null&&xi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Au(n,o);var a=Au(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var th=un&&"documentMode"in document&&11>=document.documentMode,yr=null,Na=null,pl=null,Ea=!1;function Lu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ea||yr==null||yr!==So(r)||(r=yr,"selectionStart"in r&&xi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pl&&El(pl,r)||(pl=r,r=_o(Na,"onSelect"),0<r.length&&(t=new gi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Zl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},zs={},jd={};un&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function es(e){if(zs[e])return zs[e];if(!vr[e])return e;var t=vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jd)return zs[e]=t[n];return e}var Td=es("animationend"),Id=es("animationiteration"),_d=es("animationstart"),Pd=es("transitionend"),Dd=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Dd.set(e,t),lr(t,[e])}for(var Fs=0;Fs<Mu.length;Fs++){var $s=Mu[Fs],nh=$s.toLowerCase(),rh=$s[0].toUpperCase()+$s.slice(1);Mn(nh,"on"+rh)}Mn(Td,"onAnimationEnd");Mn(Id,"onAnimationIteration");Mn(_d,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Pd,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lh=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nm(r,t,void 0,e),e.currentTarget=null}function Rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],u=i.instance,d=i.currentTarget;if(i=i.listener,u!==o&&l.isPropagationStopped())break e;Uu(l,i,d),o=u}else for(a=0;a<r.length;a++){if(i=r[a],u=i.instance,d=i.currentTarget,i=i.listener,u!==o&&l.isPropagationStopped())break e;Uu(l,i,d),o=u}}}if(Eo)throw e=wa,Eo=!1,wa=null,e}function Ie(e,t){var n=t[_a];n===void 0&&(n=t[_a]=new Set);var r=e+"__bubble";n.has(r)||(Od(t,e,2,!1),n.add(r))}function Bs(e,t,n){var r=0;t&&(r|=4),Od(n,e,r,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function bl(e){if(!e[eo]){e[eo]=!0,$c.forEach(function(n){n!=="selectionchange"&&(lh.has(n)||Bs(n,!1,e),Bs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,Bs("selectionchange",!1,t))}}function Od(e,t,n,r){switch(yd(t)){case 1:var l=vm;break;case 4:l=xm;break;default:l=mi}n=l.bind(null,t,n,e),l=void 0,!xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Gs(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Jn(i),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}i=i.parentNode}}r=r.return}rd(function(){var d=o,w=ci(n),v=[];e:{var C=Dd.get(e);if(C!==void 0){var T=gi,j=e;switch(e){case"keypress":if(ho(n)===0)break e;case"keydown":case"keyup":T=Om;break;case"focusin":j="focus",T=Ls;break;case"focusout":j="blur",T=Ls;break;case"beforeblur":case"afterblur":T=Ls;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Mm;break;case Td:case Id:case _d:T=Em;break;case Pd:T=zm;break;case"scroll":T=wm;break;case"wheel":T=$m;break;case"copy":case"cut":case"paste":T=jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Tu}var E=(t&4)!==0,F=!E&&e==="scroll",m=E?C!==null?C+"Capture":null:C;E=[];for(var c=d,f;c!==null;){f=c;var p=f.stateNode;if(f.tag===5&&p!==null&&(f=p,m!==null&&(p=wl(c,m),p!=null&&E.push(jl(c,p,f)))),F)break;c=c.return}0<E.length&&(C=new T(C,j,null,n,w),v.push({event:C,listeners:E}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",C&&n!==ya&&(j=n.relatedTarget||n.fromElement)&&(Jn(j)||j[cn]))break e;if((T||C)&&(C=w.window===w?w:(C=w.ownerDocument)?C.defaultView||C.parentWindow:window,T?(j=n.relatedTarget||n.toElement,T=d,j=j?Jn(j):null,j!==null&&(F=or(j),j!==F||j.tag!==5&&j.tag!==6)&&(j=null)):(T=null,j=d),T!==j)){if(E=bu,p="onMouseLeave",m="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(E=Tu,p="onPointerLeave",m="onPointerEnter",c="pointer"),F=T==null?C:xr(T),f=j==null?C:xr(j),C=new E(p,c+"leave",T,n,w),C.target=F,C.relatedTarget=f,p=null,Jn(w)===d&&(E=new E(m,c+"enter",j,n,w),E.target=f,E.relatedTarget=F,p=E),F=p,T&&j)t:{for(E=T,m=j,c=0,f=E;f;f=fr(f))c++;for(f=0,p=m;p;p=fr(p))f++;for(;0<c-f;)E=fr(E),c--;for(;0<f-c;)m=fr(m),f--;for(;c--;){if(E===m||m!==null&&E===m.alternate)break t;E=fr(E),m=fr(m)}E=null}else E=null;T!==null&&zu(v,C,T,E,!1),j!==null&&F!==null&&zu(v,F,j,E,!0)}}e:{if(C=d?xr(d):window,T=C.nodeName&&C.nodeName.toLowerCase(),T==="select"||T==="input"&&C.type==="file")var I=Jm;else if(Pu(C))if(Sd)I=Xm;else{I=qm;var L=Ym}else(T=C.nodeName)&&T.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(I=Qm);if(I&&(I=I(e,d))){kd(v,I,n,w);break e}L&&L(e,C,d),e==="focusout"&&(L=C._wrapperState)&&L.controlled&&C.type==="number"&&fa(C,"number",C.value)}switch(L=d?xr(d):window,e){case"focusin":(Pu(L)||L.contentEditable==="true")&&(yr=L,Na=d,pl=null);break;case"focusout":pl=Na=yr=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,Lu(v,n,w);break;case"selectionchange":if(th)break;case"keydown":case"keyup":Lu(v,n,w)}var V;if(vi)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else gr?wd(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(xd&&n.locale!=="ko"&&(gr||K!=="onCompositionStart"?K==="onCompositionEnd"&&gr&&(V=vd()):(Sn=w,hi="value"in Sn?Sn.value:Sn.textContent,gr=!0)),L=_o(d,K),0<L.length&&(K=new ju(K,e,null,n,w),v.push({event:K,listeners:L}),V?K.data=V:(V=Cd(n),V!==null&&(K.data=V)))),(V=Gm?Hm(e,n):Vm(e,n))&&(d=_o(d,"onBeforeInput"),0<d.length&&(w=new ju("onBeforeInput","beforeinput",null,n,w),v.push({event:w,listeners:d}),w.data=V))}Rd(v,t)})}function jl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _o(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=wl(e,n),o!=null&&r.unshift(jl(e,o,l)),o=wl(e,t),o!=null&&r.push(jl(e,o,l))),e=e.return}return r}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zu(e,t,n,r,l){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,u=i.alternate,d=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&d!==null&&(i=d,l?(u=wl(n,o),u!=null&&a.unshift(jl(n,u,i))):l||(u=wl(n,o),u!=null&&a.push(jl(n,u,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var oh=/\r\n?/g,sh=/\u0000|\uFFFD/g;function Fu(e){return(typeof e=="string"?e:""+e).replace(oh,`
`).replace(sh,"")}function to(e,t,n){if(t=Fu(t),Fu(e)!==t&&n)throw Error(B(425))}function Po(){}var ba=null,ja=null;function Ta(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ia=typeof setTimeout=="function"?setTimeout:void 0,ah=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,ih=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(e){return $u.resolve(null).then(e).catch(uh)}:Ia;function uh(e){setTimeout(function(){throw e})}function Hs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Sl(t)}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Yt="__reactFiber$"+$r,Tl="__reactProps$"+$r,cn="__reactContainer$"+$r,_a="__reactEvents$"+$r,ch="__reactListeners$"+$r,dh="__reactHandles$"+$r;function Jn(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bu(e);e!==null;){if(n=e[Yt])return n;e=Bu(e)}return t}e=n,n=e.parentNode}return null}function Ul(e){return e=e[Yt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function ts(e){return e[Tl]||null}var Pa=[],wr=-1;function Un(e){return{current:e}}function _e(e){0>wr||(e.current=Pa[wr],Pa[wr]=null,wr--)}function Te(e,t){wr++,Pa[wr]=e.current,e.current=t}var Ln={},st=Un(Ln),mt=Un(!1),Zn=Ln;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ht(e){return e=e.childContextTypes,e!=null}function Do(){_e(mt),_e(st)}function Gu(e,t,n){if(st.current!==Ln)throw Error(B(168));Te(st,t),Te(mt,n)}function Ad(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(B(108,Yp(e)||"Unknown",l));return Ue({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Zn=st.current,Te(st,e),Te(mt,mt.current),!0}function Hu(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Ad(e,t,Zn),r.__reactInternalMemoizedMergedChildContext=e,_e(mt),_e(st),Te(st,e)):_e(mt),Te(mt,n)}var ln=null,ns=!1,Vs=!1;function Ld(e){ln===null?ln=[e]:ln.push(e)}function fh(e){ns=!0,Ld(e)}function zn(){if(!Vs&&ln!==null){Vs=!0;var e=0,t=be;try{var n=ln;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,ns=!1}catch(l){throw ln!==null&&(ln=ln.slice(e+1)),ad(di,zn),l}finally{be=t,Vs=!1}}return null}var Cr=[],kr=0,Oo=null,Ao=0,Tt=[],It=0,er=null,on=1,sn="";function Wn(e,t){Cr[kr++]=Ao,Cr[kr++]=Oo,Oo=e,Ao=t}function Md(e,t,n){Tt[It++]=on,Tt[It++]=sn,Tt[It++]=er,er=e;var r=on;e=sn;var l=32-Bt(r)-1;r&=~(1<<l),n+=1;var o=32-Bt(t)+l;if(30<o){var a=l-l%5;o=(r&(1<<a)-1).toString(32),r>>=a,l-=a,on=1<<32-Bt(t)+l|n<<l|r,sn=o+e}else on=1<<o|n<<l|r,sn=e}function wi(e){e.return!==null&&(Wn(e,1),Md(e,1,0))}function Ci(e){for(;e===Oo;)Oo=Cr[--kr],Cr[kr]=null,Ao=Cr[--kr],Cr[kr]=null;for(;e===er;)er=Tt[--It],Tt[It]=null,sn=Tt[--It],Tt[It]=null,on=Tt[--It],Tt[It]=null}var kt=null,Ct=null,Re=!1,Ft=null;function Ud(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Ct=In(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=er!==null?{id:on,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,Ct=null,!0):!1;default:return!1}}function Da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ra(e){if(Re){var t=Ct;if(t){var n=t;if(!Vu(e,t)){if(Da(e))throw Error(B(418));t=In(n.nextSibling);var r=kt;t&&Vu(e,t)?Ud(r,n):(e.flags=e.flags&-4097|2,Re=!1,kt=e)}}else{if(Da(e))throw Error(B(418));e.flags=e.flags&-4097|2,Re=!1,kt=e}}}function Wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function no(e){if(e!==kt)return!1;if(!Re)return Wu(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ta(e.type,e.memoizedProps)),t&&(t=Ct)){if(Da(e))throw zd(),Error(B(418));for(;t;)Ud(e,t),t=In(t.nextSibling)}if(Wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=In(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=kt?In(e.stateNode.nextSibling):null;return!0}function zd(){for(var e=Ct;e;)e=In(e.nextSibling)}function Or(){Ct=kt=null,Re=!1}function ki(e){Ft===null?Ft=[e]:Ft.push(e)}var ph=pn.ReactCurrentBatchConfig;function nl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=l.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function ro(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ku(e){var t=e._init;return t(e._payload)}function Fd(e){function t(m,c){if(e){var f=m.deletions;f===null?(m.deletions=[c],m.flags|=16):f.push(c)}}function n(m,c){if(!e)return null;for(;c!==null;)t(m,c),c=c.sibling;return null}function r(m,c){for(m=new Map;c!==null;)c.key!==null?m.set(c.key,c):m.set(c.index,c),c=c.sibling;return m}function l(m,c){return m=Rn(m,c),m.index=0,m.sibling=null,m}function o(m,c,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<c?(m.flags|=2,c):f):(m.flags|=2,c)):(m.flags|=1048576,c)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,c,f,p){return c===null||c.tag!==6?(c=Xs(f,m.mode,p),c.return=m,c):(c=l(c,f),c.return=m,c)}function u(m,c,f,p){var I=f.type;return I===hr?w(m,c,f.props.children,p,f.key):c!==null&&(c.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xn&&Ku(I)===c.type)?(p=l(c,f.props),p.ref=nl(m,c,f),p.return=m,p):(p=ko(f.type,f.key,f.props,null,m.mode,p),p.ref=nl(m,c,f),p.return=m,p)}function d(m,c,f,p){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Zs(f,m.mode,p),c.return=m,c):(c=l(c,f.children||[]),c.return=m,c)}function w(m,c,f,p,I){return c===null||c.tag!==7?(c=Xn(f,m.mode,p,I),c.return=m,c):(c=l(c,f),c.return=m,c)}function v(m,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Xs(""+c,m.mode,f),c.return=m,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Wl:return f=ko(c.type,c.key,c.props,null,m.mode,f),f.ref=nl(m,null,c),f.return=m,f;case mr:return c=Zs(c,m.mode,f),c.return=m,c;case xn:var p=c._init;return v(m,p(c._payload),f)}if(sl(c)||Qr(c))return c=Xn(c,m.mode,f,null),c.return=m,c;ro(m,c)}return null}function C(m,c,f,p){var I=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return I!==null?null:i(m,c,""+f,p);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Wl:return f.key===I?u(m,c,f,p):null;case mr:return f.key===I?d(m,c,f,p):null;case xn:return I=f._init,C(m,c,I(f._payload),p)}if(sl(f)||Qr(f))return I!==null?null:w(m,c,f,p,null);ro(m,f)}return null}function T(m,c,f,p,I){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(f)||null,i(c,m,""+p,I);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wl:return m=m.get(p.key===null?f:p.key)||null,u(c,m,p,I);case mr:return m=m.get(p.key===null?f:p.key)||null,d(c,m,p,I);case xn:var L=p._init;return T(m,c,f,L(p._payload),I)}if(sl(p)||Qr(p))return m=m.get(f)||null,w(c,m,p,I,null);ro(c,p)}return null}function j(m,c,f,p){for(var I=null,L=null,V=c,K=c=0,G=null;V!==null&&K<f.length;K++){V.index>K?(G=V,V=null):G=V.sibling;var ne=C(m,V,f[K],p);if(ne===null){V===null&&(V=G);break}e&&V&&ne.alternate===null&&t(m,V),c=o(ne,c,K),L===null?I=ne:L.sibling=ne,L=ne,V=G}if(K===f.length)return n(m,V),Re&&Wn(m,K),I;if(V===null){for(;K<f.length;K++)V=v(m,f[K],p),V!==null&&(c=o(V,c,K),L===null?I=V:L.sibling=V,L=V);return Re&&Wn(m,K),I}for(V=r(m,V);K<f.length;K++)G=T(V,m,K,f[K],p),G!==null&&(e&&G.alternate!==null&&V.delete(G.key===null?K:G.key),c=o(G,c,K),L===null?I=G:L.sibling=G,L=G);return e&&V.forEach(function(se){return t(m,se)}),Re&&Wn(m,K),I}function E(m,c,f,p){var I=Qr(f);if(typeof I!="function")throw Error(B(150));if(f=I.call(f),f==null)throw Error(B(151));for(var L=I=null,V=c,K=c=0,G=null,ne=f.next();V!==null&&!ne.done;K++,ne=f.next()){V.index>K?(G=V,V=null):G=V.sibling;var se=C(m,V,ne.value,p);if(se===null){V===null&&(V=G);break}e&&V&&se.alternate===null&&t(m,V),c=o(se,c,K),L===null?I=se:L.sibling=se,L=se,V=G}if(ne.done)return n(m,V),Re&&Wn(m,K),I;if(V===null){for(;!ne.done;K++,ne=f.next())ne=v(m,ne.value,p),ne!==null&&(c=o(ne,c,K),L===null?I=ne:L.sibling=ne,L=ne);return Re&&Wn(m,K),I}for(V=r(m,V);!ne.done;K++,ne=f.next())ne=T(V,m,K,ne.value,p),ne!==null&&(e&&ne.alternate!==null&&V.delete(ne.key===null?K:ne.key),c=o(ne,c,K),L===null?I=ne:L.sibling=ne,L=ne);return e&&V.forEach(function(me){return t(m,me)}),Re&&Wn(m,K),I}function F(m,c,f,p){if(typeof f=="object"&&f!==null&&f.type===hr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Wl:e:{for(var I=f.key,L=c;L!==null;){if(L.key===I){if(I=f.type,I===hr){if(L.tag===7){n(m,L.sibling),c=l(L,f.props.children),c.return=m,m=c;break e}}else if(L.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xn&&Ku(I)===L.type){n(m,L.sibling),c=l(L,f.props),c.ref=nl(m,L,f),c.return=m,m=c;break e}n(m,L);break}else t(m,L);L=L.sibling}f.type===hr?(c=Xn(f.props.children,m.mode,p,f.key),c.return=m,m=c):(p=ko(f.type,f.key,f.props,null,m.mode,p),p.ref=nl(m,c,f),p.return=m,m=p)}return a(m);case mr:e:{for(L=f.key;c!==null;){if(c.key===L)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(m,c.sibling),c=l(c,f.children||[]),c.return=m,m=c;break e}else{n(m,c);break}else t(m,c);c=c.sibling}c=Zs(f,m.mode,p),c.return=m,m=c}return a(m);case xn:return L=f._init,F(m,c,L(f._payload),p)}if(sl(f))return j(m,c,f,p);if(Qr(f))return E(m,c,f,p);ro(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(m,c.sibling),c=l(c,f),c.return=m,m=c):(n(m,c),c=Xs(f,m.mode,p),c.return=m,m=c),a(m)):n(m,c)}return F}var Ar=Fd(!0),$d=Fd(!1),Lo=Un(null),Mo=null,Sr=null,Si=null;function Ni(){Si=Sr=Mo=null}function Ei(e){var t=Lo.current;_e(Lo),e._currentValue=t}function Oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _r(e,t){Mo=e,Si=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(Mo===null)throw Error(B(308));Sr=e,Mo.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Yn=null;function bi(e){Yn===null?Yn=[e]:Yn.push(e)}function Bd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,bi(t)):(n.next=l.next,l.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,dn(e,n)}return l=r.interleaved,l===null?(t.next=t,bi(r)):(t.next=l.next,l.next=t),r.interleaved=t,dn(e,n)}function go(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fi(e,n)}}function Ju(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var l=e.updateQueue;wn=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var u=i,d=u.next;u.next=null,a===null?o=d:a.next=d,a=u;var w=e.alternate;w!==null&&(w=w.updateQueue,i=w.lastBaseUpdate,i!==a&&(i===null?w.firstBaseUpdate=d:i.next=d,w.lastBaseUpdate=u))}if(o!==null){var v=l.baseState;a=0,w=d=u=null,i=o;do{var C=i.lane,T=i.eventTime;if((r&C)===C){w!==null&&(w=w.next={eventTime:T,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var j=e,E=i;switch(C=t,T=n,E.tag){case 1:if(j=E.payload,typeof j=="function"){v=j.call(T,v,C);break e}v=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=E.payload,C=typeof j=="function"?j.call(T,v,C):j,C==null)break e;v=Ue({},v,C);break e;case 2:wn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,C=l.effects,C===null?l.effects=[i]:C.push(i))}else T={eventTime:T,lane:C,tag:i.tag,payload:i.payload,callback:i.callback,next:null},w===null?(d=w=T,u=v):w=w.next=T,a|=C;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;C=i,i=C.next,C.next=null,l.lastBaseUpdate=C,l.shared.pending=null}}while(!0);if(w===null&&(u=v),l.baseState=u,l.firstBaseUpdate=d,l.lastBaseUpdate=w,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);nr|=a,e.lanes=a,e.memoizedState=v}}function Yu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(B(191,l));l.call(r)}}}var zl={},Qt=Un(zl),Il=Un(zl),_l=Un(zl);function qn(e){if(e===zl)throw Error(B(174));return e}function Ti(e,t){switch(Te(_l,t),Te(Il,e),Te(Qt,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ma(t,e)}_e(Qt),Te(Qt,t)}function Lr(){_e(Qt),_e(Il),_e(_l)}function Hd(e){qn(_l.current);var t=qn(Qt.current),n=ma(t,e.type);t!==n&&(Te(Il,e),Te(Qt,n))}function Ii(e){Il.current===e&&(_e(Qt),_e(Il))}var Le=Un(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=[];function _i(){for(var e=0;e<Ws.length;e++)Ws[e]._workInProgressVersionPrimary=null;Ws.length=0}var yo=pn.ReactCurrentDispatcher,Ks=pn.ReactCurrentBatchConfig,tr=0,Me=null,Ye=null,Qe=null,Fo=!1,ml=!1,Pl=0,mh=0;function rt(){throw Error(B(321))}function Pi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function Di(e,t,n,r,l,o){if(tr=o,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yo.current=e===null||e.memoizedState===null?vh:xh,e=n(r,l),ml){o=0;do{if(ml=!1,Pl=0,25<=o)throw Error(B(301));o+=1,Qe=Ye=null,t.updateQueue=null,yo.current=wh,e=n(r,l)}while(ml)}if(yo.current=$o,t=Ye!==null&&Ye.next!==null,tr=0,Qe=Ye=Me=null,Fo=!1,t)throw Error(B(300));return e}function Ri(){var e=Pl!==0;return Pl=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Me.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ot(){if(Ye===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Qe===null?Me.memoizedState:Qe.next;if(t!==null)Qe=t,Ye=e;else{if(e===null)throw Error(B(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Qe===null?Me.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Dl(e,t){return typeof t=="function"?t(e):t}function Js(e){var t=Ot(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ye,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var i=a=null,u=null,d=o;do{var w=d.lane;if((tr&w)===w)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var v={lane:w,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(i=u=v,a=r):u=u.next=v,Me.lanes|=w,nr|=w}d=d.next}while(d!==null&&d!==o);u===null?a=r:u.next=i,Ht(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Me.lanes|=o,nr|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ys(e){var t=Ot(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);Ht(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vd(){}function Wd(e,t){var n=Me,r=Ot(),l=t(),o=!Ht(r.memoizedState,l);if(o&&(r.memoizedState=l,pt=!0),r=r.queue,Oi(Yd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Rl(9,Jd.bind(null,n,r,l,t),void 0,null),Xe===null)throw Error(B(349));tr&30||Kd(n,t,l)}return l}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,r){t.value=n,t.getSnapshot=r,qd(t)&&Qd(e)}function Yd(e,t,n){return n(function(){qd(t)&&Qd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function Qd(e){var t=dn(e,1);t!==null&&Gt(t,e,1,-1)}function qu(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=yh.bind(null,Me,e),[t.memoizedState,e]}function Rl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xd(){return Ot().memoizedState}function vo(e,t,n,r){var l=Jt();Me.flags|=e,l.memoizedState=Rl(1|t,n,void 0,r===void 0?null:r)}function rs(e,t,n,r){var l=Ot();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var a=Ye.memoizedState;if(o=a.destroy,r!==null&&Pi(r,a.deps)){l.memoizedState=Rl(t,n,o,r);return}}Me.flags|=e,l.memoizedState=Rl(1|t,n,o,r)}function Qu(e,t){return vo(8390656,8,e,t)}function Oi(e,t){return rs(2048,8,e,t)}function Zd(e,t){return rs(4,2,e,t)}function ef(e,t){return rs(4,4,e,t)}function tf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nf(e,t,n){return n=n!=null?n.concat([e]):null,rs(4,4,tf.bind(null,t,e),n)}function Ai(){}function rf(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lf(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function of(e,t,n){return tr&21?(Ht(n,t)||(n=cd(),Me.lanes|=n,nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function hh(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Ks.transition;Ks.transition={};try{e(!1),t()}finally{be=n,Ks.transition=r}}function sf(){return Ot().memoizedState}function gh(e,t,n){var r=Dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},af(e))uf(t,n);else if(n=Bd(e,t,n,r),n!==null){var l=ut();Gt(n,e,r,l),cf(n,t,r)}}function yh(e,t,n){var r=Dn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(af(e))uf(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(l.hasEagerState=!0,l.eagerState=i,Ht(i,a)){var u=t.interleaved;u===null?(l.next=l,bi(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Bd(e,t,l,r),n!==null&&(l=ut(),Gt(n,e,r,l),cf(n,t,r))}}function af(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function uf(e,t){ml=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fi(e,n)}}var $o={readContext:Rt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},vh={readContext:Rt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Qu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vo(4194308,4,tf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gh.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Ai,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=hh.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,l=Jt();if(Re){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Xe===null)throw Error(B(349));tr&30||Kd(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Qu(Yd.bind(null,r,o,e),[e]),r.flags|=2048,Rl(9,Jd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jt(),t=Xe.identifierPrefix;if(Re){var n=sn,r=on;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xh={readContext:Rt,useCallback:rf,useContext:Rt,useEffect:Oi,useImperativeHandle:nf,useInsertionEffect:Zd,useLayoutEffect:ef,useMemo:lf,useReducer:Js,useRef:Xd,useState:function(){return Js(Dl)},useDebugValue:Ai,useDeferredValue:function(e){var t=Ot();return of(t,Ye.memoizedState,e)},useTransition:function(){var e=Js(Dl)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Wd,useId:sf,unstable_isNewReconciler:!1},wh={readContext:Rt,useCallback:rf,useContext:Rt,useEffect:Oi,useImperativeHandle:nf,useInsertionEffect:Zd,useLayoutEffect:ef,useMemo:lf,useReducer:Ys,useRef:Xd,useState:function(){return Ys(Dl)},useDebugValue:Ai,useDeferredValue:function(e){var t=Ot();return Ye===null?t.memoizedState=e:of(t,Ye.memoizedState,e)},useTransition:function(){var e=Ys(Dl)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Wd,useId:sf,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Aa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ut(),l=Dn(e),o=an(r,l);o.payload=t,n!=null&&(o.callback=n),t=_n(e,o,l),t!==null&&(Gt(t,e,l,r),go(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ut(),l=Dn(e),o=an(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_n(e,o,l),t!==null&&(Gt(t,e,l,r),go(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),r=Dn(e),l=an(n,r);l.tag=2,t!=null&&(l.callback=t),t=_n(e,l,r),t!==null&&(Gt(t,e,r,n),go(t,e,r))}};function Xu(e,t,n,r,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!El(n,r)||!El(l,o):!0}function df(e,t,n){var r=!1,l=Ln,o=t.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(l=ht(t)?Zn:st.current,r=t.contextTypes,o=(r=r!=null)?Rr(e,l):Ln),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Zu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function La(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ji(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Rt(o):(o=ht(t)?Zn:st.current,l.context=Rr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Aa(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ls.enqueueReplaceState(l,l.state,null),Uo(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",r=t;do n+=Jp(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function qs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function ff(e,t,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Go||(Go=!0,Ka=r),Ma(e,t)},n}function pf(e,t,n){n=an(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ma(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ma(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ec(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ch;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ah.bind(null,e,t,n),t.then(e,e))}function tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=an(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var kh=pn.ReactCurrentOwner,pt=!1;function it(e,t,n,r){t.child=e===null?$d(t,null,n,r):Ar(t,e.child,n,r)}function rc(e,t,n,r,l){n=n.render;var o=t.ref;return _r(t,l),r=Di(e,t,n,r,o,l),n=Ri(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,fn(e,t,l)):(Re&&n&&wi(t),t.flags|=1,it(e,t,r,l),t.child)}function lc(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Gi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,mf(e,t,o,r,l)):(e=ko(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(a,r)&&e.ref===t.ref)return fn(e,t,l)}return t.flags|=1,e=Rn(o,r),e.ref=t.ref,e.return=t,t.child=e}function mf(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(El(o,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,fn(e,t,l)}return Ua(e,t,n,r,l)}function hf(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Er,wt),wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Er,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(Er,wt),wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Te(Er,wt),wt|=r;return it(e,t,l,n),t.child}function gf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,l){var o=ht(n)?Zn:st.current;return o=Rr(t,o),_r(t,l),n=Di(e,t,n,r,o,l),r=Ri(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,fn(e,t,l)):(Re&&r&&wi(t),t.flags|=1,it(e,t,n,l),t.child)}function oc(e,t,n,r,l){if(ht(n)){var o=!0;Ro(t)}else o=!1;if(_r(t,l),t.stateNode===null)xo(e,t),df(t,n,r),La(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Rt(d):(d=ht(n)?Zn:st.current,d=Rr(t,d));var w=n.getDerivedStateFromProps,v=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||u!==d)&&Zu(t,a,r,d),wn=!1;var C=t.memoizedState;a.state=C,Uo(t,r,a,l),u=t.memoizedState,i!==r||C!==u||mt.current||wn?(typeof w=="function"&&(Aa(t,n,w,r),u=t.memoizedState),(i=wn||Xu(t,n,i,r,C,u,d))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=d,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Gd(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:Ut(t.type,i),a.props=d,v=t.pendingProps,C=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Rt(u):(u=ht(n)?Zn:st.current,u=Rr(t,u));var T=n.getDerivedStateFromProps;(w=typeof T=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==v||C!==u)&&Zu(t,a,r,u),wn=!1,C=t.memoizedState,a.state=C,Uo(t,r,a,l);var j=t.memoizedState;i!==v||C!==j||mt.current||wn?(typeof T=="function"&&(Aa(t,n,T,r),j=t.memoizedState),(d=wn||Xu(t,n,d,r,C,j,u)||!1)?(w||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,j,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,j,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),a.props=r,a.state=j,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return za(e,t,n,r,o,l)}function za(e,t,n,r,l,o){gf(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&Hu(t,n,!1),fn(e,t,o);r=t.stateNode,kh.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ar(t,e.child,null,o),t.child=Ar(t,null,i,o)):it(e,t,i,o),t.memoizedState=r.state,l&&Hu(t,n,!0),t.child}function yf(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),Ti(e,t.containerInfo)}function sc(e,t,n,r,l){return Or(),ki(l),t.flags|=256,it(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function $a(e){return{baseLanes:e,cachePool:null,transitions:null}}function vf(e,t,n){var r=t.pendingProps,l=Le.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Te(Le,l&1),e===null)return Ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=as(a,r,0,null),e=Xn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=$a(n),t.memoizedState=Fa,e):Li(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Sh(e,t,a,r,i,l,n);if(o){o=r.fallback,a=t.mode,l=e.child,i=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Rn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=Rn(i,o):(o=Xn(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?$a(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Fa,r}return o=e.child,e=o.sibling,r=Rn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Li(e,t){return t=as({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lo(e,t,n,r){return r!==null&&ki(r),Ar(t,e.child,null,n),e=Li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sh(e,t,n,r,l,o,a){if(n)return t.flags&256?(t.flags&=-257,r=qs(Error(B(422))),lo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=as({mode:"visible",children:r.children},l,0,null),o=Xn(o,l,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ar(t,e.child,null,a),t.child.memoizedState=$a(a),t.memoizedState=Fa,o);if(!(t.mode&1))return lo(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(B(419)),r=qs(o,r,void 0),lo(e,t,a,r)}if(i=(a&e.childLanes)!==0,pt||i){if(r=Xe,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,dn(e,l),Gt(r,e,l,-1))}return Bi(),r=qs(Error(B(421))),lo(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Lh.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Ct=In(l.nextSibling),kt=t,Re=!0,Ft=null,e!==null&&(Tt[It++]=on,Tt[It++]=sn,Tt[It++]=er,on=e.id,sn=e.overflow,er=t),t=Li(t,r.children),t.flags|=4096,t)}function ac(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oa(e.return,t,n)}function Qs(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function xf(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(it(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ac(e,n,t);else if(e.tag===19)ac(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Le,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Qs(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&zo(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Qs(t,!0,n,null,o);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nh(e,t,n){switch(t.tag){case 3:yf(t),Or();break;case 5:Hd(t);break;case 1:ht(t.type)&&Ro(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Te(Lo,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?vf(e,t,n):(Te(Le,Le.current&1),e=fn(e,t,n),e!==null?e.sibling:null);Te(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Te(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,hf(e,t,n)}return fn(e,t,n)}var wf,Ba,Cf,kf;wf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ba=function(){};Cf=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,qn(Qt.current);var o=null;switch(n){case"input":l=ca(e,l),r=ca(e,r),o=[];break;case"select":l=Ue({},l,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":l=pa(e,l),r=pa(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Po)}ha(n,r);var a;n=null;for(d in l)if(!r.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var i=l[d];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(i=l!=null?l[d]:void 0,r.hasOwnProperty(d)&&u!==i&&(u!=null||i!=null))if(d==="style")if(i){for(a in i)!i.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&i[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ie("scroll",e),o||i===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};kf=function(e,t,n,r){n!==r&&(t.flags|=4)};function rl(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Eh(e,t,n){var r=t.pendingProps;switch(Ci(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return ht(t.type)&&Do(),lt(t),null;case 3:return r=t.stateNode,Lr(),_e(mt),_e(st),_i(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(qa(Ft),Ft=null))),Ba(e,t),lt(t),null;case 5:Ii(t);var l=qn(_l.current);if(n=t.type,e!==null&&t.stateNode!=null)Cf(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return lt(t),null}if(e=qn(Qt.current),no(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yt]=t,r[Tl]=o,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(l=0;l<il.length;l++)Ie(il[l],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":gu(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":vu(r,o),Ie("invalid",r)}ha(n,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&to(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&to(r.textContent,i,e),l=["children",""+i]):vl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Kl(r),yu(r,o,!0);break;case"textarea":Kl(r),xu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Po)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Yt]=t,e[Tl]=r,wf(e,t,!1,!1),t.stateNode=e;e:{switch(a=ga(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),l=r;break;case"iframe":case"object":case"embed":Ie("load",e),l=r;break;case"video":case"audio":for(l=0;l<il.length;l++)Ie(il[l],e);l=r;break;case"source":Ie("error",e),l=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),l=r;break;case"details":Ie("toggle",e),l=r;break;case"input":gu(e,r),l=ca(e,r),Ie("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Ue({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":vu(e,r),l=pa(e,r),Ie("invalid",e);break;default:l=r}ha(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="style"?Xc(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qc(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xl(e,u):typeof u=="number"&&xl(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",e):u!=null&&si(e,o,u,a))}switch(n){case"input":Kl(e),yu(e,r,!1);break;case"textarea":Kl(e),xu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?br(e,!!r.multiple,o,!1):r.defaultValue!=null&&br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)kf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=qn(_l.current),qn(Qt.current),no(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(o=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:to(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return lt(t),null;case 13:if(_e(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Ct!==null&&t.mode&1&&!(t.flags&128))zd(),Or(),t.flags|=98560,o=!1;else if(o=no(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Yt]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else Ft!==null&&(qa(Ft),Ft=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?qe===0&&(qe=3):Bi())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Lr(),Ba(e,t),e===null&&bl(t.stateNode.containerInfo),lt(t),null;case 10:return Ei(t.type._context),lt(t),null;case 17:return ht(t.type)&&Do(),lt(t),null;case 19:if(_e(Le),o=t.memoizedState,o===null)return lt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)rl(o,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=zo(e),a!==null){for(t.flags|=128,rl(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ve()>Ur&&(t.flags|=128,r=!0,rl(o,!1),t.lanes=4194304)}else{if(!r)if(e=zo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Re)return lt(t),null}else 2*Ve()-o.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,rl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,n=Le.current,Te(Le,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return $i(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function bh(e,t){switch(Ci(t),t.tag){case 1:return ht(t.type)&&Do(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),_e(mt),_e(st),_i(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ii(t),null;case 13:if(_e(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Le),null;case 4:return Lr(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return $i(),null;case 24:return null;default:return null}}var oo=!1,ot=!1,jh=typeof WeakSet=="function"?WeakSet:Set,te=null;function Nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Ga(e,t,n){try{n()}catch(r){He(e,t,r)}}var ic=!1;function Th(e,t){if(ba=To,e=bd(),xi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,u=-1,d=0,w=0,v=e,C=null;t:for(;;){for(var T;v!==n||l!==0&&v.nodeType!==3||(i=a+l),v!==o||r!==0&&v.nodeType!==3||(u=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(T=v.firstChild)!==null;)C=v,v=T;for(;;){if(v===e)break t;if(C===n&&++d===l&&(i=a),C===o&&++w===r&&(u=a),(T=v.nextSibling)!==null)break;v=C,C=v.parentNode}v=T}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ja={focusedElem:e,selectionRange:n},To=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var E=j.memoizedProps,F=j.memoizedState,m=t.stateNode,c=m.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ut(t.type,E),F);m.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(p){He(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return j=ic,ic=!1,j}function hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ga(t,n,o)}l=l.next}while(l!==r)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ha(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sf(e){var t=e.alternate;t!==null&&(e.alternate=null,Sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Tl],delete t[_a],delete t[ch],delete t[dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nf(e){return e.tag===5||e.tag===3||e.tag===4}function uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Po));else if(r!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}function Wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wa(e,t,n),e=e.sibling;e!==null;)Wa(e,t,n),e=e.sibling}var et=null,zt=!1;function yn(e,t,n){for(n=n.child;n!==null;)Ef(e,t,n),n=n.sibling}function Ef(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Qo,n)}catch{}switch(n.tag){case 5:ot||Nr(n,t);case 6:var r=et,l=zt;et=null,yn(e,t,n),et=r,zt=l,et!==null&&(zt?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(zt?(e=et,n=n.stateNode,e.nodeType===8?Hs(e.parentNode,n):e.nodeType===1&&Hs(e,n),Sl(e)):Hs(et,n.stateNode));break;case 4:r=et,l=zt,et=n.stateNode.containerInfo,zt=!0,yn(e,t,n),et=r,zt=l;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ga(n,t,a),l=l.next}while(l!==r)}yn(e,t,n);break;case 1:if(!ot&&(Nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){He(n,t,i)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,yn(e,t,n),ot=r):yn(e,t,n);break;default:yn(e,t,n)}}function cc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jh),t.forEach(function(r){var l=Mh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:et=i.stateNode,zt=!1;break e;case 3:et=i.stateNode.containerInfo,zt=!0;break e;case 4:et=i.stateNode.containerInfo,zt=!0;break e}i=i.return}if(et===null)throw Error(B(160));Ef(o,a,l),et=null,zt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(d){He(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}function bf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Kt(e),r&4){try{hl(3,e,e.return),os(3,e)}catch(E){He(e,e.return,E)}try{hl(5,e,e.return)}catch(E){He(e,e.return,E)}}break;case 1:Mt(t,e),Kt(e),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(Mt(t,e),Kt(e),r&512&&n!==null&&Nr(n,n.return),e.flags&32){var l=e.stateNode;try{xl(l,"")}catch(E){He(e,e.return,E)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Kc(l,o),ga(i,a);var d=ga(i,o);for(a=0;a<u.length;a+=2){var w=u[a],v=u[a+1];w==="style"?Xc(l,v):w==="dangerouslySetInnerHTML"?qc(l,v):w==="children"?xl(l,v):si(l,w,v,d)}switch(i){case"input":da(l,o);break;case"textarea":Jc(l,o);break;case"select":var C=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?br(l,!!o.multiple,T,!1):C!==!!o.multiple&&(o.defaultValue!=null?br(l,!!o.multiple,o.defaultValue,!0):br(l,!!o.multiple,o.multiple?[]:"",!1))}l[Tl]=o}catch(E){He(e,e.return,E)}}break;case 6:if(Mt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(B(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(E){He(e,e.return,E)}}break;case 3:if(Mt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(E){He(e,e.return,E)}break;case 4:Mt(t,e),Kt(e);break;case 13:Mt(t,e),Kt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(zi=Ve())),r&4&&cc(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(d=ot)||w,Mt(t,e),ot=d):Mt(t,e),Kt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!w&&e.mode&1)for(te=e,w=e.child;w!==null;){for(v=te=w;te!==null;){switch(C=te,T=C.child,C.tag){case 0:case 11:case 14:case 15:hl(4,C,C.return);break;case 1:Nr(C,C.return);var j=C.stateNode;if(typeof j.componentWillUnmount=="function"){r=C,n=C.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(E){He(r,n,E)}}break;case 5:Nr(C,C.return);break;case 22:if(C.memoizedState!==null){fc(v);continue}}T!==null?(T.return=C,te=T):fc(v)}w=w.sibling}e:for(w=null,v=e;;){if(v.tag===5){if(w===null){w=v;try{l=v.stateNode,d?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=v.stateNode,u=v.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Qc("display",a))}catch(E){He(e,e.return,E)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(E){He(e,e.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Mt(t,e),Kt(e),r&4&&cc(e);break;case 21:break;default:Mt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nf(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(xl(l,""),r.flags&=-33);var o=uc(e);Wa(e,o,l);break;case 3:case 4:var a=r.stateNode.containerInfo,i=uc(e);Va(e,i,a);break;default:throw Error(B(161))}}catch(u){He(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ih(e,t,n){te=e,jf(e)}function jf(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var l=te,o=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||oo;if(!a){var i=l.alternate,u=i!==null&&i.memoizedState!==null||ot;i=oo;var d=ot;if(oo=a,(ot=u)&&!d)for(te=l;te!==null;)a=te,u=a.child,a.tag===22&&a.memoizedState!==null?pc(l):u!==null?(u.return=a,te=u):pc(l);for(;o!==null;)te=o,jf(o),o=o.sibling;te=l,oo=i,ot=d}dc(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,te=o):dc(e)}}function dc(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yu(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yu(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var w=d.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&Sl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ot||t.flags&512&&Ha(t)}catch(C){He(t,t.return,C)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function fc(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function pc(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(u){He(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){He(t,l,u)}}var o=t.return;try{Ha(t)}catch(u){He(t,o,u)}break;case 5:var a=t.return;try{Ha(t)}catch(u){He(t,a,u)}}}catch(u){He(t,t.return,u)}if(t===e){te=null;break}var i=t.sibling;if(i!==null){i.return=t.return,te=i;break}te=t.return}}var _h=Math.ceil,Bo=pn.ReactCurrentDispatcher,Mi=pn.ReactCurrentOwner,Dt=pn.ReactCurrentBatchConfig,Ce=0,Xe=null,Je=null,tt=0,wt=0,Er=Un(0),qe=0,Ol=null,nr=0,ss=0,Ui=0,gl=null,ft=null,zi=0,Ur=1/0,nn=null,Go=!1,Ka=null,Pn=null,so=!1,Nn=null,Ho=0,yl=0,Ja=null,wo=-1,Co=0;function ut(){return Ce&6?Ve():wo!==-1?wo:wo=Ve()}function Dn(e){return e.mode&1?Ce&2&&tt!==0?tt&-tt:ph.transition!==null?(Co===0&&(Co=cd()),Co):(e=be,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function Gt(e,t,n,r){if(50<yl)throw yl=0,Ja=null,Error(B(185));Ll(e,n,r),(!(Ce&2)||e!==Xe)&&(e===Xe&&(!(Ce&2)&&(ss|=n),qe===4&&kn(e,tt)),gt(e,r),n===1&&Ce===0&&!(t.mode&1)&&(Ur=Ve()+500,ns&&zn()))}function gt(e,t){var n=e.callbackNode;pm(e,t);var r=jo(e,e===Xe?tt:0);if(r===0)n!==null&&ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ku(n),t===1)e.tag===0?fh(mc.bind(null,e)):Ld(mc.bind(null,e)),ih(function(){!(Ce&6)&&zn()}),n=null;else{switch(dd(r)){case 1:n=di;break;case 4:n=id;break;case 16:n=bo;break;case 536870912:n=ud;break;default:n=bo}n=Af(n,Tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tf(e,t){if(wo=-1,Co=0,Ce&6)throw Error(B(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=jo(e,e===Xe?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vo(e,r);else{t=r;var l=Ce;Ce|=2;var o=_f();(Xe!==e||tt!==t)&&(nn=null,Ur=Ve()+500,Qn(e,t));do try{Rh();break}catch(i){If(e,i)}while(!0);Ni(),Bo.current=o,Ce=l,Je!==null?t=0:(Xe=null,tt=0,t=qe)}if(t!==0){if(t===2&&(l=Ca(e),l!==0&&(r=l,t=Ya(e,l))),t===1)throw n=Ol,Qn(e,0),kn(e,r),gt(e,Ve()),n;if(t===6)kn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ph(l)&&(t=Vo(e,r),t===2&&(o=Ca(e),o!==0&&(r=o,t=Ya(e,o))),t===1))throw n=Ol,Qn(e,0),kn(e,r),gt(e,Ve()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Kn(e,ft,nn);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=zi+500-Ve(),10<t)){if(jo(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ut(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ia(Kn.bind(null,e,ft,nn),t);break}Kn(e,ft,nn);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Bt(r);o=1<<a,a=t[a],a>l&&(l=a),r&=~o}if(r=l,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_h(r/1960))-r,10<r){e.timeoutHandle=Ia(Kn.bind(null,e,ft,nn),r);break}Kn(e,ft,nn);break;case 5:Kn(e,ft,nn);break;default:throw Error(B(329))}}}return gt(e,Ve()),e.callbackNode===n?Tf.bind(null,e):null}function Ya(e,t){var n=gl;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Vo(e,t),e!==2&&(t=ft,ft=n,t!==null&&qa(t)),e}function qa(e){ft===null?ft=e:ft.push.apply(ft,e)}function Ph(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Ht(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Ui,t&=~ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function mc(e){if(Ce&6)throw Error(B(327));Pr();var t=jo(e,0);if(!(t&1))return gt(e,Ve()),null;var n=Vo(e,t);if(e.tag!==0&&n===2){var r=Ca(e);r!==0&&(t=r,n=Ya(e,r))}if(n===1)throw n=Ol,Qn(e,0),kn(e,t),gt(e,Ve()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,ft,nn),gt(e,Ve()),null}function Fi(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Ur=Ve()+500,ns&&zn())}}function rr(e){Nn!==null&&Nn.tag===0&&!(Ce&6)&&Pr();var t=Ce;Ce|=1;var n=Dt.transition,r=be;try{if(Dt.transition=null,be=1,e)return e()}finally{be=r,Dt.transition=n,Ce=t,!(Ce&6)&&zn()}}function $i(){wt=Er.current,_e(Er)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ah(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Ci(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Do();break;case 3:Lr(),_e(mt),_e(st),_i();break;case 5:Ii(r);break;case 4:Lr();break;case 13:_e(Le);break;case 19:_e(Le);break;case 10:Ei(r.type._context);break;case 22:case 23:$i()}n=n.return}if(Xe=e,Je=e=Rn(e.current,null),tt=wt=t,qe=0,Ol=null,Ui=ss=nr=0,ft=gl=null,Yn!==null){for(t=0;t<Yn.length;t++)if(n=Yn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=l,r.next=a}n.pending=r}Yn=null}return e}function If(e,t){do{var n=Je;try{if(Ni(),yo.current=$o,Fo){for(var r=Me.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Fo=!1}if(tr=0,Qe=Ye=Me=null,ml=!1,Pl=0,Mi.current=null,n===null||n.return===null){qe=1,Ol=t,Je=null;break}e:{var o=e,a=n.return,i=n,u=t;if(t=tt,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,w=i,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var C=w.alternate;C?(w.updateQueue=C.updateQueue,w.memoizedState=C.memoizedState,w.lanes=C.lanes):(w.updateQueue=null,w.memoizedState=null)}var T=tc(a);if(T!==null){T.flags&=-257,nc(T,a,i,o,t),T.mode&1&&ec(o,d,t),t=T,u=d;var j=t.updateQueue;if(j===null){var E=new Set;E.add(u),t.updateQueue=E}else j.add(u);break e}else{if(!(t&1)){ec(o,d,t),Bi();break e}u=Error(B(426))}}else if(Re&&i.mode&1){var F=tc(a);if(F!==null){!(F.flags&65536)&&(F.flags|=256),nc(F,a,i,o,t),ki(Mr(u,i));break e}}o=u=Mr(u,i),qe!==4&&(qe=2),gl===null?gl=[o]:gl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=ff(o,u,t);Ju(o,m);break e;case 1:i=u;var c=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pn===null||!Pn.has(f)))){o.flags|=65536,t&=-t,o.lanes|=t;var p=pf(o,i,t);Ju(o,p);break e}}o=o.return}while(o!==null)}Df(n)}catch(I){t=I,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function _f(){var e=Bo.current;return Bo.current=$o,e===null?$o:e}function Bi(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||!(nr&268435455)&&!(ss&268435455)||kn(Xe,tt)}function Vo(e,t){var n=Ce;Ce|=2;var r=_f();(Xe!==e||tt!==t)&&(nn=null,Qn(e,t));do try{Dh();break}catch(l){If(e,l)}while(!0);if(Ni(),Ce=n,Bo.current=r,Je!==null)throw Error(B(261));return Xe=null,tt=0,qe}function Dh(){for(;Je!==null;)Pf(Je)}function Rh(){for(;Je!==null&&!lm();)Pf(Je)}function Pf(e){var t=Of(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Df(e):Je=t,Mi.current=null}function Df(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bh(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Je=null;return}}else if(n=Eh(n,t,wt),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);qe===0&&(qe=5)}function Kn(e,t,n){var r=be,l=Dt.transition;try{Dt.transition=null,be=1,Oh(e,t,n,r)}finally{Dt.transition=l,be=r}return null}function Oh(e,t,n,r){do Pr();while(Nn!==null);if(Ce&6)throw Error(B(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mm(e,o),e===Xe&&(Je=Xe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,Af(bo,function(){return Pr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var a=be;be=1;var i=Ce;Ce|=4,Mi.current=null,Th(e,n),bf(n,e),eh(ja),To=!!ba,ja=ba=null,e.current=n,Ih(n),om(),Ce=i,be=a,Dt.transition=o}else e.current=n;if(so&&(so=!1,Nn=e,Ho=l),o=e.pendingLanes,o===0&&(Pn=null),im(n.stateNode),gt(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Go)throw Go=!1,e=Ka,Ka=null,e;return Ho&1&&e.tag!==0&&Pr(),o=e.pendingLanes,o&1?e===Ja?yl++:(yl=0,Ja=e):yl=0,zn(),null}function Pr(){if(Nn!==null){var e=dd(Ho),t=Dt.transition,n=be;try{if(Dt.transition=null,be=16>e?16:e,Nn===null)var r=!1;else{if(e=Nn,Nn=null,Ho=0,Ce&6)throw Error(B(331));var l=Ce;for(Ce|=4,te=e.current;te!==null;){var o=te,a=o.child;if(te.flags&16){var i=o.deletions;if(i!==null){for(var u=0;u<i.length;u++){var d=i[u];for(te=d;te!==null;){var w=te;switch(w.tag){case 0:case 11:case 15:hl(8,w,o)}var v=w.child;if(v!==null)v.return=w,te=v;else for(;te!==null;){w=te;var C=w.sibling,T=w.return;if(Sf(w),w===d){te=null;break}if(C!==null){C.return=T,te=C;break}te=T}}}var j=o.alternate;if(j!==null){var E=j.child;if(E!==null){j.child=null;do{var F=E.sibling;E.sibling=null,E=F}while(E!==null)}}te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,te=a;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hl(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,te=m;break e}te=o.return}}var c=e.current;for(te=c;te!==null;){a=te;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,te=f;else e:for(a=c;te!==null;){if(i=te,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:os(9,i)}}catch(I){He(i,i.return,I)}if(i===a){te=null;break e}var p=i.sibling;if(p!==null){p.return=i.return,te=p;break e}te=i.return}}if(Ce=l,zn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Qo,e)}catch{}r=!0}return r}finally{be=n,Dt.transition=t}}return!1}function hc(e,t,n){t=Mr(n,t),t=ff(e,t,1),e=_n(e,t,1),t=ut(),e!==null&&(Ll(e,1,t),gt(e,t))}function He(e,t,n){if(e.tag===3)hc(e,e,n);else for(;t!==null;){if(t.tag===3){hc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Mr(n,e),e=pf(t,e,1),t=_n(t,e,1),e=ut(),t!==null&&(Ll(t,1,e),gt(t,e));break}}t=t.return}}function Ah(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(tt&n)===n&&(qe===4||qe===3&&(tt&130023424)===tt&&500>Ve()-zi?Qn(e,0):Ui|=n),gt(e,t)}function Rf(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var n=ut();e=dn(e,t),e!==null&&(Ll(e,t,n),gt(e,n))}function Lh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function Mh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Rf(e,n)}var Of;Of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,Nh(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Re&&t.flags&1048576&&Md(t,Ao,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xo(e,t),e=t.pendingProps;var l=Rr(t,st.current);_r(t,n),l=Di(null,t,r,e,l,n);var o=Ri();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(o=!0,Ro(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ji(t),l.updater=ls,t.stateNode=l,l._reactInternals=t,La(t,r,e,n),t=za(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&wi(t),it(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xo(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=zh(r),e=Ut(r,e),l){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=oc(null,t,r,e,n);break e;case 11:t=rc(null,t,r,e,n);break e;case 14:t=lc(null,t,r,Ut(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),Ua(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),oc(e,t,r,l,n);case 3:e:{if(yf(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Gd(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Mr(Error(B(423)),t),t=sc(e,t,r,n,l);break e}else if(r!==l){l=Mr(Error(B(424)),t),t=sc(e,t,r,n,l);break e}else for(Ct=In(t.stateNode.containerInfo.firstChild),kt=t,Re=!0,Ft=null,n=$d(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===l){t=fn(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return Hd(t),e===null&&Ra(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,a=l.children,Ta(r,l)?a=null:o!==null&&Ta(r,o)&&(t.flags|=32),gf(e,t),it(e,t,a,n),t.child;case 6:return e===null&&Ra(t),null;case 13:return vf(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ar(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),rc(e,t,r,l,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,a=l.value,Te(Lo,r._currentValue),r._currentValue=a,o!==null)if(Ht(o.value,a)){if(o.children===l.children&&!mt.current){t=fn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=an(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var w=d.pending;w===null?u.next=u:(u.next=w.next,w.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Oa(o.return,n,t),i.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(B(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Oa(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}it(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,_r(t,n),l=Rt(l),r=r(l),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,l=Ut(r,t.pendingProps),l=Ut(r.type,l),lc(e,t,r,l,n);case 15:return mf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),xo(e,t),t.tag=1,ht(r)?(e=!0,Ro(t)):e=!1,_r(t,n),df(t,r,l),La(t,r,l,n),za(null,t,r,!0,e,n);case 19:return xf(e,t,n);case 22:return hf(e,t,n)}throw Error(B(156,t.tag))};function Af(e,t){return ad(e,t)}function Uh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new Uh(e,t,n,r)}function Gi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zh(e){if(typeof e=="function")return Gi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ii)return 11;if(e===ui)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ko(e,t,n,r,l,o){var a=2;if(r=e,typeof e=="function")Gi(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case hr:return Xn(n.children,l,o,t);case ai:a=8,l|=8;break;case sa:return e=_t(12,n,t,l|2),e.elementType=sa,e.lanes=o,e;case aa:return e=_t(13,n,t,l),e.elementType=aa,e.lanes=o,e;case ia:return e=_t(19,n,t,l),e.elementType=ia,e.lanes=o,e;case Hc:return as(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bc:a=10;break e;case Gc:a=9;break e;case ii:a=11;break e;case ui:a=14;break e;case xn:a=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=_t(a,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Xn(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function as(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Hc,e.lanes=n,e.stateNode={isHidden:!1},e}function Xs(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Zs(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Hi(e,t,n,r,l,o,a,i,u){return e=new Fh(e,t,n,i,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ji(o),e}function $h(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lf(e){if(!e)return Ln;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(ht(n))return Ad(e,n,t)}return t}function Mf(e,t,n,r,l,o,a,i,u){return e=Hi(n,r,!0,e,l,o,a,i,u),e.context=Lf(null),n=e.current,r=ut(),l=Dn(n),o=an(r,l),o.callback=t??null,_n(n,o,l),e.current.lanes=l,Ll(e,l,r),gt(e,r),e}function is(e,t,n,r){var l=t.current,o=ut(),a=Dn(l);return n=Lf(n),t.context===null?t.context=n:t.pendingContext=n,t=an(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(l,t,a),e!==null&&(Gt(e,l,a,o),go(e,l,a)),a}function Wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vi(e,t){gc(e,t),(e=e.alternate)&&gc(e,t)}function Bh(){return null}var Uf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wi(e){this._internalRoot=e}us.prototype.render=Wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));is(e,t,null,null)};us.prototype.unmount=Wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){is(null,e,null,null)}),t[cn]=null}};function us(e){this._internalRoot=e}us.prototype.unstable_scheduleHydration=function(e){if(e){var t=md();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&gd(e)}};function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yc(){}function Gh(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var d=Wo(a);o.call(d)}}var a=Mf(t,r,e,0,null,!1,!1,"",yc);return e._reactRootContainer=a,e[cn]=a.current,bl(e.nodeType===8?e.parentNode:e),rr(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var d=Wo(u);i.call(d)}}var u=Hi(e,0,!1,null,null,!1,!1,"",yc);return e._reactRootContainer=u,e[cn]=u.current,bl(e.nodeType===8?e.parentNode:e),rr(function(){is(t,u,n,r)}),u}function ds(e,t,n,r,l){var o=n._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var i=l;l=function(){var u=Wo(a);i.call(u)}}is(t,a,e,l)}else a=Gh(n,t,e,l,r);return Wo(a)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=al(t.pendingLanes);n!==0&&(fi(t,n|1),gt(t,Ve()),!(Ce&6)&&(Ur=Ve()+500,zn()))}break;case 13:rr(function(){var r=dn(e,1);if(r!==null){var l=ut();Gt(r,e,1,l)}}),Vi(e,1)}};pi=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=ut();Gt(t,e,134217728,n)}Vi(e,134217728)}};pd=function(e){if(e.tag===13){var t=Dn(e),n=dn(e,t);if(n!==null){var r=ut();Gt(n,e,t,r)}Vi(e,t)}};md=function(){return be};hd=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};va=function(e,t,n){switch(t){case"input":if(da(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ts(r);if(!l)throw Error(B(90));Wc(r),da(r,l)}}}break;case"textarea":Jc(e,n);break;case"select":t=n.value,t!=null&&br(e,!!n.multiple,t,!1)}};td=Fi;nd=rr;var Hh={usingClientEntryPoint:!1,Events:[Ul,xr,ts,Zc,ed,Fi]},ll={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vh={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=od(e),e===null?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||Bh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Qo=ao.inject(Vh),qt=ao}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hh;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ki(t))throw Error(B(200));return $h(e,t,null,n)};Nt.createRoot=function(e,t){if(!Ki(e))throw Error(B(299));var n=!1,r="",l=Uf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Hi(e,1,!1,null,null,n,!1,r,l),e[cn]=t.current,bl(e.nodeType===8?e.parentNode:e),new Wi(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=od(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return rr(e)};Nt.hydrate=function(e,t,n){if(!cs(t))throw Error(B(200));return ds(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!Ki(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",a=Uf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mf(t,null,e,1,n??null,l,!1,o,a),e[cn]=t.current,bl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new us(t)};Nt.render=function(e,t,n){if(!cs(t))throw Error(B(200));return ds(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!cs(e))throw Error(B(40));return e._reactRootContainer?(rr(function(){ds(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};Nt.unstable_batchedUpdates=Fi;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cs(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return ds(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zf)}catch(e){console.error(e)}}zf(),Uc.exports=Nt;var Ji=Uc.exports,vc=Ji;la.createRoot=vc.createRoot,la.hydrateRoot=vc.hydrateRoot;var we=(e=>(e.SynchroTech="SynchroTech",e.Hoods="Hoods",e.Optimates="Optimates",e.Fusion="Fusion",e.Command="Command",e.Tokens="Tokens",e.Custom="Custom",e))(we||{}),On=(e=>(e.FreeForAll="FFA",e.TwoVTwo="2v2",e.ThreeVOne="3v1",e))(On||{});const Wh={ipDeptAgent:{name:"IP Dept Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253319/SYN_IP_DEPT_AGENT_mhwphu.png",fallbackImage:"/images/cards/SYN_IP_DEPT_AGENT.png",power:2,ability:`Deploy: 2 stuns a card with exploit.
Support  Commit: A player discards a revealed card of your choice.`,flavorText:`- "You've violated copyright. Open the door. We have a search warrant."`,types:["Unit","SynchroTech"],faction:"SynchroTech",allowedPanels:["DECK_BUILDER"]},tacticalAgent:{name:"Tactical Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253342/SYN_TACTICAL_AGENT_xbb7i0.png",fallbackImage:"/images/cards/SYN_TACTICAL_AGENT.png",power:3,ability:`Deploy: Aim a card with threat.
Setup: Destroy the card with aim.`,flavorText:'- "Nobody move! SynchroTech Security Service!"',types:["Unit","SynchroTech"],faction:"SynchroTech",allowedPanels:["DECK_BUILDER"]},patrolAgent:{name:"Patrol Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253325/SYN_PATROL_AGENT_ioetlu.png",fallbackImage:"/images/cards/SYN_PATROL_AGENT.png",power:2,ability:`Setup: Move this card to any cell in a line.
Support  Commit: Stun an adjacent opponent card with threat.`,flavorText:"They say the city never sleeps. We make sure it doesn't even blink.",types:["Unit","SynchroTech"],faction:"SynchroTech",allowedPanels:["DECK_BUILDER"]},riotAgent:{name:"Riot Agent",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253337/SYN_RIOT_AGENT_jurf4t.png",fallbackImage:"/images/cards/SYN_RIOT_AGENT.png",power:3,ability:`Deploy: Push an opponent card 1 cell, . ay take its place.
Support  Commit: Stun an adjacent opponent card with threat.`,flavorText:'- "Citizens, disperse! This meeting is unauthorized by SynchroTech."',types:["Unit","SynchroTech"],faction:"SynchroTech",allowedPanels:["DECK_BUILDER"]},threatAnalyst:{name:"Threat Analyst",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253338/SYN_THREAT_ANALYST_sqnpgw.png",fallbackImage:"/images/cards/SYN_THREAT_ANALYST.png",power:2,ability:`Deploy: Exploit any card.
Support  Commit: Reveal 1 card for each of your exploits on the battlefield.`,flavorText:"",types:["Unit","SynchroTech"],faction:"SynchroTech",allowedPanels:["DECK_BUILDER"]},recklessProvocateur:{name:"Reckless Provocateur",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253315/HOO_RECKLESS_PROVOCATEUR_hi7a9z.png",fallbackImage:"/images/cards/HOO_RECKLESS_PROVOCATEUR.png",power:3,ability:`Deploy: Swap positions with a card in an adjacent cell.
Commit: Move 1 counter from another allied card to this card.`,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"],faction:"Hoods",allowedPanels:["DECK_BUILDER"]},dataLiberator:{name:"Data Liberator",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253317/HOO_DATA_LIBERATOR_lbtqa2.png",fallbackImage:"/images/cards/HOO_DATA_LIBERATOR.png",power:2,ability:`Setup: Exploit any card.
Support  Pas: Cards with your exploit counters give you points.`,flavorText:`- "Information doesn't want to be free. It needs to be."`,types:["Unit","Hoods"],faction:"Hoods",allowedPanels:["DECK_BUILDER"]},cautiousAvenger:{name:"Cautious Avenger",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253309/HOO_CAUTIOUS_AVENGER_x4g4g3.png",fallbackImage:"/images/cards/HOO_CAUTIOUS_AVENGER.png",power:2,ability:`Deploy: Aim a card in a line.
Support  Setup: Destroy the card with aim.`,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"],faction:"Hoods",allowedPanels:["DECK_BUILDER"]},vigilantSpotter:{name:"Vigilant Spotter",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253311/HOO_VIGILANT_SPOTTER_eiephm.png",fallbackImage:"/images/cards/HOO_VIGILANT_SPOTTER.png",power:1,ability:`Support  Pas: When an opponent's revealed card enters the battlefield, gain 2 points.
Commit: Each opponent reveals 1 cards to you.`,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"],faction:"Hoods",allowedPanels:["DECK_BUILDER"]},inventiveMaker:{name:"Inventive Maker",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253313/HOO_INVENTIVE_MAKER_uzrbg1.png",fallbackImage:"/images/cards/HOO_INVENTIVE_MAKER.png",power:1,ability:`Deploy: Place the Recon Drone token in a free adjacent cell.
Support  Setup: Return a device card from the discard pile to your hand.`,flavorText:'- "Patience is a weapon. Vengeance is an art."',types:["Unit","Hoods"],faction:"Hoods",allowedPanels:["DECK_BUILDER"]},faber:{name:"Faber",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253324/OPT_FABER_d7uxew.png",fallbackImage:"/images/cards/OPT_FABER.png",power:1,ability:"Deploy: Place the Walking Turret card in a free adjacent cell.",flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"],faction:"Optimates",allowedPanels:["DECK_BUILDER"]},censor:{name:"Censor",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253321/OPT_CENSOR_wtxtc2.png",fallbackImage:"/images/cards/OPT_CENSOR.png",power:2,ability:`Deploy: Exploit any card.
Support  Commit: Swap 1 exploit for 1 stun.`,flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"],faction:"Optimates",allowedPanels:["DECK_BUILDER"]},princeps:{name:"Princeps",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253332/OPT_PRINCEPS_w3o5lq.png",fallbackImage:"/images/cards/OPT_PRINCEPS.png",power:3,ability:`Deploy: Shield 1 and aim a card with threat.
Setup: Destroy a card with aim in a line.`,flavorText:"Order is not requested. It is imposed.",types:["Unit","Optimates"],faction:"Optimates",allowedPanels:["DECK_BUILDER"]},immunis:{name:"Immunis",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253327/OPT_IMMUNIS_bjlncl.png",fallbackImage:"/images/cards/OPT_IMMUNIS.png",power:2,ability:"Support  Setup: Return Optimat from the discard pile to the adjacent cell. Activate its deploy ability, and it gains stun 1.",flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"],faction:"Optimates",allowedPanels:["DECK_BUILDER"]},centurion:{name:"Centurion",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253330/OPT_CENTURION_aaushl.png",fallbackImage:"/images/cards/OPT_CENTURION.png",power:2,ability:"Support  Increase the power of two other units in the line by 2.",flavorText:"In the gilded halls of the Optimates, even the tools of war are works of art.",types:["Unit","Optimates"],faction:"Optimates",allowedPanels:["DECK_BUILDER"]},codeKeeper:{name:"Code Keeper",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253298/FUS_CODE_KEEPER_qotsym.png",fallbackImage:"/images/cards/FUS_CODE_KEEPER.png",power:3,ability:"Deploy: Exploit opponent cards with threat in the line.",flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"],faction:"Fusion",allowedPanels:["DECK_BUILDER"]},devoutSynthetic:{name:"Devout Synthetic",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253305/FUS_DEVOUT_SYNTHETIC_bavg9k.png",fallbackImage:"/images/cards/FUS_DEVOUT_SYNTHETIC.png",power:4,ability:`Deploy: Push an adjacent card 1 cell. May take its place.
Support  Setup: Destroy an adjacent card with threat or stun.`,flavorText:"Flesh is a bug. The Signal is the patch.",types:["Unit","Fusion"],faction:"Fusion",allowedPanels:["DECK_BUILDER"]},unwaveringIntegrator:{name:"Unwavering Integrator",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253303/FUS_UNWAVERING_INTEGRATOR_emret1.png",fallbackImage:"/images/cards/FUS_UNWAVERING_INTEGRATOR.png",power:2,ability:`Deploy: Exploit any card.
Support  Setup: Gain 1 point for each of your exploits in the line.`,flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"],faction:"Fusion",allowedPanels:["DECK_BUILDER"]},signalProphet:{name:"Signal Prophet",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253299/FUS_SIGNAL_PROPHET_nzd7w3.png",fallbackImage:"/images/cards/FUS_SIGNAL_PROPHET.png",power:3,ability:"Deploy: Exploit each of your cards with support in the line.",flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"],faction:"Fusion",allowedPanels:["DECK_BUILDER"]},zealousMissionary:{name:"Zealous Missionary",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253301/FUS_ZEALOUS_MISSIONARY_mfv9xl.png",fallbackImage:"/images/cards/FUS_ZEALOUS_MISSIONARY.png",power:2,ability:"Support  Commit: Reduce the power of any card with your exploit by 1.",flavorText:"The Signal is truth. All else is noise.",types:["Unit","Fusion"],faction:"Fusion",allowedPanels:["DECK_BUILDER"]},overwatch:{name:"Overwatch",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253291/CMD_OVERWATCH_hrba9x.png",fallbackImage:"/images/cards/CMD_OVERWATCH.png",power:0,ability:`Aim any card. Choose 2 of 3:
 Move units with your aim 1 or 2 cells.
 Reveal 1 card for each of your aim.
 Draw 1 card for each of your aim.`,types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},tacticalManeuver:{name:"Tactical Maneuver",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253296/CMD_REPOSITIONING_m7k4kf.png",fallbackImage:"/images/cards/CMD_REPOSITIONING.png",power:0,ability:`Move your unit to any cell in a line. Choose 2 of 3: 
 Draw cards equal to the power of an adjacent allied unit. 
 Move your unit 1 or 2 cells. 
 Gain points equal to the power of one of the moved units.`,types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},inspiration:{name:"Inspiration",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763260942/CMD_INSPIRATION_nxifhu.png",fallbackImage:"/images/cards/CMD_INSPIRATION.png",power:0,ability:`Remove any number of counters from your unit. Choose 2 of 3: 
 Move this unit 1 or 2 cells. 
 Draw 1 card for each counter removed. 
 Gain 1 point for each counter removed.`,types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},dataInterception:{name:"Data Interception",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253290/CMD_DATA_INTERCEPTION_ks4lcv.png",fallbackImage:"/images/cards/CMD_DATA_INTERCEPTION.png",power:0,ability:`Exploit any card. Choose 2 of 3: 
 Move a unit with your exploit to any cell in a line. 
 Reveal 1 card for each of your exploits. 
 Draw cards equal to the power of the highest power revealed unit.`,types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},falseOrders:{name:"False Orders",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763640484/CMD_FALSE_ORDERS_ghi01y.png",fallbackImage:"/images/cards/CMD_DATA_INTERCEPTION.png",power:0,ability:`Move an opponent unit 1 or 2 cells. Choose 2 of 3: 
 Move an opponent unit 1 or 2 cells. 
 Stun the moved opponent unit. 
 Draw cards equal to the power of one of the moved opponent units.`,types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},mobilization1:{name:"Line Breach",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763894862/line_ocsoyj.png",fallbackImage:"/images/cards/CMD_MOBILIZATION.png",power:0,ability:"Gain points in a chosen line of the battlefield.",types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},mobilization2:{name:"Logistics Chain",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763894861/diagonal_u96ulk.png",fallbackImage:"/images/cards/CMD_MOBILIZATION.png",power:0,ability:"Gain points in a chosen diagonal of the battlefield.",types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]},mobilization3:{name:"Sector Capture",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763895447/support_tgjhgd.png",fallbackImage:"/images/cards/CMD_MOBILIZATION.png",power:0,ability:"Gain points from 4 adjacent allied cards.",types:["Command"],faction:"Command",allowedPanels:["DECK_BUILDER"]}},Kh={reconDrone:{name:"Recon Drone",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253333/TKN_RECON_DRONE_esfknf.png",fallbackImage:"/images/cards/TKN_RECON_DRONE.png",power:1,ability:`Setup: Move to any cell.
Commit: You may reveal a card in the hand of the adjacent card's owner.`,flavorText:"SynchroTech has created lightweight drones to patrol the streets, but the Hoods have other plans for them.",color:"bg-gray-400",types:["Unit","Device"],allowedPanels:["TOKEN_PANEL"]},walkingTurret:{name:"Walking Turret",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763253307/TKN_WALKING_TURRET_uq6owm.png",fallbackImage:"/images/cards/TKN_WALKING_TURRET.png",power:2,ability:"Support  Commit: If without shield, gain shield 1.",flavorText:"This military monster clearly has no place on the city streets.",color:"bg-gray-400",types:["Unit","Optimates","Device"],allowedPanels:["TOKEN_PANEL"]}},Jh={Aim:{name:"Aim",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/Aim_dcct45.png",description:`This counter has no effect on its own, but it can modify the abilities of cards.
This card is easier to destroy.`,sortOrder:1,allowedPanels:["COUNTER_PANEL"],allowedTargets:["board"]},Exploit:{name:"Exploit",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/Exploit_foomty.png",description:`This counter has no effect on its own, but it can modify the abilities of cards.
Hacker and programmer cards will have a greater effect on this card.`,sortOrder:2,allowedPanels:["COUNTER_PANEL"],allowedTargets:["board"]},LastPlayed:{name:"LastPlayed",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/LastPlayed_bfkbwb.png",description:"This card was last played by its owner.",sortOrder:99,allowedPanels:[],allowedTargets:["board"]},Revealed:{name:"Revealed",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478811/Revealed_w1gbe7.png",description:"This card's face is visible to the owner of the counter revealed. Can be placed on cards in hand.",sortOrder:7,allowedPanels:["COUNTER_PANEL"],allowedTargets:["board","hand"]},Stun:{name:"Stun",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478811/Stun_cwqroz.png",description:"Stunned cards cannot move, activate abilities, or gain points. Remove 1 stun counter during the Commit Phase.",sortOrder:4,allowedPanels:["COUNTER_PANEL"],allowedTargets:["board"]},Shield:{name:"Shield",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478810/Shield_z9sjr1.png",description:"If an effect attempts to destroy this card, remove 1 shield counter from it instead.",sortOrder:3,allowedPanels:["COUNTER_PANEL"],allowedTargets:["board"]},Support:{name:"Support",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478809/Support_ui9qpl.png",description:`This counter has no effect on its own, but it can modify the abilities of cards.
This card is adjacent to its ally.`,sortOrder:5,allowedPanels:[],allowedTargets:["board"]},Threat:{name:"Threat",imageUrl:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763478809/Threat_i1pbko.png",description:`This counter has no effect on its own, but it can modify the abilities of cards.
This card is surrounded and pinned to the edge of the battlefield by an opponent's cards.`,sortOrder:6,allowedPanels:[],allowedTargets:["board"]},"Power+":{name:"Power+",imageUrl:"",description:"Increases the power of the card by 1.",sortOrder:10,allowedPanels:[],allowedTargets:["board","hand","deck","discard"]},"Power-":{name:"Power-",imageUrl:"",description:"Decreases the power of the card by 1.",sortOrder:11,allowedPanels:[],allowedTargets:["board","hand","deck","discard"]}},Yh=[{id:"SynchroTech",name:"SynchroTech",isSelectable:!0,cards:[{cardId:"ipDeptAgent",quantity:3},{cardId:"tacticalAgent",quantity:3},{cardId:"patrolAgent",quantity:3},{cardId:"riotAgent",quantity:3},{cardId:"threatAnalyst",quantity:3},{cardId:"overwatch",quantity:2},{cardId:"tacticalManeuver",quantity:2},{cardId:"inspiration",quantity:2},{cardId:"dataInterception",quantity:2},{cardId:"mobilization1",quantity:3},{cardId:"mobilization2",quantity:2},{cardId:"mobilization3",quantity:1}]},{id:"Hoods",name:"Hoods",isSelectable:!0,cards:[{cardId:"recklessProvocateur",quantity:3},{cardId:"dataLiberator",quantity:3},{cardId:"cautiousAvenger",quantity:3},{cardId:"vigilantSpotter",quantity:3},{cardId:"inventiveMaker",quantity:3},{cardId:"overwatch",quantity:2},{cardId:"tacticalManeuver",quantity:2},{cardId:"inspiration",quantity:2},{cardId:"dataInterception",quantity:2},{cardId:"mobilization1",quantity:3},{cardId:"mobilization2",quantity:2},{cardId:"mobilization3",quantity:1}]},{id:"Optimates",name:"Optimates",isSelectable:!0,cards:[{cardId:"faber",quantity:3},{cardId:"censor",quantity:3},{cardId:"princeps",quantity:3},{cardId:"immunis",quantity:3},{cardId:"centurion",quantity:3},{cardId:"overwatch",quantity:2},{cardId:"tacticalManeuver",quantity:2},{cardId:"inspiration",quantity:2},{cardId:"dataInterception",quantity:2},{cardId:"mobilization1",quantity:3},{cardId:"mobilization2",quantity:2},{cardId:"mobilization3",quantity:1}]},{id:"Fusion",name:"Fusion",isSelectable:!0,cards:[{cardId:"codeKeeper",quantity:3},{cardId:"devoutSynthetic",quantity:3},{cardId:"unwaveringIntegrator",quantity:3},{cardId:"signalProphet",quantity:3},{cardId:"zealousMissionary",quantity:3},{cardId:"overwatch",quantity:2},{cardId:"tacticalManeuver",quantity:2},{cardId:"inspiration",quantity:2},{cardId:"dataInterception",quantity:2},{cardId:"mobilization1",quantity:3},{cardId:"mobilization2",quantity:2},{cardId:"mobilization3",quantity:1}]}],Ff={cardDatabase:Wh,tokenDatabase:Kh,countersDatabase:Jh,deckFiles:Yh},{cardDatabase:qh,tokenDatabase:Qh,countersDatabase:Xh,deckFiles:Zh}=Ff,vn=Ff,fs=new Map(Object.entries(qh)),eg=new Map(Object.entries(Qh)),Fl=Xh,$f=Zh,Ko=new Set(["overwatch","repositioning","mobilization","inspiration","dataInterception"]);function tg(){const e={};for(const t of $f){const n=[];for(const r of t.cards){const l=fs.get(r.cardId);if(!l){console.warn(`Card definition not found for ID: ${r.cardId} in deck: ${t.name}`);continue}const o=Ko.has(r.cardId);for(let a=0;a<r.quantity;a++){const i=r.cardId.toUpperCase().replace(/-/g,"_");o?n.push({...l,deck:we.Command,id:`CMD_${i}`,faction:l.faction||"Command"}):n.push({...l,deck:t.id,id:`${t.id.substring(0,3).toUpperCase()}_${i}_${a+1}`,faction:l.faction||t.id})}}e[t.id]=n}return e[we.Tokens]=Array.from(eg.values()).map(t=>{const n=t.types?[...t.types]:["Unit"];return n.includes("Device")||n.push("Device"),{id:`TKN_${t.name.toUpperCase().replace(/\s/g,"_")}`,deck:we.Tokens,name:t.name,imageUrl:t.imageUrl,fallbackImage:t.fallbackImage,power:t.power,ability:t.ability,color:t.color,types:n,flavorText:t.flavorText,faction:"Tokens"}}),e}const Qa=tg(),Bf=()=>$f.filter(e=>e.isSelectable);function Jo(e){return fs.get(e)}function ea(e){return Array.from(fs.values()).find(t=>t.name===e)}function ng(){return Array.from(fs.entries()).map(([e,t])=>({id:e,card:t}))}const Gf={[we.SynchroTech]:{prefix:"SYN",color:"border-cyan-400"},[we.Hoods]:{prefix:"HOO",color:"border-purple-500"},[we.Optimates]:{prefix:"OPT",color:"border-red-500"},[we.Fusion]:{prefix:"FUS",color:"border-green-400"},[we.Command]:{prefix:"CMD",color:"border-yellow-500"},[we.Tokens]:{prefix:"TKN",color:"border-gray-400"},[we.Custom]:{prefix:"CUS",color:"border-purple-400"}},Pt={blue:{bg:"bg-blue-600",border:"border-blue-600",outline:"outline-blue-600",glow:"shadow-[0_0_15px_#2563eb]"},purple:{bg:"bg-purple-600",border:"border-purple-600",outline:"outline-purple-600",glow:"shadow-[0_0_15px_#9333ea]"},red:{bg:"bg-red-600",border:"border-red-600",outline:"outline-red-600",glow:"shadow-[0_0_15px_#dc2626]"},green:{bg:"bg-green-600",border:"border-green-600",outline:"outline-green-600",glow:"shadow-[0_0_15px_#16a34a]"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",outline:"outline-yellow-500",glow:"shadow-[0_0_15px_#eab308]"},orange:{bg:"bg-orange-500",border:"border-orange-500",outline:"outline-orange-500",glow:"shadow-[0_0_15px_#f97316]"},pink:{bg:"bg-pink-500",border:"border-pink-500",outline:"outline-pink-500",glow:"shadow-[0_0_15px_#ec4899]"},brown:{bg:"bg-[#8B4513]",border:"border-[#8B4513]",outline:"outline-[#8B4513]",glow:"shadow-[0_0_15px_#8B4513]"}},Hf=["blue","purple","red","green","yellow","orange","pink","brown"],Xa=["Setup","Command Phase #1","Deploy","Command Phase #2","Commit"],Yi=Object.fromEntries(Object.entries(Fl).map(([e,t])=>[e,t.imageUrl])),Yo=Object.fromEntries(Object.entries(Fl).map(([e,t])=>[e,t.description])),rg=Object.entries(Fl).filter(([,e])=>!e.allowedPanels||e.allowedPanels.includes("COUNTER_PANEL")).sort(([,e],[,t])=>e.sortOrder-t.sortOrder).map(([e,t])=>({type:e,label:t.name})),ta=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},lg={1:"top-[59px] left-2",2:"top-[59px] right-2",3:"bottom-[3px] left-2",4:"bottom-[3px] right-2"},og=e=>{const t={bold:["Support","support","Threat","threat","threaten","Act","Pas","Trg","Int","ETB","Deploy","Setup","Commit","Exploit","exploits","Aim","Stun","Shield","Gain points","gain points"],italic:["This counter has no effect on its own, but it can modify the abilities of cards."]},n=t.bold.map(o=>o.toLowerCase()),r=t.italic.map(o=>o.toLowerCase());return e.split(/(\s+|[.,:()])/).map((o,a)=>{if(!o)return null;const i=o.replace(/[.,:()]/g,"").toLowerCase();return i&&n.includes(i)?En.createElement("strong",{key:a,className:"text-white"},o):i&&r.includes(i)?En.createElement("em",{key:a,className:"text-gray-300 italic font-semibold"},o):o})},Vf=e=>e?e.split(`
`).map((t,n)=>{const r=[];return n>0&&r.push(En.createElement("br",{key:`br-${n}`})),r.push(...og(t)),En.createElement(En.Fragment,{key:n},...r.filter(Boolean))}):"",qi=({x:e,y:t,children:n})=>{const r=k.useRef(null),[l,o]=k.useState({top:t+20,left:e+20});return k.useLayoutEffect(()=>{if(r.current){const{innerWidth:a,innerHeight:i}=window,{offsetWidth:u,offsetHeight:d}=r.current;let w=e+20;w+u>a&&(w=e-u-20),w<5&&(w=5);let v=t+20;v+d>i&&(v=t-d-20),v<5&&(v=5),o({top:v,left:w})}},[e,t,n]),Ji.createPortal(s.jsx("div",{ref:r,className:"fixed bg-gray-900 border border-gray-700 rounded-md shadow-lg z-[99999] p-3 text-white text-base pointer-events-none transition-opacity duration-100",style:{top:l.top,left:l.left,opacity:1},children:n}),document.body)},ps=({card:e,statusDescriptions:t,className:n,hideOwner:r=!1,powerPosition:l="default"})=>{var c;const o=(c=e.types)!=null&&c.length?e.types.join(", "):e.deck==="counter"?"":`${e.deck} Card`,a=e.powerModifier||0,i=Math.max(0,e.power+a),u=(e.statuses??[]).reduce((f,p)=>(f[p.type]=(f[p.type]||0)+1,f),{}),d=Object.keys(u).length>0,w=e.ownerName||(e.ownerId?`Player ${e.ownerId}`:null);let v="bg-gray-700 border-gray-500",C="text-white";a>0?(v="bg-green-900 border-green-500",C="text-green-400"):a<0&&(v="bg-red-900 border-red-500",C="text-red-400");const T=e.ability?e.ability.length:0,j=d?Object.keys(u).length*10:0,E=T>35||j>35,F=n||"relative flex flex-col text-left w-max max-w-[90vw]",m=l==="inner"?"top-0.5 right-0.5":"-top-1 -right-1";return s.jsxs("div",{className:F,children:[e.power>0&&s.jsx("div",{className:`absolute ${m} w-[37px] h-[37px] flex items-center justify-center rounded border-2 ${v} shadow-sm z-10`,children:s.jsx("span",{className:`font-bold text-lg ${C}`,children:i})}),s.jsxs("div",{className:"mb-1 pr-8 whitespace-nowrap",children:[s.jsx("div",{className:"font-bold text-white text-lg leading-tight mb-0.5",children:e.name}),o&&s.jsx("div",{className:"text-xs text-gray-400 font-semibold",children:o})]}),s.jsxs("div",{className:`flex flex-col ${!n&&E?"w-[16rem]":"w-full"} whitespace-normal break-words`,children:[e.ability&&s.jsx("hr",{className:"border-gray-600 mt-[0px] mb-[2px]"}),e.ability&&s.jsx("div",{className:"text-sm text-gray-200 leading-snug",children:Vf(e.ability)}),e.ability&&s.jsx("hr",{className:"border-gray-600 my-[4px]"}),d&&s.jsx("div",{className:"text-xs text-gray-200 leading-snug",children:Object.entries(u).map(([f,p],I,L)=>s.jsxs("span",{children:[s.jsx("span",{className:"font-bold text-indigo-300",children:f}),p>1&&s.jsxs("span",{className:"text-gray-400 ml-1",children:["(x",p,")"]}),I<L.length-1?s.jsx("span",{className:"text-gray-400 mr-1",children:", "}):""]},f))}),d&&w&&!r&&s.jsx("hr",{className:"border-gray-600 my-[2px]"}),w&&!r&&s.jsxs("div",{className:"text-xs text-gray-500 font-semibold",children:["Owner: ",s.jsx("span",{className:"text-gray-300",children:w})]})]})]})},sg={0:"Setup",1:"Command Phase #1",2:"Deploy",3:"Command Phase #2",4:"Commit"},io=(e,t,n,r)=>Math.abs(e-n)+Math.abs(t-r)===1,pr=(e,t,n)=>{var r;return((r=e.statuses)==null?void 0:r.some(l=>l.type===t&&l.addedByPlayerId===n))||!1},Wf=(e,t)=>{var n;return((n=e.statuses)==null?void 0:n.some(r=>r.type===t))||!1},ag=e=>{var t;return((t=e.statuses)==null?void 0:t.some(n=>n.type==="Support"))||!1},ig=(e,t)=>{let n=0;return e.forEach(r=>{r.forEach(l=>{var o;if(l.card){const a=((o=l.card.statuses)==null?void 0:o.filter(i=>i.type==="Exploit"&&i.addedByPlayerId===t).length)||0;n+=a}})}),n},ug=(e,t)=>!e||!t?!1:e.teamId!==void 0&&t.teamId!==void 0&&e.teamId===t.teamId,Za=(e,t,n)=>{var i;if(e.ownerId!==n||Wf(e,"Stun")||e.abilityUsedInPhase===t)return!1;if(e.deck==="Command")return t===1||t===3;const r=sg[t];if(!r)return!1;const l=e.ability.includes(`Support  ${r}`)||e.ability.includes(`Support => ${r}`);return!e.ability.includes(`${r}:`)&&!l||t===2&&((i=e.types)!=null&&i.includes("Unit"))&&!e.enteredThisTurn||l&&!ag(e)?!1:(e.name.toLowerCase().includes("tactical agent")&&t===0,!0)},cg=(e,t,n,r)=>{const l=t.currentPhase,o=e.name.toLowerCase(),a=t.players.find(i=>i.id===n);if(e.id.includes("MOBILIZATION")&&(l===1||l===3))return{type:"ENTER_MODE",mode:"SELECT_LINE_START",sourceCard:e,sourceCoords:r,payload:{}};if(o.includes("reckless provocateur")){if(l===2)return{type:"ENTER_MODE",mode:"SWAP_POSITIONS",sourceCard:e,sourceCoords:r,payload:{filter:(i,u,d)=>io(r.row,r.col,u,d)}};if(l===4)return{type:"ENTER_MODE",mode:"TRANSFER_STATUS_SELECT",sourceCard:e,sourceCoords:r,payload:{filter:i=>{const u=t.players.find(w=>w.id===i.ownerId),d=i.ownerId===n||ug(a,u);return i.id===e.id?!1:d&&i.statuses&&i.statuses.length>0}}}}if(o.includes("data liberator")&&l===2)return{type:"CREATE_STACK",tokenType:"Exploit",count:1};if(o.includes("cautious avenger")){if(l===2)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{tokenType:"Aim",filter:(i,u,d)=>u===r.row||d===r.col}};if(l===0)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{actionType:"DESTROY",filter:i=>pr(i,"Aim",n)}}}if(o.includes("vigilant spotter")&&l===4)return{type:"CREATE_STACK",tokenType:"Revealed",count:1,excludeOwnerId:n,onlyOpponents:!0};if(o.includes("inventive maker")){if(l===2)return{type:"ENTER_MODE",mode:"SPAWN_TOKEN",sourceCard:e,sourceCoords:r,payload:{tokenName:"Recon Drone"}};if(l===0)return{type:"OPEN_MODAL",mode:"RETRIEVE_DEVICE",sourceCard:e,sourceCoords:r,payload:{}}}if(o.includes("recon drone")){if(l===0)return{type:"ENTER_MODE",mode:"SELECT_CELL",sourceCard:e,sourceCoords:r,payload:{allowSelf:!0}};if(l===4)return{type:"ENTER_MODE",mode:"REVEAL_ENEMY",sourceCard:e,sourceCoords:r,payload:{filter:(i,u,d)=>io(r.row,r.col,u,d)&&i.ownerId!==n}}}if(o.includes("ip dept agent")){if(l===2)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{tokenType:"Stun",count:2,filter:i=>pr(i,"Exploit",n)}};if(l===4)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{actionType:"DESTROY",filter:(i,u,d)=>{if(u!==void 0||d!==void 0)return!1;const w=Wf(i,"Revealed"),v=i.revealedTo==="all";return w||v}}}}if(o.includes("tactical agent")){if(l===2)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{tokenType:"Aim",filter:i=>pr(i,"Threat",n)}};if(l===0)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{actionType:"DESTROY",filter:i=>pr(i,"Aim",n)}}}if(o.includes("patrol agent")){if(l===0)return{type:"ENTER_MODE",mode:"PATROL_MOVE",sourceCard:e,sourceCoords:r,payload:{}};if(l===4)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{tokenType:"Stun",filter:(i,u,d)=>io(r.row,r.col,u,d)&&i.ownerId!==n&&pr(i,"Threat",n)}}}if(o.includes("riot agent")){if(l===2)return{type:"ENTER_MODE",mode:"RIOT_PUSH",sourceCard:e,sourceCoords:r,payload:{}};if(l===4)return{type:"ENTER_MODE",mode:"SELECT_TARGET",sourceCard:e,sourceCoords:r,payload:{tokenType:"Stun",filter:(i,u,d)=>io(r.row,r.col,u,d)&&i.ownerId!==n&&pr(i,"Threat",n)}}}if(o.includes("threat analyst")){if(l===2)return{type:"CREATE_STACK",tokenType:"Exploit",count:1};if(l===4){const i=ig(t.board,n);if(i>0)return{type:"CREATE_STACK",tokenType:"Revealed",count:i}}}return null},$t=({card:e,isFaceUp:t,playerColorMap:n,localPlayerId:r,imageRefreshVersion:l,disableTooltip:o,smallStatusIcons:a,activePhaseIndex:i,activeTurnPlayerId:u,disableActiveHighlights:d})=>{const[w,v]=k.useState(!1),[C,T]=k.useState({x:0,y:0}),j=k.useRef(null),[E,F]=k.useState(!1);k.useEffect(()=>{F(!1)},[i]);const[m,c]=k.useState(e.imageUrl);k.useEffect(()=>{let A=e.imageUrl;if(l&&A){const W=A.includes("?")?"&":"?";A=`${A}${W}v=${l}`}c(A)},[e.imageUrl,l]);const f=()=>{let A=e.fallbackImage;if(l&&A){const W=A.includes("?")?"&":"?";A=`${A}${W}v=${l}`}m!==A&&c(A)},p=A=>{o||(T({x:A.clientX,y:A.clientY}),!w&&!j.current&&(j.current=window.setTimeout(()=>{v(!0)},250)))},I=()=>{o||(j.current&&clearTimeout(j.current),j.current=window.setTimeout(()=>{v(!0)},250))},L=()=>{j.current&&(clearTimeout(j.current),j.current=null),v(!1)},V=()=>{j.current&&(clearTimeout(j.current),j.current=null),v(!1)},K=i!==void 0&&u!==void 0?Za(e,i,u):!1,G=!d&&!E&&K,ne=A=>{G&&r===e.ownerId&&F(!0)},se=(e.statuses??[]).reduce((A,W)=>{const oe=`${W.type}_${W.addedByPlayerId}`;return A[oe]||(A[oe]={type:W.type,playerId:W.addedByPlayerId,count:0}),A[oe].count++,A},{}),me=({type:A,playerId:W,count:oe})=>{const pe=n.get(W),Ee=pe&&Pt[pe]?Pt[pe].bg:"bg-gray-500";let ce=Yi[A];if(ce&&l){const We=ce.includes("?")?"&":"?";ce=`${ce}${We}v=${l}`}const ze=["Support","Threat","Revealed","LastPlayed"].includes(A),Fe=!ze&&oe>1,ae=Fe?"p-1.5":"p-1",Z=a?"w-6 h-6":"w-8 h-8",Se=a?Fe?"text-xs":"text-base":Fe?"text-base":"text-lg",Ne=a?"text-[10px]":"text-xs";return s.jsxs("div",{className:`relative ${Z} flex items-center justify-center ${Ee} bg-opacity-80 rounded-sm shadow-md flex-shrink-0`,title:`${A} (Player ${W}) ${!ze&&oe>0?`x${oe}`:""}`,children:[ce?s.jsx("img",{src:ce,alt:A,className:`object-contain w-full h-full transition-all duration-150 ${ae}`}):s.jsx("span",{className:`text-white font-black transition-all duration-150 ${Se}`,style:{textShadow:"0 0 2px black"},children:A.charAt(0)}),Fe&&s.jsx("span",{className:`absolute top-0 right-0.5 text-white font-bold ${Ne} leading-none`,style:{textShadow:"1px 1px 2px black"},children:oe})]})};if(e.deck==="counter")return s.jsx("div",{title:e.name,className:`w-full h-full ${e.color} shadow-md`,style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}});const fe=e.ownerId?n.get(e.ownerId):null,R=fe&&Pt[fe]?Pt[fe]:null,ee=Object.values(se).sort((A,W)=>A.type!==W.type?A.type.localeCompare(W.type):A.playerId-W.playerId),q=e.powerModifier||0,Y=Math.max(0,e.power+q);let z="text-white";return q>0?z="text-green-400":q<0&&(z="text-red-500"),s.jsxs(s.Fragment,{children:[t?(()=>{var Se;const A=R?R.border:((Se=Gf[e.deck])==null?void 0:Se.color)||"border-gray-300",W=e.deck===we.Tokens?e.color:"bg-card-face",oe=(e.deck===we.Tokens,"text-black"),pe=["Support","Shield"],Ee=ee.filter(Ne=>pe.includes(Ne.type)),ce=ee.filter(Ne=>!pe.includes(Ne.type)&&Ne.type!=="LastPlayed"),ze=ee.find(Ne=>Ne.type==="LastPlayed"),Fe=ze?[ze,...Ee]:Ee,ae=R?R.glow:"shadow-[0_0_15px_#ffffff]",Z=G?`border-[6px] shadow-2xl ${ae}`:"border-4";return s.jsxs("div",{onMouseEnter:I,onMouseLeave:L,onMouseMove:p,onMouseDown:V,onClick:ne,className:`relative w-full h-full ${W} rounded-md shadow-md ${Z} ${A} ${oe} flex-shrink-0 select-none overflow-hidden transition-all duration-300 ${G?"scale-[1.15] z-10":""}`,children:[m?s.jsx("img",{src:m,onError:f,alt:e.name,className:"absolute inset-0 w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full p-1 flex items-center justify-center",children:s.jsx("span",{className:"text-center text-sm font-bold",children:e.name})}),ee.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-[3px] left-[3px] right-[3px] flex flex-row-reverse flex-wrap justify-start items-start z-10 pointer-events-none",children:ce.map(Ne=>s.jsx(me,{type:Ne.type,playerId:Ne.playerId,count:Ne.count},`${Ne.type}_${Ne.playerId}`))}),s.jsx("div",{className:"absolute bottom-[3px] left-[3px] right-[30px] flex flex-wrap-reverse content-start items-end z-10 pointer-events-none",children:Fe.map(Ne=>s.jsx(me,{type:Ne.type,playerId:Ne.playerId,count:Ne.count},`${Ne.type}_${Ne.playerId}`))})]}),e.power>0&&s.jsx("div",{className:`absolute bottom-[5px] right-[5px] w-8 h-8 rounded-full ${R?R.bg:"bg-gray-600"} border-[3px] border-white flex items-center justify-center z-20 shadow-md`,children:s.jsx("span",{className:`${z} font-bold text-lg leading-none`,style:{textShadow:"0 0 2px black"},children:Y})})]})})():(()=>{const A=R?R.bg:"bg-card-back",W=R?R.border:"border-blue-300",oe=ee.find(pe=>pe.type==="LastPlayed");return s.jsx("div",{onMouseEnter:I,onMouseLeave:L,onMouseMove:p,onMouseDown:V,className:`relative w-full h-full ${A} rounded-md shadow-md border-2 ${W} flex-shrink-0 transition-transform duration-300 ${G?"scale-[1.15] z-10":""}`,children:oe&&s.jsx("div",{className:"absolute bottom-[3px] left-[3px] pointer-events-none",children:s.jsx(me,{type:oe.type,playerId:oe.playerId,count:oe.count})})})})(),w&&t&&!o&&s.jsx(qi,{x:C.x,y:C.y,children:s.jsx(ps,{card:e})})]})},dg=({row:e,col:t,cell:n,isGameStarted:r,handleDrop:l,draggedItem:o,setDraggedItem:a,openContextMenu:i,playMode:u,setPlayMode:d,playerColorMap:w,localPlayerId:v,onCardDoubleClick:C,onEmptyCellDoubleClick:T,imageRefreshVersion:j,cursorStack:E,setCursorStack:F,currentPhase:m,activeTurnPlayerId:c,onCardClick:f,onEmptyCellClick:p,isValidTarget:I,showNoTarget:L,disableActiveHighlights:V})=>{const[K,G]=En.useState(!1),ne=ce=>{ce.preventDefault(),o&&l(o,{target:"board",boardCoords:{row:e,col:t}}),G(!1)},se=()=>{if(u){const ce={...u.sourceItem,card:{...u.sourceItem.card}};ce.card.isFaceDown=!!u.faceDown,l(ce,{target:"board",boardCoords:{row:e,col:t}}),d(null)}else E&&n.card?l({card:{id:"stack",deck:"counter",name:"",imageUrl:"",fallbackImage:"",power:0,ability:"",types:[]},source:"counter_panel",statusType:E.type,count:E.count},{target:"board",boardCoords:{row:e,col:t}}):n.card&&f?f(n.card,{row:e,col:t}):!n.card&&p&&p({row:e,col:t})},me=ce=>{ce.preventDefault();const ze=(o==null?void 0:o.source)==="counter_panel";(!n.card||n.card&&ze)&&G(!0)},fe=()=>{G(!1)},R=!!u,ee=!!E,q=!!n.card,Y="w-full h-full rounded-lg transition-colors duration-200 flex items-center justify-center relative",z=!!o&&(!q||q&&o.source==="counter_panel"),oe=I||R&&!q||ee&&q,Ee=`bg-board-cell-active ${K&&z?"bg-indigo-400 opacity-80":""} ${R&&q?"cursor-not-allowed":""} ${oe?"ring-4 ring-cyan-400 shadow-[0_0_15px_#22d3ee] cursor-pointer z-10":""}`;return s.jsxs("div",{onDrop:ne,onDragOver:me,onDragLeave:fe,onClick:se,onContextMenu:ce=>{n.card||i(ce,"emptyBoardCell",{boardCoords:{row:e,col:t}})},onDoubleClick:()=>{n.card||T({row:e,col:t})},className:`${Y} ${Ee}`,"data-interactive":!n.card,"data-board-coords":`${e},${t}`,children:[oe&&s.jsx("div",{className:"absolute inset-0 rounded-lg bg-cyan-400 bg-opacity-30 animate-pulse pointer-events-none"}),n.card&&s.jsxs("div",{draggable:r,onDragStart:()=>a({card:n.card,source:"board",boardCoords:{row:e,col:t}}),onDragEnd:()=>a(null),onContextMenu:ce=>i(ce,"boardItem",{card:n.card,boardCoords:{row:e,col:t}}),onDoubleClick:ce=>{ce.stopPropagation(),E?se():C(n.card,{row:e,col:t})},className:`w-full h-full ${r?"cursor-grab":"cursor-default"} relative`,"data-interactive":"true",children:[s.jsx($t,{card:n.card,isFaceUp:(()=>{var Z;const ce=n.card;if(!ce)return!1;const ze=ce.revealedTo==="all",Fe=v!==null&&Array.isArray(ce.revealedTo)&&ce.revealedTo.includes(v),ae=v!==null&&((Z=ce.statuses)==null?void 0:Z.some(Se=>Se.type==="Revealed"&&Se.addedByPlayerId===v));return!ce.isFaceDown||ze||Fe||ae})(),playerColorMap:w,localPlayerId:v,imageRefreshVersion:j,activePhaseIndex:m,activeTurnPlayerId:c,disableActiveHighlights:V}),L&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none animate-pulse",children:s.jsx("img",{src:"https://res.cloudinary.com/dxxh6meej/image/upload/v1763978163/no_tarket_mic5sm.png",alt:"No Target",className:"w-4/5 h-4/5 object-contain drop-shadow-lg opacity-90"})})]})]})},xc={4:"grid-cols-4 grid-rows-4",5:"grid-cols-5 grid-rows-5",6:"grid-cols-6 grid-rows-6",7:"grid-cols-7 grid-rows-7"},wc=({board:e,isGameStarted:t,activeGridSize:n,handleDrop:r,draggedItem:l,setDraggedItem:o,openContextMenu:a,playMode:i,setPlayMode:u,highlight:d,playerColorMap:w,localPlayerId:v,onCardDoubleClick:C,onEmptyCellDoubleClick:T,imageRefreshVersion:j,cursorStack:E,setCursorStack:F,currentPhase:m,activeTurnPlayerId:c,onCardClick:f,onEmptyCellClick:p,validTargets:I,noTargetOverlay:L,disableActiveHighlights:V})=>{const K=e.length,G=Math.floor((K-n)/2),ne=e.slice(G,G+n).map(me=>me.slice(G,G+n)),se=()=>{if(!d)return null;const{type:me,row:fe,col:R,playerId:ee}=d,q=w.get(ee),z=`outline outline-[8px] ${q&&Pt[q]?Pt[q].outline:"outline-yellow-400"} rounded-lg`;if(me==="row"&&fe!==void 0&&fe>=G&&fe<G+n){const A=fe-G+1;return s.jsx("div",{className:z,style:{gridArea:`${A} / 1 / ${A+1} / ${n+1}`}})}if(me==="col"&&R!==void 0&&R>=G&&R<G+n){const A=R-G+1;return s.jsx("div",{className:z,style:{gridArea:`1 / ${A} / ${n+1} / ${A+1}`}})}if(me==="cell"&&fe!==void 0&&R!==void 0&&fe>=G&&fe<G+n&&R>=G&&R<G+n){const A=fe-G+1,W=R-G+1;return s.jsx("div",{className:z,style:{gridArea:`${A} / ${W} / ${A+1} / ${W+1}`}})}return null};return s.jsxs("div",{className:"relative p-2 bg-board-bg rounded-xl shadow-2xl h-full aspect-square transition-all duration-300",children:[s.jsx("div",{className:`grid ${xc[n]} gap-0.5 h-full w-full`,children:ne.map((me,fe)=>me.map((R,ee)=>{const q=fe+G,Y=ee+G,z=I==null?void 0:I.some(W=>W.row===q&&W.col===Y),A=L&&L.row===q&&L.col===Y;return s.jsx(dg,{row:q,col:Y,cell:R,isGameStarted:t,handleDrop:r,draggedItem:l,setDraggedItem:o,openContextMenu:a,playMode:i,setPlayMode:u,playerColorMap:w,localPlayerId:v,onCardDoubleClick:C,onEmptyCellDoubleClick:T,imageRefreshVersion:j,cursorStack:E,setCursorStack:F,currentPhase:m,activeTurnPlayerId:c,onCardClick:f,onEmptyCellClick:p,isValidTarget:z,showNoTarget:A,disableActiveHighlights:V},`${q}-${Y}`)}))}),d&&s.jsx("div",{className:`absolute top-2 right-2 bottom-2 left-2 grid ${xc[n]} gap-0.5 pointer-events-none z-20`,children:s.jsx(se,{})})]})},jt=({onDrop:e,children:t,className:n,isOverClassName:r="bg-indigo-500",onContextMenu:l,style:o})=>{const[a,i]=k.useState(!1),u=v=>{v.preventDefault(),i(!0)},d=v=>{i(!1)},w=v=>{v.preventDefault(),i(!1),e()};return s.jsx("div",{onDragOver:u,onDragLeave:d,onDrop:w,onContextMenu:l,className:`${n} transition-colors ${a?r:""}`,"data-interactive":!!l,style:o,children:t})},na=({player:e,canEditSettings:t,selectedColors:n,onColorChange:r,compact:l=!1})=>{const[o,a]=k.useState(!1),[i,u]=k.useState({top:0,left:0}),d=k.useRef(null),w=k.useRef(null),v=Pt[e.color]?e.color:"blue",C=Pt[v];k.useEffect(()=>{const j=E=>{const F=E.target;o&&d.current&&!d.current.contains(F)&&w.current&&!w.current.contains(F)&&a(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[o]);const T=()=>{if(t)if(!o&&d.current){const j=d.current.getBoundingClientRect();u({top:j.bottom+window.scrollY+4,left:j.left+window.scrollX}),a(!0)}else a(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{ref:d,type:"button",onClick:T,disabled:!t,className:`flex items-center gap-2 bg-gray-700 p-1.5 rounded-md border border-gray-600 justify-center disabled:opacity-100 disabled:cursor-default hover:bg-gray-600 ${l?"px-2 py-1":"w-28"} flex-shrink-0`,title:t?"Change Color":void 0,children:[s.jsx("div",{className:`rounded-full ${C.bg} border border-white/50 ${l?"w-3 h-3":"w-4 h-4"}`}),!l&&s.jsx("span",{className:"capitalize font-medium truncate",children:v})]}),o&&Ji.createPortal(s.jsx("div",{ref:w,className:"fixed bg-gray-800 border border-gray-600 rounded-md shadow-lg py-1 left-0 z-[9990]",style:{top:i.top,left:i.left,width:"9rem"},children:Hf.map(j=>{const E=n.has(j),F=Pt[j];return s.jsxs("button",{type:"button",disabled:E,onClick:()=>{r(j),a(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 text-sm text-left hover:bg-indigo-600 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${F.bg} border border-white/50`}),s.jsx("span",{className:"capitalize font-medium text-white",children:j})]},j)})}),document.body)]})},ra=({player:e,isLocalPlayer:t,localPlayerId:n,isSpectator:r,isGameStarted:l,position:o,onNameChange:a,onColorChange:i,onScoreChange:u,onDeckChange:d,onLoadCustomDeck:w,onDrawCard:v,handleDrop:C,draggedItem:T,setDraggedItem:j,openContextMenu:E,onHandCardDoubleClick:F,playerColorMap:m,allPlayers:c,localPlayerTeamId:f,activeTurnPlayerId:p,onToggleActiveTurn:I,imageRefreshVersion:L,layoutMode:V="standard",onCardClick:K,validHandTargets:G,onAnnouncedCardDoubleClick:ne,currentPhase:se,disableActiveHighlights:me})=>{const fe=!!e.isDisconnected,R=f!==void 0&&e.teamId===f,ee=k.useRef(null),q=!l&&!r&&(t||!!e.isDummy),Y=!r&&l&&(t||fe||!!e.isDummy),z=t&&!fe,A=new Set(c.filter(ae=>!ae.isDummy&&ae.id!==e.id).map(ae=>ae.color)),W=k.useMemo(()=>Bf(),[]),oe=e.id===p,pe=ae=>{const Z=ae.target.value;d(Z)},Ee=()=>{var ae;(ae=ee.current)==null||ae.click()},ce=ae=>{var Ne;const Z=(Ne=ae.target.files)==null?void 0:Ne[0];if(!Z)return;const Se=new FileReader;Se.onload=We=>{var $e;try{const bt=($e=We.target)==null?void 0:$e.result,Vt=JSON.parse(bt);w(Vt)}catch(bt){alert(`Error loading deck: ${bt instanceof Error?bt.message:"Unknown error"}`)}finally{ae.target&&(ae.target.value="")}},Se.readAsText(Z)};if(V==="list-remote"){const ae=oe?"border-yellow-400":"border-gray-700";return s.jsxs("div",{className:`w-full h-full bg-panel-bg rounded-lg shadow-lg p-3 border-2 ${ae} ${fe?"opacity-60":""} flex flex-col overflow-hidden`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-grow",children:[s.jsx(na,{player:e,canEditSettings:q,selectedColors:A,onColorChange:i,compact:!0}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:`font-bold text-base truncate ${oe?"text-yellow-400":"text-white"}`,children:e.name}),e.isDummy&&!l&&s.jsx("div",{className:"flex items-center gap-1 mt-0.5",children:s.jsx("select",{value:e.selectedDeck,onChange:pe,className:"bg-gray-800 border border-gray-600 text-xs rounded p-0.5 text-gray-300 max-w-[120px]",onClick:Z=>Z.stopPropagation(),children:W.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))})})]})]}),s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s.jsx("input",{type:"checkbox",checked:oe,onChange:()=>I(e.id),disabled:!t&&!e.isDummy,className:"w-4 h-4 text-yellow-400 bg-gray-700 border-gray-600 rounded cursor-pointer flex-shrink-0",title:"Mark as Active Turn"})})]}),s.jsxs("div",{className:"grid grid-cols-6 gap-1 mb-2 flex-shrink-0",children:[s.jsx(jt,{onDrop:()=>T&&C(T,{target:"deck",playerId:e.id,deckPosition:"top"}),onContextMenu:Z=>Y&&E(Z,"deckPile",{player:e}),className:"w-full aspect-square",children:s.jsxs("div",{className:"w-full h-full bg-card-back rounded border border-gray-600 flex flex-col items-center justify-center cursor-pointer hover:ring-1 ring-white shadow-sm",onClick:Y?v:void 0,title:"Deck",children:[s.jsx("span",{className:"text-xs font-bold mb-0.5 text-white drop-shadow-md",children:"DECK"}),s.jsx("span",{className:"text-xl font-bold text-white drop-shadow-md",children:e.deck.length})]})}),s.jsx(jt,{onDrop:()=>T&&C(T,{target:"discard",playerId:e.id}),onContextMenu:Z=>Y&&E(Z,"discardPile",{player:e}),className:"w-full aspect-square",children:s.jsxs("div",{className:"w-full h-full bg-gray-700 rounded border border-gray-600 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-600 shadow-sm",title:"Discard",children:[s.jsx("span",{className:"text-xs font-bold mb-0.5 text-gray-400",children:"DISCARD"}),s.jsx("span",{className:"text-xl font-bold text-white",children:e.discard.length})]})}),s.jsx(jt,{onDrop:()=>T&&C(T,{target:"announced",playerId:e.id}),className:"w-full aspect-square bg-gray-800 border border-dashed border-gray-600 rounded flex items-center justify-center",isOverClassName:"bg-indigo-600",children:e.announcedCard?s.jsx("div",{className:"w-full h-full cursor-pointer",draggable:Y,onDragStart:()=>Y&&j({card:e.announcedCard,source:"announced",playerId:e.id}),onDragEnd:()=>j(null),onContextMenu:Z=>Y&&E(Z,"announcedCard",{card:e.announcedCard,player:e}),onDoubleClick:()=>ne&&ne(e,e.announcedCard),children:s.jsx($t,{card:e.announcedCard,isFaceUp:!0,playerColorMap:m,imageRefreshVersion:L,activePhaseIndex:se,activeTurnPlayerId:p,disableActiveHighlights:me})}):s.jsx("span",{className:"text-xs font-bold text-gray-400",children:"Showcase"})}),s.jsx("div",{}),s.jsx("div",{}),s.jsx("div",{className:"flex justify-end h-full w-full",children:s.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-6",children:[s.jsx("button",{onClick:()=>u(1),disabled:!Y,className:"bg-gray-700 w-full h-[30%] rounded hover:bg-gray-600 disabled:opacity-50 flex items-center justify-center text-sm font-bold leading-none pb-0.5",children:"+"}),s.jsx("span",{className:"font-bold text-lg leading-none",children:e.score}),s.jsx("button",{onClick:()=>u(-1),disabled:!Y,className:"bg-gray-700 w-full h-[30%] rounded hover:bg-gray-600 disabled:opacity-50 flex items-center justify-center text-sm font-bold leading-none pb-0.5",children:"-"})]})})]}),s.jsx(jt,{onDrop:()=>T&&C(T,{target:"hand",playerId:e.id}),className:"w-full bg-gray-900/50 rounded p-1 grid grid-cols-6 gap-1 flex-grow overflow-y-scroll content-start",children:e.hand.map((Z,Se)=>{const We=(G==null?void 0:G.some($e=>$e.playerId===e.id&&$e.cardIndex===Se))?"ring-4 ring-cyan-400 shadow-[0_0_15px_#22d3ee] rounded-md z-10":"";return s.jsx("div",{className:`w-full aspect-square ${We}`,draggable:Y,onDragStart:()=>Y&&j({card:Z,source:"hand",playerId:e.id,cardIndex:Se}),onDragEnd:()=>j(null),onContextMenu:$e=>l&&E($e,"handCard",{card:Z,player:e,cardIndex:Se}),onDoubleClick:()=>F(e,Z,Se),onClick:()=>K&&K(e,Z,Se),"data-hand-card":`${e.id},${Se}`,children:s.jsx($t,{card:Z,isFaceUp:(()=>{var je;const $e=Z.revealedTo==="all",bt=n!==null&&Array.isArray(Z.revealedTo)&&Z.revealedTo.includes(n),Vt=n!==null&&((je=Z.statuses)==null?void 0:je.some(sr=>sr.type==="Revealed"&&sr.addedByPlayerId===n));return t||R||!!e.isDummy||fe||$e||bt||Vt})(),playerColorMap:m,localPlayerId:n,imageRefreshVersion:L})},`${Z.id}-${Se}`)})})]})}if(V==="list-local"){const ae=oe?"border-yellow-400":"border-gray-700";return s.jsxs("div",{className:`w-full h-full flex flex-col p-4 bg-panel-bg border-2 ${ae} rounded-lg shadow-2xl ${fe?"opacity-60":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-[3px] flex-shrink-0",children:[s.jsx(na,{player:e,canEditSettings:q,selectedColors:A,onColorChange:i}),s.jsxs("div",{className:"flex-grow relative flex items-center",children:[s.jsx("input",{type:"text",value:e.name,onChange:Z=>a(Z.target.value),readOnly:!q,className:"bg-transparent font-bold text-xl p-1 flex-grow focus:bg-gray-800 rounded focus:outline-none border-b border-gray-600 mr-3"}),s.jsx("input",{type:"checkbox",checked:oe,onChange:()=>I(e.id),disabled:!t&&!e.isDummy,className:"w-6 h-6 text-yellow-400 bg-gray-700 border-gray-600 rounded cursor-pointer flex-shrink-0",title:"Active Turn"})]})]}),s.jsxs("div",{className:"flex justify-between items-start gap-4 bg-gray-800 p-[2px] rounded-lg mb-[3px] flex-shrink-0",children:[s.jsxs("div",{className:"p-0 border border-transparent flex gap-[3px]",children:[s.jsx(jt,{onDrop:()=>T&&C(T,{target:"deck",playerId:e.id,deckPosition:"top"}),onContextMenu:Z=>Y&&E(Z,"deckPile",{player:e}),children:s.jsxs("div",{onClick:Y?v:void 0,className:"w-[120px] h-[120px] bg-card-back rounded flex flex-col items-center justify-center cursor-pointer hover:ring-2 ring-indigo-400 transition-all shadow-lg",children:[s.jsx("span",{className:"text-xs font-bold mb-1",children:"DECK"}),s.jsx("span",{className:"text-lg font-bold",children:e.deck.length})]})}),s.jsx(jt,{onDrop:()=>T&&C(T,{target:"discard",playerId:e.id}),onContextMenu:Z=>Y&&E(Z,"discardPile",{player:e}),isOverClassName:"bg-indigo-600 ring-2",children:s.jsxs("div",{className:"w-[120px] h-[120px] bg-gray-700 rounded flex flex-col items-center justify-center cursor-pointer hover:bg-gray-600 transition-all shadow-lg border border-gray-600",children:[s.jsx("span",{className:"text-xs font-bold mb-1 text-gray-400",children:"DISCARD"}),s.jsx("span",{className:"text-lg font-bold",children:e.discard.length})]})}),s.jsx(jt,{onDrop:()=>T&&C(T,{target:"announced",playerId:e.id}),className:"w-[120px] h-[120px] bg-gray-800 border border-dashed border-gray-600 rounded flex items-center justify-center",children:e.announcedCard?s.jsx("div",{className:"w-full h-full p-1 cursor-pointer",draggable:Y,onDragStart:()=>Y&&j({card:e.announcedCard,source:"announced",playerId:e.id}),onDragEnd:()=>j(null),onContextMenu:Z=>Y&&E(Z,"announcedCard",{card:e.announcedCard,player:e}),onDoubleClick:()=>ne&&ne(e,e.announcedCard),children:s.jsx($t,{card:e.announcedCard,isFaceUp:!0,playerColorMap:m,imageRefreshVersion:L,activePhaseIndex:se,activeTurnPlayerId:p,disableActiveHighlights:me})}):s.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Showcase"})})]}),s.jsxs("div",{className:"flex flex-col items-center justify-between h-[120px] w-12 flex-shrink-0 py-0",children:[s.jsx("button",{onClick:()=>u(1),className:"bg-gray-700 w-full h-10 rounded font-bold hover:bg-gray-600 flex items-center justify-center text-xl",children:"+"}),s.jsx("span",{className:"font-bold text-3xl",children:e.score}),s.jsx("button",{onClick:()=>u(-1),className:"bg-gray-700 w-full h-10 rounded font-bold hover:bg-gray-600 flex items-center justify-center text-xl",children:"-"})]})]}),!l&&s.jsxs("div",{className:"mb-[3px] flex-shrink-0",children:[s.jsxs("select",{value:e.selectedDeck,onChange:pe,className:"w-full bg-gray-700 border border-gray-600 rounded p-2 mb-2",children:[W.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id)),s.jsx("option",{value:we.Custom,children:"Custom Deck"})]}),e.selectedDeck===we.Custom&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",ref:ee,onChange:ce,accept:".json",className:"hidden"}),s.jsx("button",{onClick:Ee,className:"w-full bg-indigo-600 hover:bg-indigo-700 py-1 rounded font-bold",children:"Load Custom Deck"})]})]}),s.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:s.jsx(jt,{onDrop:()=>T&&C(T,{target:"hand",playerId:e.id}),className:"flex-grow bg-gray-800 rounded-lg p-2 overflow-y-scroll border border-gray-700",children:s.jsx("div",{className:"flex flex-col gap-[2px]",children:e.hand.map((Z,Se)=>{const We=(G==null?void 0:G.some($e=>$e.playerId===e.id&&$e.cardIndex===Se))?"ring-4 ring-cyan-400 shadow-[0_0_15px_#22d3ee] rounded-md z-10":"";return s.jsxs("div",{className:`flex bg-gray-900 border border-gray-700 rounded p-2 ${We}`,draggable:Y,onDragStart:()=>Y&&j({card:Z,source:"hand",playerId:e.id,cardIndex:Se}),onDragEnd:()=>j(null),onContextMenu:$e=>Y&&E($e,"handCard",{card:Z,player:e,cardIndex:Se}),onDoubleClick:()=>F(e,Z,Se),onClick:()=>K&&K(e,Z,Se),"data-hand-card":`${e.id},${Se}`,children:[s.jsx("div",{className:"w-[120px] h-[120px] flex-shrink-0 mr-3",children:s.jsx($t,{card:Z,isFaceUp:!0,playerColorMap:m,localPlayerId:n,imageRefreshVersion:L,disableTooltip:!0})}),s.jsx("div",{className:"flex-grow min-w-0",children:s.jsx(ps,{card:Z,className:"relative flex flex-col text-left w-full h-full justify-start whitespace-normal break-words",hideOwner:Z.ownerId===e.id,powerPosition:"inner"})})]},`${Z.id}-${Se}`)})})})})]})}const ze=lg[o]||"top-2 left-2",Fe=oe?"border-yellow-400":z?"border-indigo-500":"border-gray-700";return s.jsxs("div",{className:`fixed ${ze} min-w-[30rem] bg-panel-bg rounded-lg shadow-2xl p-3 flex flex-col z-10 border-2 ${Fe} ${fe?"opacity-60":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[s.jsx(na,{player:e,canEditSettings:q,selectedColors:A,onColorChange:i}),s.jsx("input",{type:"text",value:fe?`${e.name} (Disconnected)`:e.name,onChange:ae=>a(ae.target.value),readOnly:!q||fe,className:"bg-transparent font-bold text-xl p-1.5 flex-grow focus:bg-gray-800 rounded focus:outline-none focus:ring-2 focus:ring-indigo-400 disabled:cursor-default"})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:oe,onChange:()=>I(e.id),disabled:!t&&!e.isDummy,className:"w-5 h-5 text-yellow-400 bg-gray-700 border-gray-600 rounded focus:ring-yellow-500 focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",title:"Mark as active turn"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>u(-1),disabled:!Y,className:"bg-gray-700 w-8 h-8 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"-"}),s.jsx("span",{className:"font-bold text-2xl w-10 text-center",children:e.score}),s.jsx("button",{onClick:()=>u(1),disabled:!Y,className:"bg-gray-700 w-8 h-8 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]})]})]}),s.jsxs("div",{className:"mb-3 flex items-center space-x-2",children:[s.jsxs("select",{value:e.selectedDeck,onChange:pe,disabled:!q,className:"bg-gray-700 border border-gray-600 text-white text-base rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[e.selectedDeck===we.Custom&&s.jsx("option",{value:we.Custom,children:"Custom Deck"}),W.map(ae=>s.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),s.jsx("input",{type:"file",ref:ee,onChange:ce,accept:".json",style:{display:"none"}}),s.jsx("button",{onClick:Ee,disabled:!q,title:"Load Custom Deck",className:"bg-gray-600 hover:bg-gray-500 text-white font-bold p-2 rounded disabled:opacity-70 disabled:cursor-not-allowed",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})})]}),s.jsxs("div",{className:"flex-grow flex space-x-3",children:[s.jsxs("div",{className:"flex flex-col w-28 space-y-2",children:[s.jsx(jt,{onDrop:()=>T&&C(T,{target:"deck",playerId:e.id,deckPosition:"top"}),onContextMenu:ae=>Y&&E(ae,"deckPile",{player:e}),children:s.jsxs("div",{onClick:Y?v:void 0,className:`relative w-28 h-28 bg-card-back rounded-md flex items-center justify-center text-center text-sm font-bold p-1 ${Y?"cursor-pointer hover:ring-2 ring-indigo-400":"cursor-not-allowed"}`,children:["DECK ",s.jsx("br",{})," (",e.deck.length,")"]})}),s.jsxs(jt,{onDrop:()=>{T&&C(T,{target:"discard",playerId:e.id})},onContextMenu:ae=>Y&&E(ae,"discardPile",{player:e}),className:`relative w-28 h-28 bg-gray-700 rounded-md flex items-center justify-center text-center text-sm font-bold p-1 ${Y?"cursor-pointer":""}`,isOverClassName:"bg-indigo-600 ring-2 ring-indigo-400",children:["DISCARD ",s.jsx("br",{})," (",e.discard.length,")"]}),s.jsx("div",{className:"relative w-28 h-28",children:s.jsxs(jt,{onDrop:()=>T&&C(T,{target:"announced",playerId:e.id}),className:"w-full h-full bg-gray-700 rounded-md flex items-center justify-center text-center text-sm p-1",isOverClassName:"bg-indigo-600 ring-2 ring-indigo-400",children:[!e.announcedCard&&s.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Showcase"}),e.announcedCard&&s.jsx("div",{draggable:Y,onDragStart:()=>Y&&j({card:e.announcedCard,source:"announced",playerId:e.id}),onDragEnd:()=>j(null),onContextMenu:ae=>Y&&E(ae,"announcedCard",{card:e.announcedCard,player:e}),onDoubleClick:()=>ne&&ne(e,e.announcedCard),className:"w-full h-full cursor-pointer","data-interactive":"true",children:s.jsx($t,{card:e.announcedCard,isFaceUp:!0,playerColorMap:m,localPlayerId:n,imageRefreshVersion:L,activePhaseIndex:se,activeTurnPlayerId:p,disableActiveHighlights:me})})]})})]}),s.jsx(jt,{onDrop:()=>T&&C(T,{target:"hand",playerId:e.id}),className:"flex-grow bg-gray-800 rounded-lg p-2 min-h-[16rem] max-h-[22.25rem] overflow-y-auto",isOverClassName:"bg-gray-900 ring-2 ring-indigo-400",children:s.jsx("div",{className:"grid grid-cols-3 gap-0.5",children:e.hand.map((ae,Z)=>{const Ne=(G==null?void 0:G.some(We=>We.playerId===e.id&&We.cardIndex===Z))?"ring-4 ring-cyan-400 shadow-[0_0_15px_#22d3ee] rounded-md z-10":"";return s.jsx("div",{className:`w-28 h-28 ${Ne}`,draggable:Y,onDragStart:()=>Y&&j({card:ae,source:"hand",playerId:e.id,cardIndex:Z}),onDragEnd:()=>j(null),onContextMenu:We=>{n!==null&&l&&E(We,"handCard",{card:ae,player:e,cardIndex:Z})},onDoubleClick:()=>F(e,ae,Z),onClick:()=>K&&K(e,ae,Z),"data-interactive":"true","data-hand-card":`${e.id},${Z}`,children:s.jsx($t,{card:ae,isFaceUp:(()=>{var Vt;const We=ae.revealedTo==="all",$e=n!==null&&Array.isArray(ae.revealedTo)&&ae.revealedTo.includes(n),bt=n!==null&&((Vt=ae.statuses)==null?void 0:Vt.some(je=>je.type==="Revealed"&&je.addedByPlayerId===n));return t||R||!!e.isDummy||fe||We||$e||bt})(),playerColorMap:m,localPlayerId:n,imageRefreshVersion:L})},`${ae.id}-${Z}`)})})})]})]})},fg=4,pg=({gameId:e,isGameStarted:t,onStartGame:n,onResetGame:r,activeGridSize:l,onGridSizeChange:o,dummyPlayerCount:a,onDummyPlayerCountChange:i,realPlayerCount:u,connectionStatus:d,onExitGame:w,onOpenTokensModal:v,onOpenCountersModal:C,gameMode:T,onGameModeChange:j,isPrivate:E,onPrivacyChange:F,isHost:m,onSyncGame:c,currentPhase:f,onNextPhase:p,onPrevPhase:I,onSetPhase:L,isAutoAbilitiesEnabled:V,onToggleAutoAbilities:K})=>{const G=[0,1,2,3],ne=()=>{let se="bg-gray-500",me="Connecting to server...";return d==="Connected"?(se="bg-green-500 animate-pulse",me="Connected"):d==="Disconnected"&&(se="bg-red-500",me="Disconnected. Retrying..."),s.jsxs("div",{className:"flex items-center space-x-2",title:me,children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${se} transition-colors`}),s.jsx("span",{className:"text-sm text-gray-400 hidden sm:block",children:d})]})};return s.jsxs("header",{className:"fixed top-0 left-0 right-0 h-14 bg-panel-bg bg-opacity-80 backdrop-blur-sm z-50 flex items-center justify-between px-4 shadow-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h1",{className:"text-xl font-bold text-indigo-400 hidden lg:block",children:"New Avalon"}),s.jsx(ne,{}),s.jsxs("div",{className:"flex items-center space-x-3",children:[e&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"ID:"}),s.jsx("span",{className:"font-mono bg-gray-700 px-2 py-1 rounded text-indigo-300 w-24 md:w-44 text-center truncate",children:e})]}),s.jsxs("label",{className:"flex items-center space-x-1.5 cursor-pointer hidden md:flex",title:"Hidden games do not appear in the 'Join Game' list.",children:[s.jsx("input",{type:"checkbox",checked:E,onChange:se=>F(se.target.checked),disabled:t||!m,className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500 disabled:opacity-70 disabled:cursor-not-allowed"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Hidden"})]}),s.jsx("span",{className:"text-gray-600 hidden md:inline",children:"|"}),s.jsx("button",{onClick:v,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded text-sm",children:"Tokens"}),s.jsx("button",{onClick:C,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded text-sm",children:"Counters"})]})]}),t&&s.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex items-center bg-gray-800 rounded-lg p-1 border border-gray-700 shadow-md",children:[s.jsx("button",{onClick:I,className:"w-8 h-8 flex items-center justify-center text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Previous Phase",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M15 6 L8 12 L15 18 Z"})})}),s.jsx("select",{value:f,onChange:se=>L(parseInt(se.target.value)),className:"bg-gray-800 text-white font-bold text-sm text-center border-none focus:ring-0 cursor-pointer appearance-none px-2 min-w-[120px]",children:Xa.map((se,me)=>s.jsx("option",{value:me,children:se},me))}),s.jsx("button",{onClick:p,className:"w-8 h-8 flex items-center justify-center text-gray-300 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Next Phase",children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M9 6 L16 12 L9 18 Z"})})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[t&&s.jsxs("label",{className:"flex items-center space-x-1.5 cursor-pointer bg-gray-800 px-2 py-1 rounded border border-gray-600",title:"Automatically attach counters/tokens when clicking your cards.",children:[s.jsx("input",{type:"checkbox",checked:V,onChange:se=>K(se.target.checked),className:"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Auto-Ability"})]}),t?m&&s.jsx("button",{onClick:r,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded text-sm hidden md:block",children:"New Game"}):s.jsx("button",{onClick:n,disabled:!m,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm animate-pulse disabled:bg-gray-600 disabled:opacity-70 disabled:cursor-not-allowed disabled:animate-none",children:"Start Game"}),s.jsxs("div",{className:"flex items-center space-x-2 hidden lg:flex",children:[s.jsx("label",{htmlFor:"game-mode",className:"text-sm font-medium text-gray-300",children:"Mode:"}),s.jsxs("select",{id:"game-mode",value:T,onChange:se=>j(se.target.value),disabled:t||!m,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[s.jsx("option",{value:On.FreeForAll,children:"FFA"}),s.jsx("option",{value:On.TwoVTwo,children:"2v2"}),s.jsx("option",{value:On.ThreeVOne,children:"3v1"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 hidden xl:flex",children:[s.jsx("label",{htmlFor:"grid-size",className:"text-sm font-medium text-gray-300",children:"Size:"}),s.jsxs("select",{id:"grid-size",value:l,onChange:se=>o(parseInt(se.target.value,10)),disabled:t||!m,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"4",children:"4x4"}),s.jsx("option",{value:"5",children:"5x5"}),s.jsx("option",{value:"6",children:"6x6"}),s.jsx("option",{value:"7",children:"7x7"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 hidden xl:flex",children:[s.jsx("label",{htmlFor:"dummy-players",className:"text-sm font-medium text-gray-300",children:"Dummies:"}),s.jsx("select",{id:"dummy-players",value:a,onChange:se=>i(parseInt(se.target.value,10)),disabled:t||!m,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 disabled:opacity-70 disabled:cursor-not-allowed",children:G.map(se=>s.jsx("option",{value:se,disabled:u+se>fg,children:se},se))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[m&&t&&s.jsx("button",{onClick:c,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold p-2 rounded text-sm",title:"Force sync game state and refresh images.",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:w,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded text-sm",title:"Return to Main Menu",children:"Exit"})]})]})]})},mg=({isOpen:e,onClose:t,onJoin:n,games:r})=>{const[l,o]=k.useState("");if(!e)return null;const a=()=>{l.trim()&&n(l.trim().toUpperCase())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-xl",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Join an Existing Game"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Active Games"}),s.jsx("div",{className:"h-[40rem] overflow-y-auto pr-2 border-b border-gray-700 pb-2 mb-6",children:r.length>0?s.jsx("ul",{className:"space-y-2",children:r.map(i=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>n(i.gameId),className:"w-full text-left p-3 bg-gray-700 hover:bg-indigo-600 rounded-lg transition-colors flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Game ID:"}),s.jsx("span",{className:"block font-mono text-indigo-300",children:i.gameId})]}),s.jsxs("span",{className:"bg-gray-600 px-2 py-1 rounded-full text-sm font-bold",children:[i.playerCount," / 4"]})]})},i.gameId))}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("p",{className:"text-gray-400 text-center",children:["No active games found. ",s.jsx("br",{})," Why not create one?"]})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Or Join with Code"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:l,onChange:i=>o(i.target.value),placeholder:"Enter Game ID",className:"flex-grow bg-gray-700 border border-gray-600 text-white font-mono rounded-lg p-2 focus:ring-indigo-500 focus:border-indigo-500",onKeyUp:i=>i.key==="Enter"&&a()}),s.jsx("button",{onClick:a,disabled:!l.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:"Join"})]}),s.jsx("div",{className:"flex justify-end mt-8",children:s.jsx("button",{type:"button",onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"})})]})})},Cc=({isOpen:e,onClose:t,title:n,player:r,cards:l,setDraggedItem:o,onCardContextMenu:a,onCardDoubleClick:i,canInteract:u,isDeckView:d=!1,playerColorMap:w,localPlayerId:v,imageRefreshVersion:C})=>{const[T,j]=k.useState(null),E=k.useRef(null);if(!e)return null;const F=p=>{T!==null&&E.current&&!E.current.contains(p.relatedTarget)&&t()},c=Math.ceil(l.length/5)>5;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 pointer-events-auto",onClick:t,children:s.jsxs("div",{ref:E,onClick:p=>p.stopPropagation(),onDragLeave:F,className:"bg-gray-800 rounded-lg p-4 shadow-xl w-auto max-w-4xl max-h-[95vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:n}),s.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Close"})]}),s.jsx("div",{className:`bg-gray-900 rounded p-2 ${c?"overflow-y-auto":""}`,style:c?{height:"calc(5 * 7rem + 4 * 0.5rem + 1rem)"}:{},children:s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[l.map((p,I)=>s.jsx("div",{style:{visibility:T===I?"hidden":"visible"},draggable:u,onDragStart:()=>{u&&(j(I),o({card:p,source:d?"deck":"discard",playerId:r.id,cardIndex:I}))},onDragEnd:()=>{j(null),o(null)},onContextMenu:L=>u&&(a==null?void 0:a(L,I)),onDoubleClick:()=>u&&i(I),"data-interactive":u,className:`w-28 h-28 ${u?"cursor-grab":"cursor-default"}`,children:s.jsx($t,{card:p,isFaceUp:!0,playerColorMap:w,localPlayerId:v,imageRefreshVersion:C})},`${p.id}-${I}`)),l.length===0&&s.jsx("p",{className:"col-span-5 w-full text-center text-gray-400 py-8",children:"Empty"})]})})]})})},hg=({isOpen:e,onClose:t,setDraggedItem:n,openContextMenu:r,canInteract:l,anchorEl:o,imageRefreshVersion:a,draggedItem:i})=>{if(!e||!o)return null;const u=(Qa[we.Tokens]||[]).filter(v=>!v.allowedPanels||v.allowedPanels.includes("TOKEN_PANEL")),d={position:"fixed",top:`${o.top}px`,left:`${o.left}px`,zIndex:60},w=v=>{if(i&&i.source==="token_panel"){const C=v.currentTarget.getBoundingClientRect(),T=v.clientX,j=v.clientY;(T<C.left||T>=C.right||j<C.top||j>=C.bottom)&&t()}};return s.jsx("div",{style:d,className:"pointer-events-auto",onDragLeave:w,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-xl w-96 max-w-[90vw] h-auto flex flex-col",onClick:v=>v.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Tokens"}),s.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Close"})]}),s.jsx("div",{className:"flex-grow bg-gray-900 rounded p-2 overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map(v=>s.jsx("div",{draggable:l,onDragStart:()=>l&&n({card:v,source:"token_panel"}),onDragEnd:()=>n(null),onContextMenu:C=>l&&r(C,"token_panel_item",{card:v}),"data-interactive":l,className:`w-24 h-24 ${l?"cursor-grab":"cursor-not-allowed"}`,children:s.jsx($t,{card:v,isFaceUp:!0,playerColorMap:new Map,imageRefreshVersion:a})},v.id))})})]})})},gg="https://res.cloudinary.com/dxxh6meej/image/upload/v1763653192/background_counter_socvss.png",yg=({isOpen:e,onClose:t,setDraggedItem:n,canInteract:r,anchorEl:l,imageRefreshVersion:o,onCounterMouseDown:a,cursorStack:i})=>{const[u,d]=k.useState(null),[w,v]=k.useState({x:0,y:0});if(!e||!l)return null;const C={position:"fixed",top:`${l.top}px`,left:`${l.left}px`,zIndex:60},T=f=>{let p=Yi[f];if(p&&o){const I=p.includes("?")?"&":"?";p=`${p}${I}v=${o}`}return p},j=(f,p,I)=>{if(f.button===2){const L={id:`tooltip_${p}`,deck:"counter",name:I,imageUrl:"",fallbackImage:"",power:0,ability:Yo[p]||"",types:[],statuses:[]};d(L),v({x:f.clientX,y:f.clientY})}else f.button===0&&r&&a(p,f)},E=()=>{d(null)},F=f=>{u&&v({x:f.clientX,y:f.clientY})},m=()=>{i&&t(),d(null)},c=f=>{const p=f.currentTarget.getBoundingClientRect(),I=f.clientX,L=f.clientY;(I<p.left||I>=p.right||L<p.top||L>=p.bottom)&&t()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:C,className:"pointer-events-auto counter-modal-content",onMouseLeave:m,onDragLeave:c,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-xl w-80 max-w-[90vw] h-auto flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Counters"}),s.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Close"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Hold right click to view hints"})]}),s.jsx("div",{className:"bg-gray-900 rounded p-4",children:s.jsx("div",{className:"grid grid-cols-4 gap-1",children:rg.map(f=>{const p=T(f.type),I=f.type.startsWith("Power");return s.jsx("button",{onContextMenu:L=>L.preventDefault(),onMouseDown:L=>j(L,f.type,f.label),onMouseUp:E,onMouseMove:F,className:`w-12 h-12 rounded-full border-white flex items-center justify-center shadow-lg mx-auto relative select-none ${r?"cursor-pointer hover:ring-2 ring-indigo-400":"cursor-not-allowed"}`,style:{backgroundImage:`url(${gg})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:p?s.jsx("img",{src:p,alt:f.label,className:"w-full h-full object-contain p-1 pointer-events-none"}):s.jsx("span",{className:`font-bold text-white pointer-events-none ${I?"text-sm":"text-lg"}`,style:{textShadow:"0 0 2px black"},children:I?f.label:f.type.charAt(0)})},f.type)})})})]})}),u&&s.jsx(qi,{x:w.x,y:w.y,children:s.jsx(ps,{card:u,statusDescriptions:Yo})})]})},Kf=({player:e,onDragStart:t})=>{const n=Pt[e.color]||Pt.blue;return s.jsxs("div",{draggable:!0,onDragStart:r=>t(r,e.id),className:"flex items-center gap-2 bg-gray-600 p-2 rounded-md cursor-grab active:cursor-grabbing",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${n.bg} border border-white/50`}),s.jsx("span",{className:"font-medium",children:e.name})]})},kc=({teamId:e,teamName:t,players:n,capacity:r,onDrop:l,onDragOver:o,onPlayerDragStart:a,isOver:i})=>s.jsxs("div",{onDrop:u=>l(u,e),onDragOver:o,className:`bg-gray-800 p-4 rounded-lg border-2 ${i?"border-indigo-500":"border-gray-700"} transition-colors`,children:[s.jsxs("h3",{className:"text-lg font-bold mb-3 border-b border-gray-700 pb-2",children:[t," (",n.length,"/",r,")"]}),s.jsx("div",{className:"space-y-2 min-h-[4rem]",children:n.map(u=>s.jsx(Kf,{player:u,onDragStart:a},u.id))})]}),vg=({players:e,gameMode:t,onCancel:n,onConfirm:r})=>{const[l,o]=k.useState(e),[a,i]=k.useState([]),[u,d]=k.useState([]),[w,v]=k.useState(null),[C,T]=k.useState(null),{team1Capacity:j,team2Capacity:E}=k.useMemo(()=>t===On.TwoVTwo?{team1Capacity:2,team2Capacity:2}:t===On.ThreeVOne?{team1Capacity:3,team2Capacity:1}:{team1Capacity:0,team2Capacity:0},[t]),F=l.length===0&&a.length===j&&u.length===E,m=(I,L)=>{I.dataTransfer.effectAllowed="move",v(L)},c=I=>{I.preventDefault(),I.dataTransfer.dropEffect="move"},f=(I,L)=>{if(I.preventDefault(),w===null)return;const V=e.find(R=>R.id===w);if(!V)return;const K=[...l],G=[...a],ne=[...u],se=K.findIndex(R=>R.id===w);se>-1&&K.splice(se,1);const me=G.findIndex(R=>R.id===w);me>-1&&G.splice(me,1);const fe=ne.findIndex(R=>R.id===w);fe>-1&&ne.splice(fe,1),L===1&&G.length<j?G.push(V):L===2&&ne.length<E?ne.push(V):K.push(V),o(K),i(G),d(ne),v(null),T(null)},p=()=>{if(!F)return;const I={1:a.map(L=>L.id),2:u.map(L=>L.id)};r(I)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-8 shadow-xl w-full max-w-4xl",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Assign Teams"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Drag and drop players into their teams."}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{onDrop:I=>f(I,"unassigned"),onDragOver:I=>{c(I),T("unassigned")},onDragLeave:()=>T(null),className:`bg-gray-800 p-4 rounded-lg border-2 ${C==="unassigned"?"border-indigo-500":"border-gray-700"} transition-colors`,children:[s.jsx("h3",{className:"text-lg font-bold mb-3 border-b border-gray-700 pb-2",children:"Unassigned Players"}),s.jsx("div",{className:"space-y-2",children:l.map(I=>s.jsx(Kf,{player:I,onDragStart:m},I.id))})]}),s.jsx(kc,{teamId:1,teamName:"Team 1",players:a,capacity:j,onDrop:f,onDragOver:I=>{c(I),T(1)},onPlayerDragStart:m,isOver:C===1}),s.jsx(kc,{teamId:2,teamName:"Team 2",players:u,capacity:E,onDrop:f,onDragOver:I=>{c(I),T(2)},onPlayerDragStart:m,isOver:C===2})]}),s.jsxs("div",{className:"flex justify-end mt-8 space-x-4",children:[s.jsx("button",{type:"button",onClick:n,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,disabled:!F,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors",children:"Confirm Teams & Start"})]})]})})},xg=({players:e,localPlayer:t,onReady:n})=>{const r=()=>{t.isReady||n()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Ready to Start?"}),s.jsx("p",{className:"text-gray-400 text-center mb-6",children:"The game will begin once all players are ready. You can still change your name and deck."}),s.jsx("ul",{className:"space-y-3 mb-8",children:e.map(l=>s.jsxs("li",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg",children:[s.jsxs("span",{className:"font-medium",children:[l.name," ",l.id===t.id&&"(You)"]}),l.isReady?s.jsxs("span",{className:"flex items-center text-green-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Ready"]}):s.jsxs("span",{className:"flex items-center text-yellow-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 animate-pulse",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 102 0V6zM9 14a1 1 0 112 0 1 1 0 01-2 0z",clipRule:"evenodd"})}),"Waiting..."]})]},l.id))}),s.jsx("button",{onClick:r,disabled:t.isReady,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors text-lg",children:t.isReady?"Waiting for others...":"I'm Ready"})]})})},Sc=({card:e,ownerPlayer:t,onClose:n,statusDescriptions:r,allPlayers:l,imageRefreshVersion:o})=>{var T,j,E;const[a,i]=k.useState(e.imageUrl);k.useEffect(()=>{let F=e.imageUrl;if(o&&F){const m=F.includes("?")?"&":"?";F=`${F}${m}v=${o}`}i(F)},[e.imageUrl,o]);const u=()=>{let F=e.fallbackImage;if(o&&F){const m=F.includes("?")?"&":"?";F=`${F}${m}v=${o}`}a!==F&&i(F)},d=t==null?void 0:t.color,w=d?Pt[d].border:((T=Gf[e.deck])==null?void 0:T.color)||"border-gray-300",v=k.useMemo(()=>!t||t.teamId===void 0?null:`Team ${t.teamId}`,[t]),C=(e.statuses??[]).reduce((F,m)=>(F[m.type]||(F[m.type]=[]),F[m.type].push(m.addedByPlayerId),F),{});return s.jsx("div",{onClick:n,className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[102]",children:s.jsxs("div",{onClick:F=>F.stopPropagation(),className:`bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl h-[40rem] p-6 flex gap-6 border-4 ${w}`,children:[s.jsx("div",{className:"w-1/2 h-full flex-shrink-0",children:a?s.jsx("img",{src:a,onError:u,alt:e.name,className:"w-full h-full object-contain rounded-lg"}):s.jsx("div",{className:"w-full h-full bg-gray-700 rounded-lg flex items-center justify-center text-2xl font-bold text-center p-4",children:e.name})}),s.jsxs("div",{className:"w-1/2 h-full flex flex-col gap-4 overflow-y-auto pr-2 text-left",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold",children:e.name}),s.jsx("p",{className:"text-lg text-gray-400 capitalize",children:((j=e.types)==null?void 0:j.join(", "))||`${e.deck} Card`})]}),s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-indigo-400 text-lg",children:"Power:"})," ",s.jsx("span",{className:"text-xl font-bold",children:e.power})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{className:"text-indigo-400 text-lg",children:"Ability:"})," ",s.jsx("span",{className:"text-gray-200 text-base",children:Vf(e.ability)})]})]}),t&&s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-indigo-400",children:"Owner:"})," ",t.name]}),v&&s.jsxs("p",{className:"mt-1",children:[s.jsx("strong",{className:"text-indigo-400",children:"Team:"})," ",v]})]}),e.statuses&&e.statuses.length>0&&s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-indigo-400 text-lg font-bold mb-2",children:"Statuses"}),s.jsx("ul",{className:"space-y-2 text-sm",children:Object.entries(C).map(([F,m])=>{const c=m.reduce((p,I)=>(p[I]=(p[I]||0)+1,p),{}),f=Object.entries(c).map(([p,I])=>{var V;return`${((V=l.find(K=>K.id===Number(p)))==null?void 0:V.name)||`Player ${p}`} (x${I})`}).join(", ");return s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-200",children:F})," ",s.jsxs("span",{className:"text-gray-400 text-xs ml-1",children:["- ",f]}),s.jsx("p",{className:"text-gray-400 text-xs pl-2 mt-0.5",children:r[F]||"No description available."})]},F)})})]}),e.flavorText&&s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-indigo-400 font-bold mb-1",children:"Flavor Text"}),s.jsx("p",{className:"italic text-gray-400",children:(E=e.flavorText)==null?void 0:E.split(`
`).map((F,m)=>s.jsxs(En.Fragment,{children:[m>0&&s.jsx("br",{}),F]},m))})]}),s.jsx("button",{onClick:n,className:"mt-auto bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded self-end",children:"Close"})]})]})})},wg=({fromPlayer:e,cardCount:t,onAccept:n,onDecline:r})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[105]",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-md text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Reveal Request"}),s.jsxs("p",{className:"text-gray-300 mb-6",children:[s.jsx("span",{className:"font-bold",children:e.name})," would like to see ",t>1?`${t} of your hidden cards`:"one of your hidden cards","."]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded transition-colors",children:"Decline"}),s.jsx("button",{onClick:n,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded transition-colors",children:"Accept"})]})]})}),Cg=ng(),Nc=Bf(),rn=100,kg=({x:e,y:t,items:n,onClose:r})=>{const l=k.useRef(null),[o,a]=k.useState({top:t,left:e});return k.useEffect(()=>{if(l.current){const{innerWidth:i,innerHeight:u}=window,{offsetWidth:d,offsetHeight:w}=l.current,v=e+d>i?i-d-5:e,C=t+w>u?u-w-5:t;a({top:C,left:v})}},[e,t,n]),s.jsx("div",{ref:l,className:"fixed bg-gray-900 border border-gray-700 rounded-md shadow-lg z-[110] py-1",style:{top:o.top,left:o.left},onClick:i=>i.stopPropagation(),children:n.map((i,u)=>"isDivider"in i?s.jsx("hr",{className:"border-gray-700 my-1"},`divider-${u}`):s.jsx("button",{onClick:()=>{i.disabled||(i.onClick(),r())},disabled:i.disabled,className:"block w-full text-left px-4 py-1 text-sm text-white hover:bg-indigo-600 disabled:text-gray-500 disabled:cursor-not-allowed disabled:bg-gray-800",style:{fontWeight:i.isBold?"bold":"normal"},children:i.label},u))})},Sg=e=>{if(typeof e.deckName!="string"||!Array.isArray(e.cards))return{isValid:!1,error:"Invalid file structure. Must have 'deckName' (string) and 'cards' (array)."};let t=0;for(const n of e.cards){if(typeof n.cardId!="string"||typeof n.quantity!="number"||n.quantity<1||!Number.isInteger(n.quantity))return{isValid:!1,error:`Invalid card entry: ${JSON.stringify(n)}`};if(!Jo(n.cardId))return{isValid:!1,error:`Card with ID '${n.cardId}' does not exist.`};t+=n.quantity}return t>rn?{isValid:!1,error:`Deck exceeds the ${rn} card limit (found ${t} cards).`}:t===0&&e.cards.length>0?{isValid:!1,error:"Deck contains cards with zero quantity."}:{isValid:!0,deckFile:e}},Ng=({isOpen:e,onClose:t,setViewingCard:n})=>{const[r,l]=k.useState("My Custom Deck"),[o,a]=k.useState(new Map),[i,u]=k.useState(""),[d,w]=k.useState("all"),[v,C]=k.useState(""),[T,j]=k.useState(null),E=k.useRef(null),[F,m]=k.useState(null),c=k.useMemo(()=>Array.from(o.values()).reduce((R,ee)=>R+ee,0),[o]),f=k.useCallback(R=>{const ee=Jo(R);return ee&&ee.faction&&Object.values(we).includes(ee.faction)?ee.faction:Ko.has(R)?we.Command:we.Custom},[]),p=k.useMemo(()=>Cg.filter(({id:R,card:ee})=>{if(ee.allowedPanels&&!ee.allowedPanels.includes("DECK_BUILDER"))return!1;if(d==="command"){if(!Ko.has(R))return!1}else if(d!=="all")if(ee.faction){if(ee.faction!==d)return!1}else{const q=Nc.find(Y=>Y.cards.some(z=>z.cardId===R));if(!q||q.id!==d)return!1}if(v.trim()){const q=parseInt(v.trim(),10);if(!isNaN(q)&&ee.power!==q)return!1}if(i.trim()){const q=i.toLowerCase(),Y=ee.name.toLowerCase().includes(q),z=ee.ability.toLowerCase().includes(q);if(!Y&&!z)return!1}return!0}),[i,d,v]),I=k.useCallback(R=>{c>=rn||a(ee=>{const q=new Map(ee),Y=q.get(R)||0;return q.set(R,Y+1),q})},[c]),L=k.useCallback(R=>{a(ee=>{const q=new Map(ee);return q.delete(R),q})},[]),V=k.useCallback((R,ee)=>{a(q=>{const Y=new Map(q),z=Y.get(R)||0;let A=z+ee;const W=Array.from(Y.values()).reduce((pe,Ee)=>pe+Ee,0),oe=W+ee;return ee>0&&oe>rn&&(A=z+(rn-W)),A<=0?Y.delete(R):Y.set(R,A),Y})},[]),K=()=>{const R=Array.from(o.entries()).map(([A,W])=>({cardId:A,quantity:W})),ee={deckName:r,cards:R},q=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),Y=URL.createObjectURL(q),z=document.createElement("a");z.href=Y,z.download=`${r.replace(/ /g,"_")}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(Y)},G=R=>{var Y;const ee=(Y=R.target.files)==null?void 0:Y[0];if(!ee)return;const q=new FileReader;q.onload=z=>{var A;try{const W=(A=z.target)==null?void 0:A.result,oe=JSON.parse(W),pe=Sg(oe);if("error"in pe)alert(`Error loading deck: ${pe.error}`);else{const{deckFile:Ee}=pe;l(Ee.deckName);const ce=new Map;Ee.cards.forEach(ze=>ce.set(ze.cardId,ze.quantity)),a(ce)}}catch(W){alert(`Error reading file: ${W instanceof Error?W.message:"Invalid file format."}`)}finally{R.target&&(R.target.value="")}},q.readAsText(ee)},ne=(R,ee)=>{const q=f(R),Y={...ee,id:`detail-${R}`,deck:q};n({card:Y})},se=k.useCallback((R,ee)=>{E.current&&clearTimeout(E.current),E.current=window.setTimeout(()=>{j({x:R.clientX,y:R.clientY,cardDef:ee})},250)},[]),me=k.useCallback(R=>{j(ee=>ee?{...ee,x:R.clientX,y:R.clientY}:null)},[]),fe=k.useCallback(()=>{E.current&&clearTimeout(E.current),E.current=null,j(null)},[]);return k.useEffect(()=>{const R=()=>m(null);window.addEventListener("click",R);const ee=q=>{q.target.closest("[data-interactive]")||R()};return window.addEventListener("contextmenu",ee),()=>{window.removeEventListener("click",R),window.removeEventListener("contextmenu",ee)}},[]),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[101]",onClick:t,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-xl w-[95vw] h-[90vh] max-w-7xl flex flex-col gap-4",onClick:R=>R.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Deck Builder"}),s.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]}),s.jsxs("div",{className:"flex-grow flex gap-6 min-h-0",children:[s.jsxs("div",{className:"w-1/3 bg-gray-900 rounded-lg p-4 flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 mb-4 space-y-3",children:[s.jsx("input",{type:"text",value:r,onChange:R=>l(R.target.value),placeholder:"Deck Name",className:"w-full bg-gray-700 border border-gray-600 text-white font-bold text-lg rounded-lg p-2 focus:ring-indigo-500 focus:border-indigo-500"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:K,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded",children:"Save"}),s.jsxs("label",{className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-3 rounded cursor-pointer text-center",children:["Load",s.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:G})]})]}),s.jsxs("div",{className:`text-center font-bold text-lg ${c>rn?"text-red-500":"text-gray-300"}`,children:["Total Cards: ",c," / ",rn]})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:Array.from(o.entries()).map(([R,ee])=>{const q=Jo(R);return q?s.jsxs("div",{className:"bg-gray-800 p-2 rounded flex items-center justify-between",onContextMenu:Y=>{Y.preventDefault(),Y.stopPropagation();const z=[{label:"View",onClick:()=>ne(R,q)},{isDivider:!0},{label:"Add to Deck",onClick:()=>V(R,1),disabled:c>=rn},{label:"Remove from Deck",onClick:()=>V(R,-1)},{label:"Remove all copies",onClick:()=>L(R)}];m({x:Y.clientX,y:Y.clientY,items:z,onClose:()=>m(null)})},"data-interactive":"true",children:[s.jsx("span",{className:"flex-grow truncate",title:q.name,onMouseEnter:Y=>se(Y,q),onMouseMove:me,onMouseLeave:fe,children:q.name}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s.jsx("button",{onClick:()=>V(R,-1),className:"w-6 h-6 bg-gray-700 rounded",children:"-"}),s.jsx("span",{className:"font-mono w-6 text-center",children:ee}),s.jsx("button",{onClick:()=>V(R,1),className:"w-6 h-6 bg-gray-700 rounded",children:"+"}),s.jsx("button",{onClick:()=>L(R),className:"w-6 h-6 bg-red-600 text-white rounded text-sm",children:"X"})]})]},R):null})})]}),s.jsxs("div",{className:"w-2/3 bg-gray-900 rounded-lg p-4 flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 mb-4 flex gap-2 items-center",children:[s.jsxs("select",{value:d,onChange:R=>w(R.target.value),className:"bg-gray-700 border border-gray-600 rounded p-2",children:[s.jsx("option",{value:"all",children:"All Factions"}),Nc.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id)),s.jsx("option",{value:"command",children:"Command"})]}),s.jsx("input",{type:"text",value:v,onChange:R=>C(R.target.value),placeholder:"Power",className:"bg-gray-700 border border-gray-600 rounded p-2 w-24"}),s.jsx("input",{type:"text",value:i,onChange:R=>u(R.target.value),placeholder:"Search name or ability...",className:"bg-gray-700 border border-gray-600 rounded p-2 flex-grow"})]}),s.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:p.map(({id:R,card:ee})=>s.jsxs("div",{className:"relative group w-32 h-32","data-interactive":"true",children:[s.jsx("div",{className:"w-full h-full",children:s.jsx($t,{card:{...ee,id:`lib_${R}`,deck:f(R)},isFaceUp:!0,playerColorMap:new Map})}),s.jsx("div",{onClick:()=>I(R),onContextMenu:q=>{q.preventDefault(),q.stopPropagation();const Y=[{label:"View",onClick:()=>ne(R,ee)},{isDivider:!0},{label:"Add to Deck",onClick:()=>I(R),disabled:c>=rn}];m({x:q.clientX,y:q.clientY,items:Y,onClose:()=>m(null)})},onMouseEnter:q=>se(q,ee),onMouseMove:me,onMouseLeave:fe,className:"absolute inset-0 bg-black bg-opacity-60 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"Add to Deck"})})]},R))})})]})]})]})}),T&&s.jsx(qi,{x:T.x,y:T.y,children:s.jsx(ps,{card:{...T.cardDef,id:"tooltip",deck:we.Command}})}),F&&s.jsx(kg,{...F})]}):null},Eg=({isOpen:e,onClose:t,onSave:n})=>{const[r,l]=k.useState(""),[o,a]=k.useState(!1);if(k.useEffect(()=>{if(e){const u=localStorage.getItem("custom_ws_url")||"";l(u);const d=localStorage.getItem("ui_list_mode");a(d===null?!0:d==="true")}},[e]),!e)return null;const i=()=>{localStorage.setItem("ui_list_mode",String(o)),window.dispatchEvent(new Event("storage")),n(r)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-xl w-full max-w-xl",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"server-url",className:"block text-sm font-medium text-gray-300 mb-1",children:"Server Address"}),s.jsx("input",{id:"server-url",type:"text",value:r,onChange:u=>l(u.target.value),placeholder:"e.g., ws://localhost:8080 or wss://my-server.com",className:"w-full bg-gray-700 border border-gray-600 text-white font-mono rounded-lg p-2 focus:ring-indigo-500 focus:border-indigo-500",onKeyUp:u=>u.key==="Enter"&&i()}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the full WebSocket address for the server. Leave blank to use the default."})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold",children:"List Mode Interface"}),s.jsx("p",{className:"text-xs text-gray-400",children:"In List Mode, your panel occupies the full left side of the screen, and cards in hand are shown as a list."})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o,onChange:u=>a(u.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),s.jsxs("div",{className:"flex justify-end mt-8 space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),s.jsx("button",{onClick:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"Save & Apply"})]})]})})},Jf="https://res.cloudinary.com/dxxh6meej/image/upload/v1763253337/SYN_RIOT_AGENT_jurf4t.png",Yf="/images/cards/SYN_RIOT_AGENT.png",qf="https://res.cloudinary.com/dxxh6meej/image/upload/v1763253332/OPT_PRINCEPS_w3o5lq.png",Qf="/images/cards/OPT_PRINCEPS.png",bg=e=>e===1?{id:`demo-riot-${Math.random()}`,deck:we.SynchroTech,name:"Riot Agent",imageUrl:Jf,fallbackImage:Yf,power:3,ability:`Support  Act: Place 1 stun on adjacent card. 
Act: Push an adjacent card 1 cell. ay take its place.`,ownerId:1,ownerName:"Player 1",statuses:[],types:["Unit","SynchroTech"]}:{id:`demo-princeps-${Math.random()}`,deck:we.Optimates,name:"Princeps",imageUrl:qf,fallbackImage:Qf,power:3,ability:`Act: Destroy a card in a row if it has a target or threat. 
Support  Shield 1.`,ownerId:2,ownerName:"Player 2",statuses:[],types:["Unit","Optimates"]},jg=new Map([[1,"blue"],[2,"red"]]),uo=[{id:"intro",title:"1. Introduction",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:'"New Avalon: Skirmish"'})," is a tactical card game where opponents control units simultaneously on a limited battlefield (grid)."]}),s.jsxs("p",{children:["The game uses a ",s.jsx("strong",{children:"Priority System"}),": whenever a player performs an action, other players get a chance to respond with Command cards."]})]}),demoConfig:[null,1,null,null,2,null,null,null,null]},{id:"components",title:"2. Components",content:s.jsx("div",{className:"text-left",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Deck:"})," 15100 cards (Units and Commands)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Battlefield:"})," Grid of 5x5, 6x6, or 7x7 cells."]})]})})},{id:"turn_order",title:"3. Turn Order",content:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"mb-2",children:"A turn consists of the following phases:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Deployment Phase:"})," Players place units on the board."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Abilities Phase:"})," Players trigger unit abilities."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scoring Phase:"})," Players score points from rows/columns."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Draw Phase:"})," Draw cards up to 6."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"End Phase:"})," Pass the First Player token."]})]}),s.jsx("p",{className:"mt-2 italic text-gray-400",children:"Note: Command cards can be played at any time a player has Priority."})]})},{id:"priority",title:"4. Priority",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Priority"})," is the right to perform an action."]}),s.jsx("p",{className:"mb-2",children:"A player receives priority:"}),s.jsxs("ul",{className:"list-disc list-inside ml-2 mb-2",children:[s.jsx("li",{children:"After declaring an action."}),s.jsx("li",{children:"After their action fully resolves."}),s.jsx("li",{children:"When phases change."}),s.jsx("li",{children:"After an opponent declares an action (to respond)."})]}),s.jsxs("p",{children:["When you have priority, you can: ",s.jsx("strong",{children:"Play a Command"}),", ",s.jsx("strong",{children:"Activate an Ability"}),", or ",s.jsx("strong",{children:"Pass"}),"."]})]})},{id:"stack",title:"5. The Stack",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-2",children:["Actions that can be interrupted go into the ",s.jsx("strong",{children:"Stack"}),"."]}),s.jsxs("ul",{className:"list-disc list-inside ml-2 mb-2",children:[s.jsx("li",{children:"Commands"}),s.jsx("li",{children:"Active Abilities"}),s.jsx("li",{children:"Triggered Abilities"})]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"LIFO (Last In, First Out):"})," The last action added to the stack is resolved first."]}),s.jsx("p",{className:"text-gray-400 italic",children:"Passive abilities do not use the stack."})]})},{id:"statuses_support",title:"6. Status: Support",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-4",children:["A unit gains ",s.jsx("strong",{children:"Support"})," if an allied unit is orthogonally adjacent (up, down, left, or right) to it."]}),s.jsx("p",{children:"Many card abilities become stronger if the unit has Support."})]}),demoConfig:[null,null,null,null,1,1,null,null,null],demoCardStatuses:{4:[{type:"Support",addedByPlayerId:1}],5:[{type:"Support",addedByPlayerId:1}]}},{id:"statuses_threat",title:"6. Status: Threat",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"mb-4",children:["A unit gains ",s.jsx("strong",{children:"Threat"})," in two situations:"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:'It is "sandwiched" between two enemy units (orthogonally).'}),s.jsx("li",{children:'It is "pinned" against the edge of the board by an enemy unit.'})]}),s.jsx("p",{className:"mt-2",children:"Threatened units are often vulnerable to destruction or debuffs."})]}),demoConfig:[null,2,null,null,1,null,null,2,null],demoCardStatuses:{4:[{type:"Threat",addedByPlayerId:2}]}},{id:"deployment",title:"7. Deployment Phase",content:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"mb-2",children:'Replaces old mechanics. The Active Player declares: "I am placing a unit."'}),s.jsx("p",{children:"Priority passes around. If everyone passes, the unit is placed face-up on an empty cell."}),s.jsx("p",{className:"mt-2",children:"Units cannot be placed on occupied cells."})]}),demoConfig:[null,null,null,null,1,null,null,null,null]},{id:"abilities",title:"8. Abilities Phase",content:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{children:"Players take turns activating their units' abilities."}),s.jsx("p",{children:"Announce ability  Place in Stack  Opponents respond  Resolve."})]})},{id:"scoring",title:"9. Scoring Phase",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{children:["A player selects ",s.jsx("strong",{children:"one row or column"}),"."]}),s.jsxs("p",{children:["They gain points equal to the total ",s.jsx("strong",{children:"Power"})," of all their units in that line."]}),s.jsx("p",{children:"Bonuses and penalties from statuses are applied."})]}),demoConfig:[1,1,1,null,null,null,null,null,null]},{id:"draw",title:"10. Draw Phase",content:s.jsx("div",{className:"text-left",children:s.jsxs("p",{children:["Each player draws cards from their deck until they have ",s.jsx("strong",{children:"6 cards"})," in hand."]})})},{id:"endgame",title:"12. End Game",content:s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{children:["The first player to reach ",s.jsx("strong",{children:"30 points"})," triggers the final round."]}),s.jsx("p",{children:"Every other player gets one last turn to try and beat that score."}),s.jsx("p",{children:"The player with the highest score wins."})]})},{id:"glossary",title:"13. Glossary",content:s.jsxs("dl",{className:"space-y-2 text-left",children:[s.jsx("dt",{className:"font-bold text-indigo-400",children:"Priority"}),s.jsx("dd",{className:"ml-4",children:"The right to act."}),s.jsx("dt",{className:"font-bold text-indigo-400",children:"Stack"}),s.jsx("dd",{className:"ml-4",children:"LIFO queue for resolving actions."}),s.jsx("dt",{className:"font-bold text-indigo-400",children:"Command"}),s.jsx("dd",{className:"ml-4",children:"One-time use card played from hand."}),s.jsx("dt",{className:"font-bold text-indigo-400",children:"Unit"}),s.jsx("dd",{className:"ml-4",children:"Card placed on the battlefield."})]})}],Tg=({config:e,cardStatuses:t})=>{const n=e||Array(9).fill(null);return s.jsx("div",{className:"bg-board-bg p-2 rounded-lg shadow-xl aspect-square w-full max-w-[400px] mx-auto grid grid-cols-3 grid-rows-3 gap-1",children:n.map((r,l)=>{const o=r?bg(r):null;return o&&t&&t[l]&&(o.statuses=t[l]),s.jsx("div",{className:"bg-board-cell rounded flex items-center justify-center relative",children:o?s.jsx("div",{className:"w-full h-full p-0.5",children:s.jsx($t,{card:o,isFaceUp:!0,playerColorMap:jg,localPlayerId:1})}):s.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full opacity-20"})},l)})})},Ig=({isOpen:e,onClose:t})=>{const[n,r]=k.useState(uo[0].id),l=k.useMemo(()=>uo.find(o=>o.id===n)||uo[0],[n]);return k.useEffect(()=>{e&&[Jf,qf,Yf,Qf].forEach(a=>{const i=new Image;i.src=a})},[e]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[100]",onClick:t,children:s.jsxs("div",{className:"bg-gray-900 w-[95vw] h-[90vh] rounded-xl shadow-2xl flex overflow-hidden border border-gray-700",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"w-1/4 min-w-[250px] bg-gray-800 border-r border-gray-700 flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"Encyclopedia"})}),s.jsx("div",{className:"flex-grow overflow-y-auto p-2 space-y-1",children:uo.map(o=>s.jsx("button",{onClick:()=>r(o.id),className:`w-full text-left px-4 py-3 rounded-md transition-colors text-sm font-medium ${n===o.id?"bg-indigo-600 text-white shadow-md":"text-gray-400 hover:bg-gray-700 hover:text-gray-200"}`,children:o.title},o.id))}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:s.jsx("button",{onClick:t,className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 rounded transition-colors",children:"Close Rules"})})]}),s.jsxs("div",{className:"w-2/5 p-8 overflow-y-auto border-r border-gray-700 bg-gray-900 text-left",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-6 border-b border-indigo-500 pb-2 inline-block",children:l.title}),s.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 leading-relaxed text-left",children:l.content})]}),s.jsxs("div",{className:"w-[35%] bg-gray-800 flex flex-col items-center justify-center p-8 relative",children:[s.jsx("h3",{className:"absolute top-6 left-0 right-0 text-center text-gray-400 text-sm uppercase tracking-widest font-bold",children:"Visual Demonstration"}),s.jsx("div",{className:"w-full",children:s.jsx(Tg,{config:l.demoConfig,cardStatuses:l.demoCardStatuses})}),s.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm italic max-w-xs",children:["Example of the rule in action on a 3x3 grid snippet. ",s.jsx("br",{}),s.jsx("span",{className:"text-blue-400 font-bold",children:"Riot Agent"})," = Friendly, ",s.jsx("span",{className:"text-red-400 font-bold",children:"Princeps"})," = Enemy."]})]})]})}):null},_g=4,Ec=7,Pg=()=>{const e=localStorage.getItem("custom_ws_url");if(e&&e.trim()!=="")return console.log(`Using custom WebSocket URL: ${e}`),e.trim();const t=window.location.protocol==="https:"?"wss":"ws",n=window.location.hostname||"localhost";return window.location.port&&window.location.port!=="80"&&window.location.port!=="443"&&window.location.hostname==="localhost"?"wss://platinocyanic-unsceptically-belia.ngrok-free.dev":`${t}://${n}`},Dg=()=>Math.random().toString(36).substring(2,18).toUpperCase(),bc=()=>Array(Ec).fill(null).map(()=>Array(Ec).fill({card:null})),tn=e=>{const{board:t,activeGridSize:n,players:r}=e,l=JSON.parse(JSON.stringify(t)),o=l.length,a=Math.floor((o-n)/2),i=new Map;r.forEach(u=>i.set(u.id,u.teamId));for(let u=0;u<o;u++)for(let d=0;d<o;d++){const w=l[u][d].card;w&&w.statuses&&(w.statuses=w.statuses.filter(v=>v.type!=="Support"&&v.type!=="Threat"))}for(let u=0;u<o;u++)for(let d=0;d<o;d++){const w=l[u][d].card;if(!w||w.ownerId===void 0||w.isFaceDown)continue;const v=w.ownerId,C=i.get(v),T=[{r:u-1,c:d},{r:u+1,c:d},{r:u,c:d-1},{r:u,c:d+1}],j={};let E=!1;for(const m of T){const{r:c,c:f}=m;if(c>=0&&c<o&&f>=0&&f<o){const p=l[c][f].card;if(p&&p.ownerId!==void 0&&!p.isFaceDown){const I=p.ownerId,L=i.get(I);v===I||C!==void 0&&C===L?E=!0:(j[I]||(j[I]=[]),j[I].push({r:c,c:f}))}}}E&&(w.statuses||(w.statuses=[]),w.statuses.some(m=>m.type==="Support")||w.statuses.push({type:"Support",addedByPlayerId:v}));let F=null;for(const m in j)if(j[m].length>=2){F=parseInt(m,10);break}if(F===null&&u>=a&&u<a+n&&d>=a&&d<a+n){const c=u===a||u===a+n-1||d===a||d===a+n-1,f=Object.keys(j).length>0;c&&f&&(F=parseInt(Object.keys(j)[0],10))}F!==null&&(w.statuses||(w.statuses=[]),w.statuses.some(m=>m.type==="Threat")||w.statuses.push({type:"Threat",addedByPlayerId:F}))}return l},Rg=()=>{const e=k.useCallback((g,y,x)=>{const N=Qa[g];if(!N)return console.error(`Deck data for ${g} not loaded! Returning empty deck.`),[];const b=[...N].map(O=>({...O,ownerId:y,ownerName:x}));return ta(b)},[]),t=k.useCallback((g,y=!1)=>{const x=Object.keys(Qa)[0],N={id:g,name:y?`Dummy ${g-1}`:`Player ${g}`,score:0,hand:[],deck:[],discard:[],announcedCard:null,selectedDeck:x,color:Hf[g-1]||"blue",isDummy:y,isReady:!1};return N.deck=e(x,g,N.name),N},[e]),n=k.useCallback(()=>({players:[],board:bc(),activeGridSize:7,gameId:null,dummyPlayerCount:0,isGameStarted:!1,gameMode:On.FreeForAll,isPrivate:!0,isReadyCheckActive:!1,revealRequests:[],activeTurnPlayerId:void 0,currentPhase:0}),[]),[r,l]=k.useState(n),[o,a]=k.useState(null),[i,u]=k.useState(null),[d,w]=k.useState("Connecting"),[v,C]=k.useState([]),[T,j]=k.useState(null),E=k.useRef(null),F=k.useRef(null),m=k.useRef(null);k.useRef(new Set);const c=k.useRef(r);k.useEffect(()=>{c.current=r},[r]);const f=k.useRef(o);k.useEffect(()=>{f.current=o},[o]);const p=k.useCallback(g=>{l(y=>{const x=typeof g=="function"?g(y):g;return E.current&&E.current.readyState===WebSocket.OPEN&&E.current.send(JSON.stringify({type:"UPDATE_STATE",gameState:x})),x})},[]);k.useCallback(()=>{var g;((g=E.current)==null?void 0:g.readyState)===WebSocket.OPEN&&f.current===1&&(console.log("Sending UPDATE_DECK_DATA to server..."),E.current.send(JSON.stringify({type:"UPDATE_DECK_DATA",deckData:vn})))},[]);const I=k.useCallback(()=>{if(E.current&&E.current.readyState!==WebSocket.CLOSED)return;const g=Pg();try{E.current=new WebSocket(g)}catch(y){console.error("Failed to create WebSocket:",y),w("Disconnected"),F.current&&clearTimeout(F.current),F.current=window.setTimeout(I,3e3);return}w("Connecting"),E.current.onopen=()=>{var x;console.log("WebSocket connection established"),w("Connected");const y=c.current;y&&y.gameId&&((x=E.current)==null?void 0:x.readyState)===WebSocket.OPEN&&(E.current.send(JSON.stringify({type:"SUBSCRIBE",gameId:y.gameId})),f.current===1&&E.current.send(JSON.stringify({type:"UPDATE_DECK_DATA",deckData:vn})))},E.current.onmessage=y=>{try{const x=JSON.parse(y.data);if(x.type==="GAMES_LIST")C(x.games);else if(x.type==="JOIN_SUCCESS"){a(x.playerId);const N=m.current;N&&x.playerId!==null&&x.playerToken?localStorage.setItem("reconnection_data",JSON.stringify({gameId:N,playerId:x.playerId,playerToken:x.playerToken,timestamp:Date.now()})):x.playerId===null&&localStorage.removeItem("reconnection_data"),m.current=null,x.playerId===1&&setTimeout(()=>{var b;((b=E.current)==null?void 0:b.readyState)===WebSocket.OPEN&&E.current.send(JSON.stringify({type:"UPDATE_DECK_DATA",deckData:vn}))},500)}else x.type==="ERROR"?(alert(x.message),localStorage.removeItem("reconnection_data"),l(n()),a(null)):x.type==="HIGHLIGHT_TRIGGERED"?j(x.highlightData):l(x)}catch(x){console.error("Failed to parse message from server:",y.data,x)}},E.current.onclose=()=>{console.log("WebSocket connection closed. Attempting to reconnect..."),w("Disconnected"),F.current&&clearTimeout(F.current),F.current=window.setTimeout(I,3e3)},E.current.onerror=y=>console.error("WebSocket error event:",y)},[l,n]),L=k.useCallback(()=>{E.current&&(console.log("Forcing WebSocket reconnection..."),E.current.close())},[]),V=k.useCallback(g=>{var y;if(((y=E.current)==null?void 0:y.readyState)===WebSocket.OPEN){m.current=g;let x=null;try{const b=localStorage.getItem("reconnection_data");b&&(x=JSON.parse(b))}catch(b){console.error("Could not parse reconnection data:",b),localStorage.removeItem("reconnection_data")}const N={type:"JOIN_GAME",gameId:g};x&&x.gameId===g&&x.playerToken&&(N.playerToken=x.playerToken),E.current.send(JSON.stringify(N))}else alert("Could not connect to the server. Please try refreshing the page.")},[]);k.useEffect(()=>(localStorage.removeItem("reconnection_data"),I(),()=>{F.current&&clearTimeout(F.current),E.current&&(E.current.onclose=null,E.current.close())}),[I]);const K=k.useCallback(()=>{var x;localStorage.removeItem("reconnection_data");const g=Dg(),y={...n(),gameId:g,players:[t(1)]};p(y),((x=E.current)==null?void 0:x.readyState)===WebSocket.OPEN&&(E.current.send(JSON.stringify({type:"SUBSCRIBE",gameId:g})),E.current.send(JSON.stringify({type:"UPDATE_DECK_DATA",deckData:vn})))},[p,n,t]),G=k.useCallback(()=>{var g;((g=E.current)==null?void 0:g.readyState)===WebSocket.OPEN&&E.current.send(JSON.stringify({type:"GET_GAMES_LIST"}))},[]),ne=k.useCallback(()=>{var x;const g=c.current.gameId,y=f.current;l(n()),a(null),localStorage.removeItem("reconnection_data"),((x=E.current)==null?void 0:x.readyState)===WebSocket.OPEN&&g&&y!==null&&E.current.send(JSON.stringify({type:"LEAVE_GAME",gameId:g,playerId:y}))},[n]),se=k.useCallback(()=>{p(g=>({...g,isGameStarted:!0}))},[p]),me=k.useCallback(()=>{var g;((g=E.current)==null?void 0:g.readyState)===WebSocket.OPEN&&c.current.gameId&&E.current.send(JSON.stringify({type:"START_READY_CHECK",gameId:c.current.gameId}))},[]),fe=k.useCallback(()=>{var g;((g=E.current)==null?void 0:g.readyState)===WebSocket.OPEN&&c.current.gameId&&f.current!==null&&E.current.send(JSON.stringify({type:"PLAYER_READY",gameId:c.current.gameId,playerId:f.current}))},[]),R=k.useCallback(g=>{var y;((y=E.current)==null?void 0:y.readyState)===WebSocket.OPEN&&c.current.gameId&&E.current.send(JSON.stringify({type:"ASSIGN_TEAMS",gameId:c.current.gameId,assignments:g}))},[]),ee=k.useCallback(g=>{var y;((y=E.current)==null?void 0:y.readyState)===WebSocket.OPEN&&c.current.gameId&&E.current.send(JSON.stringify({type:"SET_GAME_MODE",gameId:c.current.gameId,mode:g}))},[]),q=k.useCallback(g=>{var y;((y=E.current)==null?void 0:y.readyState)===WebSocket.OPEN&&c.current.gameId&&E.current.send(JSON.stringify({type:"SET_GAME_PRIVACY",gameId:c.current.gameId,isPrivate:g}))},[]),Y=k.useCallback(()=>{var g;if(((g=E.current)==null?void 0:g.readyState)===WebSocket.OPEN&&c.current.gameId&&f.current===1){E.current.send(JSON.stringify({type:"UPDATE_DECK_DATA",deckData:vn}));const y=c.current,x=JSON.parse(JSON.stringify(y));x.players.forEach(N=>{if(["hand","deck","discard"].forEach(b=>{N[b]&&(N[b]=N[b].map(O=>{const P=ea(O.name);return P?{...O,...P}:O}))}),N.announcedCard){const b=ea(N.announcedCard.name);b&&(N.announcedCard={...N.announcedCard,...b})}}),x.board.forEach(N=>{N.forEach(b=>{if(b.card){const O=ea(b.card.name);O&&(b.card={...b.card,...O})}})}),E.current.send(JSON.stringify({type:"FORCE_SYNC",gameState:x})),l(x)}},[]),z=k.useCallback(()=>{p(g=>{if(f.current!==1)return g;const y=g.players.map(x=>{const N=e(x.selectedDeck,x.id,x.name);return{...x,hand:[],deck:N,discard:[],announcedCard:null,score:0,isReady:!1}});return{...g,players:y,board:bc(),isGameStarted:!1,isReadyCheckActive:!1,revealRequests:[],activeTurnPlayerId:void 0,currentPhase:0}})},[p,e]),A=k.useCallback(g=>{p(y=>{if(y.isGameStarted)return y;const x={...y,activeGridSize:g};return x.board=tn(x),x})},[p]),W=k.useCallback(g=>{p(y=>{if(y.isGameStarted)return y;const x=y.players.filter(b=>!b.isDummy);if(x.length+g>_g)return y;const N=[...x];for(let b=0;b<g;b++){const O=N.length+1,P=t(O,!0);P.name=`Dummy ${b+1}`,N.push(P)}return{...y,players:N,dummyPlayerCount:g}})},[p,t]),oe=k.useCallback((g,y,x)=>{p(N=>{var P;if(!N.isGameStarted)return N;const b=JSON.parse(JSON.stringify(N)),O=b.board[g.row][g.col].card;if(O){if(["Support","Threat","Revealed"].includes(y)&&((P=O.statuses)==null?void 0:P.some(le=>le.type===y&&le.addedByPlayerId===x)))return N;O.statuses||(O.statuses=[]),O.statuses.push({type:y,addedByPlayerId:x})}return b})},[p]),pe=k.useCallback((g,y)=>{p(x=>{if(!x.isGameStarted)return x;const N=JSON.parse(JSON.stringify(x)),b=N.board[g.row][g.col].card;if(b!=null&&b.statuses){const O=b.statuses.map(P=>P.type).lastIndexOf(y);O>-1&&b.statuses.splice(O,1)}return N})},[p]),Ee=k.useCallback((g,y)=>{p(x=>{if(!x.isGameStarted)return x;const N=JSON.parse(JSON.stringify(x)),b=N.board[g.row][g.col].card;return b&&(b.powerModifier===void 0&&(b.powerModifier=0),b.powerModifier+=y),N})},[p]),ce=k.useCallback((g,y,x)=>{p(N=>{var P;if(!N.isGameStarted)return N;const b=JSON.parse(JSON.stringify(N)),O=b.players.find(re=>re.id===g);if(O&&O.announcedCard){if(["Support","Threat","Revealed"].includes(y)&&((P=O.announcedCard.statuses)==null?void 0:P.some(le=>le.type===y&&le.addedByPlayerId===x)))return N;O.announcedCard.statuses||(O.announcedCard.statuses=[]),O.announcedCard.statuses.push({type:y,addedByPlayerId:x})}return b})},[p]),ze=k.useCallback((g,y)=>{p(x=>{var O;if(!x.isGameStarted)return x;const N=JSON.parse(JSON.stringify(x)),b=N.players.find(P=>P.id===g);if(b&&((O=b.announcedCard)!=null&&O.statuses)){const P=b.announcedCard.statuses.map(re=>re.type).lastIndexOf(y);P>-1&&b.announcedCard.statuses.splice(P,1)}return N})},[p]),Fe=k.useCallback((g,y)=>{p(x=>{if(!x.isGameStarted)return x;const N=JSON.parse(JSON.stringify(x)),b=N.players.find(O=>O.id===g);return b&&b.announcedCard&&(b.announcedCard.powerModifier===void 0&&(b.announcedCard.powerModifier=0),b.announcedCard.powerModifier+=y),N})},[p]),ae=k.useCallback((g,y,x,N)=>{p(b=>{var re;if(!b.isGameStarted)return b;const O=JSON.parse(JSON.stringify(b)),P=O.players.find(le=>le.id===g);if(P&&P.hand[y]){const le=P.hand[y];if(["Support","Threat","Revealed"].includes(x)&&((re=le.statuses)==null?void 0:re.some(de=>de.type===x&&de.addedByPlayerId===N)))return b;le.statuses||(le.statuses=[]),le.statuses.push({type:x,addedByPlayerId:N})}return O})},[p]),Z=k.useCallback((g,y,x)=>{p(N=>{if(!N.isGameStarted)return N;const b=JSON.parse(JSON.stringify(N)),O=b.players.find(re=>re.id===g),P=O==null?void 0:O.hand[y];if(P!=null&&P.statuses){const re=P.statuses.map(le=>le.type).lastIndexOf(x);re>-1&&P.statuses.splice(re,1),x==="Revealed"&&(P.statuses.some(J=>J.type==="Revealed")||delete P.revealedTo)}return b})},[p]),Se=k.useCallback(g=>{p(y=>{if(!y.isGameStarted)return y;const x=JSON.parse(JSON.stringify(y)),N=x.board[g.row][g.col].card;return N&&(N.isFaceDown=!1),x.board=tn(x),x})},[p]),Ne=k.useCallback(g=>{p(y=>{if(!y.isGameStarted)return y;const x=JSON.parse(JSON.stringify(y)),N=x.board[g.row][g.col].card;return N&&(N.isFaceDown=!0),x.board=tn(x),x})},[p]),We=k.useCallback((g,y,x)=>{p(N=>{const b=N.players.find(re=>re.id===g);if(!b||!b.hand[y])return N;const O=JSON.parse(JSON.stringify(N)),P=O.players.find(re=>re.id===g).hand[y];if(x==="all")P.revealedTo="all",P.statuses||(P.statuses=[]),P.statuses.some(re=>re.type==="Revealed"&&re.addedByPlayerId===g)||P.statuses.push({type:"Revealed",addedByPlayerId:g});else{(!P.revealedTo||P.revealedTo==="all"||!Array.isArray(P.revealedTo))&&(P.revealedTo=[]);const re=x.filter(le=>!P.revealedTo.includes(le));P.revealedTo.push(...re)}return O})},[p]),$e=k.useCallback((g,y)=>{p(x=>{if(!x.board[g.row][g.col].card)return x;const b=JSON.parse(JSON.stringify(x)),O=b.board[g.row][g.col].card,P=O.ownerId;if(y==="all")O.revealedTo="all",P!==void 0&&(O.statuses||(O.statuses=[]),O.statuses.some(re=>re.type==="Revealed"&&re.addedByPlayerId===P)||O.statuses.push({type:"Revealed",addedByPlayerId:P}));else{(!O.revealedTo||O.revealedTo==="all"||!Array.isArray(O.revealedTo))&&(O.revealedTo=[]);const re=y.filter(le=>!O.revealedTo.includes(le));O.revealedTo.push(...re)}return b})},[p]),bt=k.useCallback((g,y)=>{p(x=>{var P;const N=g.boardCoords?(P=x.board[g.boardCoords.row][g.boardCoords.col].card)==null?void 0:P.ownerId:g.ownerId;if(!N)return x;const b=JSON.parse(JSON.stringify(x)),O=b.revealRequests.find(re=>re.fromPlayerId===y&&re.toPlayerId===N);return O?O.cardIdentifiers.some(le=>JSON.stringify(le)===JSON.stringify(g))||O.cardIdentifiers.push(g):b.revealRequests.push({fromPlayerId:y,toPlayerId:N,cardIdentifiers:[g]}),b})},[p]),Vt=k.useCallback((g,y)=>{p(x=>{const N=x.revealRequests.findIndex(P=>P.toPlayerId===f.current&&P.fromPlayerId===g);if(N===-1)return x;const b=JSON.parse(JSON.stringify(x)),O=b.revealRequests[N];if(y){const{toPlayerId:P,cardIdentifiers:re}=O;for(const le of re){let J=null;if(le.source==="board"&&le.boardCoords)J=b.board[le.boardCoords.row][le.boardCoords.col].card;else if(le.source==="hand"&&le.ownerId&&le.cardIndex!==void 0){const de=b.players.find(ye=>ye.id===le.ownerId);de&&(J=de.hand[le.cardIndex])}J&&(J.statuses||(J.statuses=[]),J.statuses.some(de=>de.type==="Revealed"&&de.addedByPlayerId===g)||J.statuses.push({type:"Revealed",addedByPlayerId:g}))}}return b.revealRequests.splice(N,1),b})},[p]),je=k.useCallback(g=>{p(y=>{const x=JSON.parse(JSON.stringify(y));let N=null;if(g.source==="board"&&g.boardCoords)N=x.board[g.boardCoords.row][g.boardCoords.col].card;else if(g.source==="hand"&&g.playerId&&g.cardIndex!==void 0){const b=x.players.find(O=>O.id===g.playerId);b&&(N=b.hand[g.cardIndex])}return N&&(N.statuses&&(N.statuses=N.statuses.filter(b=>b.type!=="Revealed")),delete N.revealedTo),x})},[p]),sr=k.useCallback((g,y)=>{p(x=>x.isGameStarted?x:{...x,players:x.players.map(N=>N.id===g?{...N,name:y}:N)})},[p]),ms=k.useCallback((g,y)=>{p(x=>x.isGameStarted||x.players.some(b=>b.id!==g&&!b.isDummy&&b.color===y)?x:{...x,players:x.players.map(b=>b.id===g?{...b,color:y}:b)})},[p]),$l=k.useCallback((g,y)=>{p(x=>x.isGameStarted?{...x,players:x.players.map(N=>N.id===g?{...N,score:N.score+y}:N)}:x)},[p]),hs=k.useCallback((g,y)=>{p(x=>x.isGameStarted?x:{...x,players:x.players.map(N=>N.id===g?{...N,deck:e(y,g,N.name),selectedDeck:y,hand:[],discard:[],announcedCard:null}:N)})},[p,e]),gs=k.useCallback((g,y)=>{p(x=>{if(x.isGameStarted)return x;const N=x.players.find(P=>P.id===g);if(!N)return x;const b=[];let O=new Map;for(const{cardId:P,quantity:re}of y.cards){const le=Jo(P);if(!le)continue;const J=Ko.has(P),de=J?we.Command:we.Custom,ye=J?"CMD":"CUS";for(let ue=0;ue<re;ue++){const Oe=(O.get(P)||0)+1;O.set(P,Oe),b.push({...le,id:`${ye}_${P.toUpperCase()}_${Oe}`,deck:de,ownerId:g,ownerName:N.name})}}return{...x,players:x.players.map(P=>P.id===g?{...P,deck:ta(b),selectedDeck:we.Custom,hand:[],discard:[],announcedCard:null}:P)}})},[p]),ys=k.useCallback(g=>{p(y=>{if(!y.isGameStarted)return y;const x=y.players.find(P=>P.id===g);if(!x||x.deck.length===0)return y;const N=JSON.parse(JSON.stringify(y)),b=N.players.find(P=>P.id===g),O=b.deck.shift();return O&&b.hand.push(O),N})},[p]),Br=k.useCallback(g=>{p(y=>{if(!y.isGameStarted||!y.players.find(O=>O.id===g))return y;const N=JSON.parse(JSON.stringify(y)),b=N.players.find(O=>O.id===g);return b.deck=ta(b.deck),N})},[p]),vs=k.useCallback(g=>{p(y=>{const x=y.activeTurnPlayerId===g?void 0:g;return{...y,activeTurnPlayerId:x}})},[p]),Bl=k.useCallback(g=>{p(y=>y.isGameStarted?{...y,currentPhase:Math.max(0,Math.min(g,Xa.length-1))}:y)},[p]),xs=k.useCallback(()=>{p(g=>{if(!g.isGameStarted)return g;const y=g.currentPhase+1;if(y>=Xa.length){const x=g.activeTurnPlayerId,N=JSON.parse(JSON.stringify(g));x!==void 0&&N.board.forEach(O=>{O.forEach(P=>{if(P.card&&P.card.ownerId===x&&P.card.statuses){const re=P.card.statuses.findIndex(le=>le.type==="Stun");re!==-1&&P.card.statuses.splice(re,1)}})});let b=x;if(b!==void 0){const O=[...N.players].sort((re,le)=>re.id-le.id),P=O.findIndex(re=>re.id===b);if(P!==-1){let re=(P+1)%O.length;b=O[re].id}}return N.currentPhase=0,N.activeTurnPlayerId=b,N.board.forEach(O=>{O.forEach(P=>{P.card&&(delete P.card.enteredThisTurn,delete P.card.abilityUsedInPhase)})}),N}else return{...g,currentPhase:y}})},[p]),Gr=k.useCallback(()=>{p(g=>g.isGameStarted?{...g,currentPhase:Math.max(0,g.currentPhase-1)}:g)},[p]),Hr=k.useCallback((g,y)=>{p(x=>{var P,re,le;if(!x.isGameStarted||y.target==="board"&&y.boardCoords&&x.board[y.boardCoords.row][y.boardCoords.col].card!==null&&g.source!=="counter_panel")return x;const N=JSON.parse(JSON.stringify(x));if(g.source==="board"&&["hand","deck","discard"].includes(y.target)&&!g.bypassOwnershipCheck){const J=g.card.ownerId,de=N.players.find(Oe=>Oe.id===J),ye=J===f.current,ue=!!(de!=null&&de.isDummy);if(!ye&&!ue)return x}if(g.source==="board"&&y.target==="board"){let de=g.card;if(g.boardCoords){const ue=x.board[g.boardCoords.row][g.boardCoords.col];ue.card&&(de=ue.card)}if((P=de.statuses)==null?void 0:P.some(ue=>ue.type==="Stun")){const ue=f.current,Oe=de.ownerId,Ze=x.players.find(Q=>Q.id===ue),at=x.players.find(Q=>Q.id===Oe),Be=ue===Oe,Pe=(Ze==null?void 0:Ze.teamId)!==void 0&&(at==null?void 0:at.teamId)!==void 0&&Ze.teamId===at.teamId;if(Be||Pe)return x}}if(g.source==="counter_panel"&&g.statusType){const J=Fl[g.statusType];if(!((J==null?void 0:J.allowedTargets)||["board","hand"]).includes(y.target))return x;let ye=null;if(y.target==="board"&&y.boardCoords)ye=N.board[y.boardCoords.row][y.boardCoords.col].card;else if(y.playerId!==void 0){const ue=N.players.find(Oe=>Oe.id===y.playerId);ue&&(y.target==="hand"&&y.cardIndex!==void 0&&(ye=ue.hand[y.cardIndex]),y.target==="announced"&&(ye=ue.announcedCard||null),y.target==="deck"&&ue.deck.length>0?y.deckPosition==="top"||!y.deckPosition?ye=ue.deck[0]:ye=ue.deck[ue.deck.length-1]:y.target==="discard"&&ue.discard.length>0&&(ye=ue.discard[ue.discard.length-1]))}if(ye){const ue=g.count||1;if(g.statusType==="Power+")ye.powerModifier===void 0&&(ye.powerModifier=0),ye.powerModifier+=1*ue;else if(g.statusType==="Power-")ye.powerModifier===void 0&&(ye.powerModifier=0),ye.powerModifier-=1*ue;else{ye.statuses||(ye.statuses=[]);for(let Oe=0;Oe<ue;Oe++)["Support","Threat","Revealed"].includes(g.statusType)?!ye.statuses.some(at=>at.type===g.statusType&&at.addedByPlayerId===f.current)&&f.current!==null&&ye.statuses.push({type:g.statusType,addedByPlayerId:f.current}):f.current!==null&&ye.statuses.push({type:g.statusType,addedByPlayerId:f.current})}return y.target==="board"&&(N.board=tn(N)),N}return x}let b={...g.card};if(g.source==="hand"&&g.playerId!==void 0&&g.cardIndex!==void 0){const J=N.players.find(de=>de.id===g.playerId);J&&J.hand.splice(g.cardIndex,1)}else if(g.source==="board"&&g.boardCoords)N.board[g.boardCoords.row][g.boardCoords.col].card=null;else if(g.source==="discard"&&g.playerId!==void 0&&g.cardIndex!==void 0){const J=N.players.find(de=>de.id===g.playerId);J&&J.discard.splice(g.cardIndex,1)}else if(g.source==="deck"&&g.playerId!==void 0&&g.cardIndex!==void 0){const J=N.players.find(de=>de.id===g.playerId);J&&J.deck.splice(g.cardIndex,1)}else if(g.source==="announced"&&g.playerId!==void 0){const J=N.players.find(de=>de.id===g.playerId);J&&(J.announcedCard=null)}if(["hand","deck","discard"].includes(y.target)?(b.statuses&&(b.statuses=b.statuses.filter(J=>J.type==="Revealed")),b.isFaceDown=!1,delete b.powerModifier,delete b.enteredThisTurn,delete b.abilityUsedInPhase):y.target==="board"&&(b.statuses||(b.statuses=[]),g.source!=="board"&&b.isFaceDown===void 0&&(b.isFaceDown=!1),g.source!=="board"&&(b.enteredThisTurn=!0)),y.target==="hand"&&y.playerId!==void 0){if(b.deck===we.Tokens||b.deck==="counter")return N;const J=N.players.find(de=>de.id===y.playerId);J&&J.hand.push(b)}else if(y.target==="board"&&y.boardCoords){if(N.board[y.boardCoords.row][y.boardCoords.col].card===null){if(b.ownerId===void 0&&f.current!==null){const J=N.players.find(de=>de.id===f.current);J&&(b.ownerId=J.id,b.ownerName=J.name)}N.board[y.boardCoords.row][y.boardCoords.col].card=b}}else if(y.target==="discard"&&y.playerId!==void 0){if(!(b.deck===we.Tokens||b.deck==="counter")){const J=N.players.find(de=>de.id===y.playerId);J&&J.discard.push(b)}}else if(y.target==="deck"&&y.playerId!==void 0){if(b.deck===we.Tokens||b.deck==="counter")return N;const J=N.players.find(de=>de.id===y.playerId);J&&(y.deckPosition==="top"?J.deck.unshift(b):J.deck.push(b))}else if(y.target==="announced"&&y.playerId!==void 0){const J=N.players.find(de=>de.id===y.playerId);J&&(J.announcedCard&&(J.announcedCard.statuses&&(J.announcedCard.statuses=J.announcedCard.statuses.filter(de=>de.type==="Revealed")),delete J.announcedCard.enteredThisTurn,delete J.announcedCard.abilityUsedInPhase,delete J.announcedCard.powerModifier,J.hand.push(J.announcedCard)),J.announcedCard=b)}if(g.source==="hand"&&y.target==="board"){const J=b;if(J.revealedTo==="all"||((re=J.statuses)==null?void 0:re.some(ye=>ye.type==="Revealed"))){const ye=N.board.length;for(let ue=0;ue<ye;ue++)for(let Oe=0;Oe<ye;Oe++){const Ze=N.board[ue][Oe].card;if(Ze&&Ze.name.toLowerCase().includes("vigilant spotter")&&Ze.ownerId!==J.ownerId&&(N.board=tn(N),(le=N.board[ue][Oe].card.statuses)!=null&&le.some(Be=>Be.type==="Support"))){const Be=N.players.find(Pe=>Pe.id===Ze.ownerId);Be&&(Be.score+=2)}}}}return(g.source==="board"||y.target==="board")&&(N.board=tn(N)),N})},[p]),Fn=k.useCallback(g=>{var y;if(((y=E.current)==null?void 0:y.readyState)===WebSocket.OPEN&&c.current.gameId){const x={...g,timestamp:Date.now()};E.current.send(JSON.stringify({type:"TRIGGER_HIGHLIGHT",gameId:c.current.gameId,highlightData:x}))}},[]),Gl=k.useCallback(g=>{p(y=>{if(!y.isGameStarted)return y;const x=JSON.parse(JSON.stringify(y)),N=x.board[g.row][g.col].card;return N&&(N.abilityUsedInPhase=x.currentPhase),x})},[p]),$n=k.useCallback((g,y)=>{p(x=>{if(!x.isGameStarted)return x;const N=JSON.parse(JSON.stringify(x)),b=N.board[g.row][g.col].card,O=N.board[y.row][y.col].card;return N.board[g.row][g.col].card=O,N.board[y.row][y.col].card=b,N.board=tn(N),N})},[p]),ws=k.useCallback((g,y,x)=>{p(N=>{if(!N.isGameStarted)return N;const b=JSON.parse(JSON.stringify(N)),O=b.board[g.row][g.col].card,P=b.board[y.row][y.col].card;if(O&&P&&O.statuses){const re=O.statuses.findIndex(le=>le.type===x);if(re>-1){const[le]=O.statuses.splice(re,1);P.statuses||(P.statuses=[]),P.statuses.push(le)}}return b.board=tn(b),b})},[p]),Vr=k.useCallback((g,y)=>{p(x=>{if(!x.isGameStarted)return x;const N=JSON.parse(JSON.stringify(x)),b=N.players.find(O=>O.id===g);if(b&&b.discard.length>y){const[O]=b.discard.splice(y,1);b.hand.push(O)}return N})},[p]),Cs=k.useCallback((g,y,x)=>{p(N=>{if(!N.isGameStarted)return N;const b=JSON.parse(JSON.stringify(N)),O=Object.keys(vn.tokenDatabase).find(le=>vn.tokenDatabase[le].name===y);if(!O)return N;const P=vn.tokenDatabase[O],re=b.players.find(le=>le.id===x);if(P&&b.board[g.row][g.col].card===null){const le={id:`TKN_${y.toUpperCase().replace(/\s/g,"_")}_${Date.now()}`,deck:we.Tokens,name:y,imageUrl:P.imageUrl,fallbackImage:P.fallbackImage,power:P.power,ability:P.ability,color:P.color,types:P.types||["Unit"],faction:"Tokens",ownerId:x,ownerName:re==null?void 0:re.name,enteredThisTurn:!0};b.board[g.row][g.col].card=le}return b.board=tn(b),b})},[p]),Wr=k.useCallback((g,y,x,N,b)=>{p(O=>{var at;if(!O.isGameStarted)return O;const P=JSON.parse(JSON.stringify(O)),re=P.players.find(Be=>Be.id===b);if(!re)return O;let le=0;const J=P.board.length,de=(Be,Pe)=>{var yt,Bn;if(Be.ownerId===Pe)return!0;const Q=(yt=Be.statuses)==null?void 0:yt.some(Xt=>Xt.type==="Exploit"&&Xt.addedByPlayerId===Pe);let ke=!1;for(let Xt=0;Xt<J;Xt++)for(let ar=0;ar<J;ar++){const mn=P.board[Xt][ar].card;mn&&mn.ownerId===Pe&&mn.name.toLowerCase().includes("data liberator")&&(Bn=mn.statuses)!=null&&Bn.some(ks=>ks.type==="Support")&&(ke=!0)}return!!(Q&&ke)};let ye=g,ue=g,Oe=y,Ze=y;if(g===x)ye=g,ue=g,Oe=0,Ze=J-1;else if(y===N)Oe=y,Ze=y,ye=0,ue=J-1;else return O;for(let Be=ye;Be<=ue;Be++)for(let Pe=Oe;Pe<=Ze;Pe++){const Q=P.board[Be][Pe];Q.card&&!((at=Q.card.statuses)!=null&&at.some(ke=>ke.type==="Stun"))&&de(Q.card,b)&&(le+=Math.max(0,Q.card.power+(Q.card.powerModifier||0)))}return re.score+=le,P})},[p]);return{gameState:r,localPlayerId:o,setLocalPlayerId:a,draggedItem:i,setDraggedItem:u,connectionStatus:d,gamesList:v,latestHighlight:T,createGame:K,joinGame:V,requestGamesList:G,exitGame:ne,startGame:se,startReadyCheck:me,playerReady:fe,assignTeams:R,setGameMode:ee,setGamePrivacy:q,setActiveGridSize:A,setDummyPlayerCount:W,updatePlayerName:sr,changePlayerColor:ms,updatePlayerScore:$l,changePlayerDeck:hs,loadCustomDeck:gs,drawCard:ys,shufflePlayerDeck:Br,moveItem:Hr,handleDrop:Hr,addBoardCardStatus:oe,removeBoardCardStatus:pe,modifyBoardCardPower:Ee,addAnnouncedCardStatus:ce,removeAnnouncedCardStatus:ze,modifyAnnouncedCardPower:Fe,addHandCardStatus:ae,removeHandCardStatus:Z,flipBoardCard:Se,flipBoardCardFaceDown:Ne,revealHandCard:We,revealBoardCard:$e,requestCardReveal:bt,respondToRevealRequest:Vt,syncGame:Y,removeRevealedStatus:je,resetGame:z,toggleActiveTurnPlayer:vs,forceReconnect:L,triggerHighlight:Fn,nextPhase:xs,prevPhase:Gr,setPhase:Bl,markAbilityUsed:Gl,swapCards:$n,transferStatus:ws,recoverDiscardedCard:Vr,spawnToken:Cs,scoreLine:Wr}},Og=({x:e,y:t,items:n,onClose:r})=>{const l=e+200>window.innerWidth?window.innerWidth-210:e,o=n.reduce((i,u)=>i+("isDivider"in u?9:32),0),a=t+o>window.innerHeight?window.innerHeight-o-10:t;return s.jsx("div",{className:"fixed bg-gray-900 border border-gray-700 rounded-md shadow-lg z-[100] py-1",style:{top:a,left:l},onClick:i=>i.stopPropagation(),children:n.map((i,u)=>"isDivider"in i?s.jsx("hr",{className:"border-gray-700 my-1"},`divider-${u}`):"onClick"in i?s.jsx("button",{onClick:()=>{i.disabled||(i.onClick(),r())},disabled:i.disabled,className:"block w-full text-left px-4 py-1 text-sm text-white hover:bg-indigo-600 disabled:text-gray-500 disabled:cursor-not-allowed disabled:bg-gray-800",style:{fontWeight:i.isBold?"bold":"normal"},children:i.label},u):s.jsxs("div",{className:"flex items-center justify-between px-4 py-1 text-sm text-white w-full space-x-2",children:[s.jsx("button",{onClick:d=>{d.stopPropagation(),i.onRemove()},disabled:i.removeDisabled,className:"w-7 h-6 flex items-center justify-center bg-gray-700 hover:bg-red-600 rounded disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed font-mono text-lg",children:"-"}),s.jsx("span",{className:"flex-grow text-center",children:i.label}),s.jsx("button",{onClick:d=>{d.stopPropagation(),i.onAdd()},className:"w-7 h-6 flex items-center justify-center bg-gray-700 hover:bg-green-600 rounded font-mono text-lg",children:"+"})]},u))})};function Ag(){var au,iu,uu;const{gameState:e,localPlayerId:t,setLocalPlayerId:n,createGame:r,joinGame:l,startReadyCheck:o,playerReady:a,assignTeams:i,setGameMode:u,setGamePrivacy:d,setActiveGridSize:w,setDummyPlayerCount:v,updatePlayerName:C,changePlayerColor:T,updatePlayerScore:j,changePlayerDeck:E,loadCustomDeck:F,drawCard:m,handleDrop:c,draggedItem:f,setDraggedItem:p,connectionStatus:I,gamesList:L,requestGamesList:V,exitGame:K,moveItem:G,shufflePlayerDeck:ne,addBoardCardStatus:se,removeBoardCardStatus:me,modifyBoardCardPower:fe,addAnnouncedCardStatus:R,removeAnnouncedCardStatus:ee,modifyAnnouncedCardPower:q,addHandCardStatus:Y,removeHandCardStatus:z,flipBoardCard:A,flipBoardCardFaceDown:W,revealHandCard:oe,revealBoardCard:pe,requestCardReveal:Ee,respondToRevealRequest:ce,syncGame:ze,removeRevealedStatus:Fe,resetGame:ae,toggleActiveTurnPlayer:Z,forceReconnect:Se,triggerHighlight:Ne,latestHighlight:We,nextPhase:$e,prevPhase:bt,setPhase:Vt,markAbilityUsed:je,swapCards:sr,transferStatus:ms,recoverDiscardedCard:$l,spawnToken:hs,scoreLine:gs}=Rg(),[ys,Br]=k.useState(!1),[vs,Bl]=k.useState(!1),[xs,Gr]=k.useState(!1),[Hr,Fn]=k.useState(!1),[Gl,$n]=k.useState(!1),[ws,Vr]=k.useState(!1),[Cs,Wr]=k.useState(null),[g,y]=k.useState(null),[x,N]=k.useState(!1),[b,O]=k.useState(null),[P,re]=k.useState(null),[le,J]=k.useState(null),[de,ye]=k.useState(!0),[ue,Oe]=k.useState(Date.now()),[Ze,at]=k.useState(null),[Be,Pe]=k.useState(null),[Q,ke]=k.useState(null),yt=k.useRef(null),Bn=k.useRef(null),[Xt,ar]=k.useState(null),[mn,ks]=k.useState(!1),[ge,Ke]=k.useState(null),[Qi,Zf]=k.useState([]),[Ss,ep]=k.useState([]),[Xi,Zi]=k.useState(null),Kr=k.useRef({x:0,y:0}),tp=k.useRef(null),Jr=k.useRef(null),[np,eu]=k.useState(void 0);k.useMemo(()=>e.players.filter(h=>!h.isDummy&&!h.isDisconnected).length,[e.players]);const ir=t===null&&e.gameId!==null,rp=k.useMemo(()=>e.players.filter(h=>!h.isDummy).length,[e.players]),Ns=t===1,Ge=k.useMemo(()=>e.players.find(h=>h.id===t),[e.players,t]),lp=e.gameId&&(Ge||ir),Gn=k.useMemo(()=>{const h=new Map;return e.players.forEach(S=>h.set(S.id,S.color)),h},[e.players]),Yr=!!ge||!!Q;k.useEffect(()=>{const h=()=>{const S=localStorage.getItem("ui_list_mode");ye(S===null?!0:S==="true")};return h(),window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]),k.useLayoutEffect(()=>{if(!de){eu(void 0);return}const h=()=>{if(Jr.current){const H=window.innerWidth,_=Jr.current.getBoundingClientRect();if(_.width===0)return;const xe=(H-_.width)/2-10;eu(Math.max(0,xe))}},S=new ResizeObserver(h);Jr.current&&S.observe(Jr.current),window.addEventListener("resize",h),h();const M=setTimeout(h,100);return()=>{S.disconnect(),window.removeEventListener("resize",h),clearTimeout(M)}},[de,t,e.activeGridSize]),k.useLayoutEffect(()=>{Q&&yt.current&&Bn.current&&(yt.current.style.left=`${Bn.current.x-2}px`,yt.current.style.top=`${Bn.current.y-2}px`)},[Q]),k.useEffect(()=>{const h=S=>{Kr.current={x:S.clientX,y:S.clientY},yt.current&&(Q||ge)&&(yt.current.style.left=`${S.clientX-2}px`,yt.current.style.top=`${S.clientY-2}px`)};return window.addEventListener("mousemove",h),(Q||ge)&&yt.current&&(yt.current.style.left=`${Kr.current.x-2}px`,yt.current.style.top=`${Kr.current.y-2}px`),()=>{window.removeEventListener("mousemove",h)}},[Q,ge]),k.useEffect(()=>{const h=S=>{if(!Q)return;const M=document.elementFromPoint(S.clientX,S.clientY),H=M==null?void 0:M.closest("[data-hand-card]");if(H){const X=H.getAttribute("data-hand-card");if(X){const[he,xe]=X.split(","),$=parseInt(he,10),U=parseInt(xe,10);if(Q.type==="Revealed"){if(Q.targetOwnerId!==void 0&&Q.targetOwnerId!==$){ke(null);return}if(Q.excludeOwnerId!==void 0&&Q.excludeOwnerId===$){ke(null);return}if(Q.onlyOpponents){const D=e.players.find(De=>De.id===$),ie=e.players.find(De=>De.id===t);if(D&&ie){if(D.id===ie.id){ke(null);return}if(D.teamId!==void 0&&D.teamId===ie.teamId){ke(null);return}}}$===t?oe($,U,"all"):t!==null&&Ee({source:"hand",ownerId:$,cardIndex:U},t),Q.sourceCoords&&je(Q.sourceCoords),Q.count>1?ke(D=>D?{...D,count:D.count-1}:null):ke(null);return}c({card:{id:"stack",deck:"counter",name:"",imageUrl:"",fallbackImage:"",power:0,ability:"",types:[]},source:"counter_panel",statusType:Q.type,count:1},{target:"hand",playerId:$,cardIndex:U,boardCoords:void 0}),Q.sourceCoords&&je(Q.sourceCoords),Q.count>1?ke(D=>D?{...D,count:D.count-1}:null):ke(null);return}}const _=M==null?void 0:M.closest("[data-board-coords]");if(_){const X=_.getAttribute("data-board-coords");if(X){const[he,xe]=X.split(","),$=parseInt(he,10),U=parseInt(xe,10),D=e.board[$][U].card;if(D&&Q.type==="Revealed"&&D.ownerId!==t&&t!==null){if(Q.targetOwnerId!==void 0&&Q.targetOwnerId!==D.ownerId){ke(null);return}if(Q.excludeOwnerId!==void 0&&Q.excludeOwnerId===D.ownerId){ke(null);return}if(Q.onlyOpponents){const ie=e.players.find(vt=>vt.id===D.ownerId),De=e.players.find(vt=>vt.id===t);if(ie&&De&&ie.teamId!==void 0&&ie.teamId===De.teamId){ke(null);return}}if(!D.isFaceDown){ke(null);return}Ee({source:"board",ownerId:D.ownerId,boardCoords:{row:$,col:U}},t),Q.sourceCoords&&je(Q.sourceCoords),Q.count>1?ke(ie=>ie?{...ie,count:ie.count-1}:null):ke(null);return}c({card:{id:"stack",deck:"counter",name:"",imageUrl:"",fallbackImage:"",power:0,ability:"",types:[]},source:"counter_panel",statusType:Q.type,count:1},{target:"board",boardCoords:{row:$,col:U}}),Q.sourceCoords&&je(Q.sourceCoords),Q.count>1?ke(ie=>ie?{...ie,count:ie.count-1}:null):ke(null)}}else{const X=M==null?void 0:M.closest(".counter-modal-content");Q.isDragging?ke(X?he=>he?{...he,isDragging:!1}:null:null):X||ke(null)}};return window.addEventListener("mouseup",h),()=>{window.removeEventListener("mouseup",h)}},[Q,c,e,t,oe,Ee,je]),k.useEffect(()=>{const h=S=>{["INPUT","TEXTAREA","SELECT"].includes(S.target.tagName)||S.code==="Space"&&(S.preventDefault(),e.isGameStarted&&$e())};return window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}},[$e,e.isGameStarted]);const tu=(h,S,M)=>{if(!h||h.type!=="ENTER_MODE"&&h.type!=="CREATE_STACK")return[];const H=[],_=S.board,X=_.length;if(h.type==="CREATE_STACK")return[];const{mode:he,payload:xe,sourceCoords:$}=h;if(he==="SELECT_TARGET"&&xe.filter)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=_[U][D];ie.card&&xe.filter(ie.card,U,D)&&H.push({row:U,col:D})}else if(he==="PATROL_MOVE"&&$)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=U===$.row||D===$.col,De=U===$.row&&D===$.col,vt=!_[U][D].card;ie&&(vt||De)&&H.push({row:U,col:D})}else if(he==="RIOT_PUSH"&&$)[{r:$.row-1,c:$.col},{r:$.row+1,c:$.col},{r:$.row,c:$.col-1},{r:$.row,c:$.col+1}].forEach(D=>{if(D.r>=0&&D.r<X&&D.c>=0&&D.c<X){const ie=_[D.r][D.c].card;if(ie&&ie.ownerId!==M){const De=D.r-$.row,vt=D.c-$.col,xt=D.r+De,Vn=D.c+vt;xt>=0&&xt<X&&Vn>=0&&Vn<X&&(_[xt][Vn].card||H.push({row:D.r,col:D.c}))}}});else if(he==="RIOT_MOVE"&&xe.vacatedCoords)H.push(xe.vacatedCoords),$&&H.push($);else if(he==="SWAP_POSITIONS"&&xe.filter)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=_[U][D];ie.card&&xe.filter(ie.card,U,D)&&H.push({row:U,col:D})}else if(he==="TRANSFER_STATUS_SELECT"&&xe.filter)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=_[U][D];ie.card&&xe.filter(ie.card,U,D)&&H.push({row:U,col:D})}else if((he==="SPAWN_TOKEN"||he==="SELECT_CELL")&&$)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=!_[U][D].card,De=Math.abs(U-$.row)+Math.abs(D-$.col)===1,vt=U===$.row&&D===$.col;he==="SPAWN_TOKEN"&&ie&&De&&H.push({row:U,col:D}),he==="SELECT_CELL"&&(ie&&H.push({row:U,col:D}),xe.allowSelf&&vt&&H.push({row:U,col:D}))}else if(he==="REVEAL_ENEMY"&&xe.filter)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=_[U][D];ie.card&&xe.filter(ie.card,U,D)&&H.push({row:U,col:D})}else if(he==="SELECT_LINE_START")for(let U=0;U<X;U++)for(let D=0;D<X;D++)H.push({row:U,col:D});else if(he==="SELECT_LINE_END"&&xe.firstCoords)for(let U=0;U<X;U++)for(let D=0;D<X;D++){const ie=U===xe.firstCoords.row,De=D===xe.firstCoords.col;(ie||De)&&H.push({row:U,col:D})}return H},op=(h,S,M)=>{var _;if(h.type==="OPEN_MODAL"||h.type==="CREATE_STACK"||tu(h,S,M).length>0)return!0;if(h.mode==="SELECT_TARGET"&&((_=h.payload)!=null&&_.filter)){for(const X of S.players)if(X.hand.some(he=>h.payload.filter(he)))return!0}return!1};k.useEffect(()=>{const h=tu(ge,e,t),S=[];if(ge&&ge.type==="ENTER_MODE"&&ge.mode==="SELECT_TARGET")ge.payload.filter&&e.players.forEach(M=>{M.hand.forEach((H,_)=>{ge.payload.filter(H)&&S.push({playerId:M.id,cardIndex:_})})});else if(Q){const M=Fl[Q.type];M&&M.allowedTargets&&M.allowedTargets.includes("hand")&&e.players.forEach(H=>{H.hand.forEach((_,X)=>{if(!(Q.type==="Revealed"&&Q.targetOwnerId!==void 0&&H.id!==Q.targetOwnerId)&&!(Q.type==="Revealed"&&Q.excludeOwnerId!==void 0&&H.id===Q.excludeOwnerId)){if(Q.type==="Revealed"&&Q.onlyOpponents){const he=e.players.find(xe=>xe.id===t);if(H.id===t||he&&H.teamId!==void 0&&H.teamId===he.teamId)return}S.push({playerId:H.id,cardIndex:X})}})})}Zf(h),ep(S)},[ge,Q,e.board,e.players,t]),k.useEffect(()=>{const h=M=>{M.key==="Escape"&&(ke(null),Pe(null),Ke(null),O(null))},S=M=>{(Q||Be||ge)&&(M.preventDefault(),ke(null),Pe(null),Ke(null),O(null))};return window.addEventListener("keydown",h),window.addEventListener("contextmenu",S),()=>{window.removeEventListener("keydown",h),window.removeEventListener("contextmenu",S)}},[Q,Be,ge]),k.useEffect(()=>{if(We){ar(We);const h=setTimeout(()=>ar(null),1e3);return()=>clearTimeout(h)}},[We]);const Hn=()=>{Fn(!1),$n(!1),O(null),re(null),J(null),Vr(!1)},sp=()=>{Ns&&(e.gameMode===On.FreeForAll?o():N(!0))},ap=h=>{i(h),N(!1),o()},ip=h=>{l(h),Br(!1)},up=()=>{r(),n(1)},cp=()=>{V(),Br(!0)},dp=h=>{localStorage.setItem("custom_ws_url",h.trim());const S=localStorage.getItem("ui_list_mode");ye(S===null?!0:S==="true"),Gr(!1),Se()},fp=()=>{Oe(Date.now()),ze()},hn=h=>{t!==null&&Ne({...h,playerId:t})},Hl=(h,S)=>{if(!mn||!e.isGameStarted||t===null||t!==e.activeTurnPlayerId||h.ownerId!==t||!Za(h,e.currentPhase,e.activeTurnPlayerId))return;const M=cg(h,e,t,S);if(M){if(M.type==="CREATE_STACK"&&M.tokenType&&M.count)ke({type:M.tokenType,count:M.count,isDragging:!1,sourceCoords:S,excludeOwnerId:M.excludeOwnerId,onlyOpponents:M.onlyOpponents});else if(M.type==="ENTER_MODE"){if(!op(M,e,t)){S.row>=0&&(Zi(S),je(S),setTimeout(()=>Zi(null),750));return}Ke(M)}else if(M.type==="OPEN_MODAL"&&M.mode==="RETRIEVE_DEVICE"){const H=e.players.find(_=>_.id===t);H&&(O({player:H,pickMode:!0}),S.row>=0&&je(S))}}},nu=(h,S)=>{if(!Be&&!Q){if(ge&&ge.type==="ENTER_MODE"){const{mode:M,payload:H,sourceCard:_,sourceCoords:X}=ge;if(M==="SELECT_TARGET"&&H.actionType==="DESTROY"){if(H.filter&&!H.filter(h,S.row,S.col))return;G({card:h,source:"board",boardCoords:S,bypassOwnershipCheck:!0},{target:"discard",playerId:h.ownerId}),X&&X.row>=0&&je(X),Ke(null);return}if(M==="SELECT_TARGET"&&H.tokenType){if(H.filter&&!H.filter(h,S.row,S.col))return;c({card:{id:"dummy",deck:"counter",name:"",imageUrl:"",fallbackImage:"",power:0,ability:"",types:[]},source:"counter_panel",statusType:H.tokenType,count:H.count||1},{target:"board",boardCoords:S}),X&&X.row>=0&&je(X),Ke(null);return}if(M==="RIOT_PUSH"&&X&&X.row>=0){if(!(Math.abs(S.row-X.row)+Math.abs(S.col-X.col)===1)||h.ownerId===t)return;const xe=S.row-X.row,$=S.col-X.col,U=S.row+xe,D=S.col+$,ie=e.board.length;if(U<0||U>=ie||D<0||D>=ie||e.board[U][D].card!==null)return;G({card:h,source:"board",boardCoords:S,bypassOwnershipCheck:!0},{target:"board",boardCoords:{row:U,col:D}}),Ke({type:"ENTER_MODE",mode:"RIOT_MOVE",sourceCard:ge.sourceCard,sourceCoords:ge.sourceCoords,payload:{vacatedCoords:S}});return}if(M==="RIOT_MOVE"&&X&&X.row>=0){S.row===X.row&&S.col===X.col&&(je(X),Ke(null));return}if(M==="SWAP_POSITIONS"&&X&&X.row>=0){if(H.filter&&!H.filter(h,S.row,S.col))return;sr(X,S),je(S),Ke(null);return}if(M==="TRANSFER_STATUS_SELECT"&&X&&X.row>=0){if(H.filter&&!H.filter(h,S.row,S.col))return;h.statuses&&h.statuses.length>0&&(ms(S,X,h.statuses[0].type),je(X),Ke(null));return}if(M==="REVEAL_ENEMY"){if(H.filter&&!H.filter(h,S.row,S.col))return;ke({type:"Revealed",count:1,isDragging:!1,sourceCoords:X,targetOwnerId:h.ownerId}),Ke(null);return}return}Hl(h,S)}},Es=(h,S,M)=>{if(ge&&ge.type==="ENTER_MODE"&&ge.mode==="SELECT_TARGET"){const{payload:H,sourceCoords:_}=ge;if(H.actionType==="DESTROY"){if(H.filter&&!H.filter(S))return;G({card:S,source:"hand",playerId:h.id,cardIndex:M,bypassOwnershipCheck:!0},{target:"discard",playerId:h.id}),_&&_.row>=0&&je(_),Ke(null)}}},bs=(h,S)=>{h.id===t&&(!mn||!e.isGameStarted||e.activeTurnPlayerId===t&&Za(S,e.currentPhase,e.activeTurnPlayerId)&&Hl(S,{row:-1,col:-1}))},ru=h=>{if(!ge||ge.type!=="ENTER_MODE")return;const{mode:S,sourceCoords:M,sourceCard:H,payload:_}=ge;if(S==="PATROL_MOVE"&&M&&H&&M.row>=0){const X=h.row===M.row,he=h.col===M.col;if(h.row===M.row&&h.col===M.col){Ke(null);return}(X||he)&&(G({card:H,source:"board",boardCoords:M},{target:"board",boardCoords:h}),je(h),Ke(null));return}if(S==="RIOT_MOVE"&&M&&H&&_.vacatedCoords){h.row===_.vacatedCoords.row&&h.col===_.vacatedCoords.col&&(G({card:H,source:"board",boardCoords:M},{target:"board",boardCoords:h}),je(h),Ke(null));return}if(S==="SPAWN_TOKEN"&&M&&_.tokenName&&M.row>=0){Math.abs(h.row-M.row)+Math.abs(h.col-M.col)===1&&(hs(h,_.tokenName,t),je(M),Ke(null));return}if(S==="SELECT_CELL"&&M&&H&&M.row>=0){if(_.allowSelf&&h.row===M.row&&h.col===M.col){je(M),Ke(null);return}G({card:H,source:"board",boardCoords:M},{target:"board",boardCoords:h}),je(h),Ke(null);return}if(S==="SELECT_LINE_START"&&H){Ke({type:"ENTER_MODE",mode:"SELECT_LINE_END",sourceCard:H,payload:{firstCoords:h}});return}if(S==="SELECT_LINE_END"&&H&&_.firstCoords){const{row:X,col:he}=_.firstCoords,{row:xe,col:$}=h;(X===xe||he===$)&&(gs(X,he,xe,$,t),G({card:H,source:"announced",playerId:t},{target:"discard",playerId:t}),Ke(null));return}},qr=()=>{at(null)},gn=(h,S,M)=>{if(h.preventDefault(),h.stopPropagation(),ge||Q||Be){Ke(null),ke(null),Pe(null);return}t===null||!e.isGameStarted||at({x:h.clientX,y:h.clientY,type:S,data:M})},lu=(h,S)=>{var he;const M=h.ownerId===t;if(M&&h.isFaceDown){A(S);return}const H=h.ownerId?e.players.find(xe=>xe.id===h.ownerId):void 0,_=(he=h.statuses)==null?void 0:he.some(xe=>xe.type==="Revealed"&&xe.addedByPlayerId===t);!h.isFaceDown||h.revealedTo==="all"||Array.isArray(h.revealedTo)&&h.revealedTo.includes(t)||_||M?J({card:h,player:H}):t!==null&&Ee({source:"board",ownerId:h.ownerId,boardCoords:S},t)},ou=h=>{hn({type:"cell",row:h.row,col:h.col})},js=(h,S,M)=>{var H;if(h.id===t){Hn();const _={card:S,source:"hand",playerId:h.id,cardIndex:M};Pe({card:S,sourceItem:_,faceDown:!1})}else if(t!==null){const _=S.revealedTo==="all",X=Array.isArray(S.revealedTo)&&S.revealedTo.includes(t),he=(H=S.statuses)==null?void 0:H.some($=>$.type==="Revealed"&&$.addedByPlayerId===t);_||X||he||!!h.isDummy||!!h.isDisconnected?J({card:S,player:h}):Ee({source:"hand",ownerId:h.id,cardIndex:M},t)}},su=(h,S,M,H)=>{const _={card:S,source:H,playerId:h.id,cardIndex:M};G(_,{target:"hand",playerId:h.id})},pp=h=>{O(null),re(h)},mp=h=>{re(null),O({player:h})},hp=k.useMemo(()=>{var X,he,xe;if(!Ze||t===null)return null;const{type:h,data:S,x:M,y:H}=Ze;let _=[];if(h==="emptyBoardCell")_.push({label:"Highlight Cell",onClick:()=>hn({type:"cell",row:S.boardCoords.row,col:S.boardCoords.col})}),_.push({label:"Highlight Column",onClick:()=>hn({type:"col",col:S.boardCoords.col})}),_.push({label:"Highlight Row",onClick:()=>hn({type:"row",row:S.boardCoords.row})});else if(h==="boardItem"||h==="announcedCard"){const $=h==="boardItem";let U=$?e.board[S.boardCoords.row][S.boardCoords.col].card:S.card,D=$?null:S.player;if(!$&&D){const Ae=e.players.find(At=>At.id===D.id);Ae&&(D=Ae,U=Ae.announcedCard||U)}if(!U)return at(null),null;const ie=U.ownerId?e.players.find(Ae=>Ae.id===U.ownerId):void 0,De=U.ownerId===t,vt=!!(ie!=null&&ie.isDummy),xt=De||vt,Vn=(X=U.statuses)==null?void 0:X.some(Ae=>Ae.type==="Revealed"&&Ae.addedByPlayerId===t),ur=!U.isFaceDown||U.revealedTo==="all"||Array.isArray(U.revealedTo)&&U.revealedTo.includes(t)||Vn;(ur||De&&U.isFaceDown)&&_.push({label:"View",isBold:!0,onClick:()=>J({card:U,player:ie})}),!$&&xt&&U.deck===we.Command&&(e.currentPhase===1||e.currentPhase===3)&&_.push({label:"Play",isBold:!0,onClick:()=>{Hl(U,{row:-1,col:-1})}}),$&&xt&&(U.isFaceDown?_.push({label:"Flip Face Up",isBold:!0,onClick:()=>A(S.boardCoords)}):_.push({label:"Flip Face Down",onClick:()=>W(S.boardCoords)}));const cr=$?{card:U,source:"board",boardCoords:S.boardCoords}:{card:U,source:"announced",playerId:D.id},Zt=U.ownerId,en=(U==null?void 0:U.deck)===we.Tokens||(U==null?void 0:U.deck)==="counter";if($&&(xt&&U.isFaceDown&&_.push({label:"Reveal to All",onClick:()=>pe(S.boardCoords,"all")}),!De&&!ur&&_.push({label:"Request Reveal",onClick:()=>Ee({source:"board",ownerId:U.ownerId,boardCoords:S.boardCoords},t)})),_.length>0&&_.push({isDivider:!0}),xt&&ur&&(_.push({label:"To Hand",disabled:en,onClick:()=>G(cr,{target:"hand",playerId:Zt})}),Zt)){const Ae=en?"Remove":"To Discard";_.push({label:Ae,onClick:()=>G(cr,{target:"discard",playerId:Zt})}),_.push({label:"To Deck Top",disabled:en,onClick:()=>G(cr,{target:"deck",playerId:Zt,deckPosition:"top"})}),_.push({label:"To Deck Bottom",disabled:en,onClick:()=>G(cr,{target:"deck",playerId:Zt,deckPosition:"bottom"})})}if($&&(_.push({isDivider:!0}),_.push({label:"Highlight Cell",onClick:()=>hn({type:"cell",row:S.boardCoords.row,col:S.boardCoords.col})}),_.push({label:"Highlight Column",onClick:()=>hn({type:"col",col:S.boardCoords.col})}),_.push({label:"Highlight Row",onClick:()=>hn({type:"row",row:S.boardCoords.row})})),ur){const Ae=["Aim","Exploit","Stun","Shield","Support","Threat","Revealed"],At=[];Ae.forEach(Lt=>{var dr;(((dr=U.statuses)==null?void 0:dr.filter(xp=>xp.type===Lt).length)||0)>0&&At.push({type:"statusControl",label:Lt,onAdd:()=>$?se(S.boardCoords,Lt,t):R(D.id,Lt,t),onRemove:()=>$?me(S.boardCoords,Lt):ee(D.id,Lt),removeDisabled:!1})}),At.length>0&&(_.length>0&&!("isDivider"in _[_.length-1])&&_.push({isDivider:!0}),_.push(...At)),_.length>0&&!("isDivider"in _[_.length-1])&&_.push({isDivider:!0}),_.push({type:"statusControl",label:"Power",onAdd:()=>$?fe(S.boardCoords,1):q(D.id,1),onRemove:()=>$?fe(S.boardCoords,-1):q(D.id,-1),removeDisabled:!1})}}else if(h==="token_panel_item"){const{card:$}=S,U={card:$,source:"token_panel"};_.push({label:"View",isBold:!0,onClick:()=>J({card:$})}),_.push({isDivider:!0}),_.push({label:"Play Face Up",isBold:!0,onClick:()=>{Hn(),Pe({card:$,sourceItem:U,faceDown:!1})}}),_.push({label:"Play Face Down",onClick:()=>{Hn(),Pe({card:$,sourceItem:U,faceDown:!0})}})}else if(["handCard","discardCard","deckCard"].includes(h)){let{card:$,boardCoords:U,player:D,cardIndex:ie}=S;const De=e.players.find(Wt=>Wt.id===D.id);De&&(D=De,h==="handCard"?$=De.hand[ie]||$:h==="discardCard"?$=De.discard[ie]||$:h==="deckCard"&&($=De.deck[ie]||$));const vt=D.id===t||!!D.isDummy,xt=e.players.find(Wt=>Wt.id===t),Vn=(xt==null?void 0:xt.teamId)!==void 0&&D.teamId===xt.teamId,ur=$.revealedTo==="all"||Array.isArray($.revealedTo)&&$.revealedTo.includes(t),cr=(he=$.statuses)==null?void 0:he.some(Wt=>Wt.type==="Revealed"&&Wt.addedByPlayerId===t),Zt=h!=="handCard"?!0:D.id===t||Vn||!!D.isDummy||!!D.isDisconnected||ur||cr;let en;h==="handCard"?en="hand":h==="discardCard"?en="discard":en="deck";const Ae={card:$,source:en,playerId:D==null?void 0:D.id,cardIndex:ie,boardCoords:U},At=$.ownerId,Lt=($==null?void 0:$.deck)===we.Tokens||($==null?void 0:$.deck)==="counter";if(Zt){const Wt=$.ownerId?e.players.find(dr=>dr.id===$.ownerId):void 0;_.push({label:"View",isBold:!0,onClick:()=>J({card:$,player:Wt})})}vt?(h==="handCard"?(_.push({label:"Play",isBold:!0,onClick:()=>{Hn(),Pe({card:$,sourceItem:Ae,faceDown:!1})}}),_.push({label:"Play Face Down",onClick:()=>{Hn(),Pe({card:$,sourceItem:Ae,faceDown:!0})}})):Zt&&["discardCard","deckCard"].includes(h)&&(_.push({label:"Play Face Up",isBold:!0,onClick:()=>{Hn(),Pe({card:$,sourceItem:Ae,faceDown:!1})}}),_.push({label:"Play Face Down",onClick:()=>{Hn(),Pe({card:$,sourceItem:Ae,faceDown:!0})}})),_.length>0&&_.push({isDivider:!0}),h==="handCard"&&_.push({label:"Reveal to All",onClick:()=>oe(D.id,ie,"all")}),_.length>0&&!("isDivider"in _[_.length-1])&&_.push({isDivider:!0}),h==="discardCard"?_.push({label:"To Hand",disabled:Lt,onClick:()=>G(Ae,{target:"hand",playerId:At})}):h==="handCard"&&_.push({label:"To Discard",onClick:()=>G(Ae,{target:"discard",playerId:At})}),["handCard","discardCard"].includes(h)&&At&&(_.push({label:"To Deck Top",disabled:Lt,onClick:()=>G(Ae,{target:"deck",playerId:At,deckPosition:"top"})}),_.push({label:"To Deck Bottom",disabled:Lt,onClick:()=>G(Ae,{target:"deck",playerId:At,deckPosition:"bottom"})})),h==="deckCard"&&(_.push({label:"To Hand",disabled:Lt,onClick:()=>G(Ae,{target:"hand",playerId:D.id})}),_.push({label:"To Discard",onClick:()=>G(Ae,{target:"discard",playerId:D.id})})),h==="handCard"&&(((xe=$.statuses)==null?void 0:xe.filter(dr=>dr.type==="Revealed").length)||0)>0&&(_.length>0&&!("isDivider"in _[_.length-1])&&_.push({isDivider:!0}),_.push({type:"statusControl",label:"Revealed",onAdd:()=>Y(D.id,ie,"Revealed",t),onRemove:()=>z(D.id,ie,"Revealed"),removeDisabled:!1}))):h==="handCard"&&!Zt&&_.push({label:"Request Reveal",onClick:()=>Ee({source:"hand",ownerId:D.id,cardIndex:ie},t)})}else if(h==="deckPile"){const{player:$}=S;($.id===t||!!$.isDummy)&&(_.push({label:"Draw Card",onClick:()=>m($.id)}),_.push({label:"Shuffle",onClick:()=>ne($.id)})),_.push({label:"View",onClick:()=>pp($)})}else if(h==="discardPile"){const{player:$}=S;_.push({label:"View",onClick:()=>mp($)})}return _=_.filter(($,U)=>"isDivider"in $?!(U===0||U===_.length-1||"isDivider"in _[U-1]):!0),s.jsx(Og,{x:M,y:H,items:_,onClose:qr})},[e,t,G,hn,se,me,fe,R,ee,q,Y,z,m,ne,A,W,oe,pe,Ee,Fe,Hl]);k.useEffect(()=>{window.addEventListener("click",qr);const h=S=>{S.target.closest("[data-interactive]")||qr()};return window.addEventListener("contextmenu",h),()=>{window.removeEventListener("click",qr),window.removeEventListener("contextmenu",h)}},[]),k.useEffect(()=>{f&&qr()},[f]);const gp=h=>{if(Hr)Fn(!1),Wr(null);else{$n(!1),y(null);const S=h.currentTarget.getBoundingClientRect();Wr({top:S.top,left:S.left}),Fn(!0)}},yp=h=>{if(Gl)$n(!1),y(null);else{Fn(!1),Wr(null);const S=h.currentTarget.getBoundingClientRect();y({top:S.top,left:S.left}),$n(!0)}},vp=(h,S)=>{Bn.current={x:S.clientX,y:S.clientY},ke(M=>M&&M.type===h?{type:h,count:M.count+1,isDragging:!0,sourceCoords:M.sourceCoords}:{type:h,count:1,isDragging:!0})};if(!lp){const h="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg text-lg w-full transition-colors disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",S="text-gray-400 hover:text-white transition-colors";return s.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-800",children:s.jsxs("div",{className:"text-center p-4 flex flex-col items-center",children:[s.jsx("h1",{className:"text-5xl font-bold mb-12",children:"New Avalon: Skirmish"}),s.jsxs("div",{className:"flex flex-col space-y-4 w-64",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:up,className:`${h} flex-grow`,children:"Start Game"}),s.jsx("button",{onClick:()=>Gr(!0),className:"bg-gray-600 hover:bg-gray-700 text-white font-bold p-3 rounded-lg transition-colors aspect-square",title:"Settings",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),s.jsx("button",{onClick:cp,className:h,children:"Join Game"}),s.jsx("button",{onClick:()=>Bl(!0),className:h,children:"Deck Building"}),s.jsx("button",{disabled:!0,className:h,children:"Story Mode"}),s.jsx("button",{disabled:!0,className:h,children:"Puzzles"}),s.jsx("button",{onClick:()=>Vr(!0),className:h,children:"Rules & Tutorial"})]}),s.jsxs("div",{className:"mt-16 flex items-center space-x-8",children:[s.jsx("a",{href:"https://t.me/NikitaAnahoretTriakin",target:"_blank",rel:"noopener noreferrer",className:S,title:"Telegram",children:s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Telegram_Messenger.png",alt:"Telegram",className:"h-8 w-8 object-contain"})}),s.jsx("a",{href:"https://discord.gg/U5zKADsZZY",target:"_blank",rel:"noopener noreferrer",className:S,title:"Discord",children:s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2111/2111370.png",alt:"Discord",className:"h-8 w-8 object-contain"})}),s.jsx("a",{href:"https://www.patreon.com/c/AnchoriteComics",target:"_blank",rel:"noopener noreferrer",className:S,title:"Patreon",children:s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5968/5968722.png",alt:"Patreon",className:"h-8 w-8 object-contain"})})]}),s.jsx(mg,{isOpen:ys,onClose:()=>Br(!1),onJoin:ip,games:L}),s.jsx(Ng,{isOpen:vs,onClose:()=>Bl(!1),setViewingCard:J}),s.jsx(Eg,{isOpen:xs,onClose:()=>Gr(!1),onSave:dp}),s.jsx(Ig,{isOpen:ws,onClose:()=>Vr(!1)}),le&&s.jsx(Sc,{card:le.card,ownerPlayer:le.player,onClose:()=>J(null),statusDescriptions:Yo,allPlayers:e.players,imageRefreshVersion:ue})]})})}return s.jsxs("div",{className:`relative w-screen h-screen overflow-hidden ${Q?"cursor-none":""}`,children:[s.jsx(pg,{gameId:e.gameId,isGameStarted:e.isGameStarted,onStartGame:sp,onResetGame:ae,activeGridSize:e.activeGridSize,onGridSizeChange:w,dummyPlayerCount:e.dummyPlayerCount,onDummyPlayerCountChange:v,realPlayerCount:rp,connectionStatus:I,onExitGame:K,onOpenTokensModal:gp,onOpenCountersModal:yp,gameMode:e.gameMode,onGameModeChange:u,isPrivate:e.isPrivate,onPrivacyChange:d,isHost:Ns,onSyncGame:fp,currentPhase:e.currentPhase,onNextPhase:$e,onPrevPhase:bt,onSetPhase:Vt,isAutoAbilitiesEnabled:mn,onToggleAutoAbilities:ks}),de?s.jsxs("div",{className:"relative h-full w-full pt-14 overflow-hidden bg-gray-900",children:[Ge&&s.jsx("div",{ref:tp,className:"absolute left-0 top-14 bottom-[2px] z-30 bg-panel-bg shadow-xl flex flex-col border-r border-gray-700 w-fit min-w-0 pl-[2px] py-[2px] pr-0 transition-all duration-100 overflow-hidden",style:{width:np},children:s.jsx(ra,{player:Ge,isLocalPlayer:!0,localPlayerId:t,isSpectator:ir,isGameStarted:e.isGameStarted,position:Ge.id,onNameChange:h=>C(Ge.id,h),onColorChange:h=>T(Ge.id,h),onScoreChange:h=>j(Ge.id,h),onDeckChange:h=>E(Ge.id,h),onLoadCustomDeck:h=>F(Ge.id,h),onDrawCard:()=>m(Ge.id),handleDrop:c,draggedItem:f,setDraggedItem:p,openContextMenu:gn,onHandCardDoubleClick:js,playerColorMap:Gn,allPlayers:e.players,localPlayerTeamId:Ge==null?void 0:Ge.teamId,activeTurnPlayerId:e.activeTurnPlayerId,onToggleActiveTurn:Z,imageRefreshVersion:ue,layoutMode:"list-local",onCardClick:Es,validHandTargets:Ss,onAnnouncedCardDoubleClick:bs,currentPhase:e.currentPhase,disableActiveHighlights:Yr},Ge.id)}),s.jsx("div",{className:"absolute top-14 bottom-0 z-10 flex items-center justify-center pointer-events-none w-full left-0",children:s.jsx("div",{ref:Jr,className:"pointer-events-auto h-full aspect-square flex items-center justify-center py-[2px]",children:s.jsx(wc,{board:e.board,isGameStarted:e.isGameStarted,activeGridSize:e.activeGridSize,handleDrop:c,draggedItem:f,setDraggedItem:p,openContextMenu:gn,playMode:Be,setPlayMode:Pe,highlight:Xt,playerColorMap:Gn,localPlayerId:t,onCardDoubleClick:lu,onEmptyCellDoubleClick:ou,imageRefreshVersion:ue,cursorStack:Q,setCursorStack:ke,currentPhase:e.currentPhase,activeTurnPlayerId:e.activeTurnPlayerId,onCardClick:nu,onEmptyCellClick:ru,validTargets:Qi,noTargetOverlay:Xi,disableActiveHighlights:Yr})})}),s.jsx("div",{className:"absolute right-0 top-14 bottom-0 z-30 w-[34.2rem] bg-panel-bg shadow-xl flex flex-col pt-[3px] pb-[3px] border-l border-gray-700 gap-[3px]",children:e.players.filter(h=>h.id!==t).map(h=>s.jsx("div",{className:"w-full flex-1 min-h-0",children:s.jsx(ra,{player:h,isLocalPlayer:!1,localPlayerId:t,isSpectator:ir,isGameStarted:e.isGameStarted,position:h.id,onNameChange:S=>C(h.id,S),onColorChange:S=>T(h.id,S),onScoreChange:S=>j(h.id,S),onDeckChange:S=>E(h.id,S),onLoadCustomDeck:S=>F(h.id,S),onDrawCard:()=>m(h.id),handleDrop:c,draggedItem:f,setDraggedItem:p,openContextMenu:gn,onHandCardDoubleClick:js,playerColorMap:Gn,allPlayers:e.players,localPlayerTeamId:Ge==null?void 0:Ge.teamId,activeTurnPlayerId:e.activeTurnPlayerId,onToggleActiveTurn:Z,imageRefreshVersion:ue,layoutMode:"list-remote",onCardClick:Es,validHandTargets:Ss,onAnnouncedCardDoubleClick:bs,currentPhase:e.currentPhase,disableActiveHighlights:Yr})},h.id))})]}):s.jsxs("main",{className:"pt-14 h-screen w-full flex items-center justify-center py-[2px] px-[2px]",children:[s.jsx(wc,{board:e.board,isGameStarted:e.isGameStarted,activeGridSize:e.activeGridSize,handleDrop:c,draggedItem:f,setDraggedItem:p,openContextMenu:gn,playMode:Be,setPlayMode:Pe,highlight:Xt,playerColorMap:Gn,localPlayerId:t,onCardDoubleClick:lu,onEmptyCellDoubleClick:ou,imageRefreshVersion:ue,cursorStack:Q,setCursorStack:ke,currentPhase:e.currentPhase,activeTurnPlayerId:e.activeTurnPlayerId,onCardClick:nu,onEmptyCellClick:ru,validTargets:Qi,noTargetOverlay:Xi,disableActiveHighlights:Yr}),e.players.map(h=>s.jsx(ra,{player:h,isLocalPlayer:h.id===t,localPlayerId:t,isSpectator:ir,isGameStarted:e.isGameStarted,position:h.id,onNameChange:S=>C(h.id,S),onColorChange:S=>T(h.id,S),onScoreChange:S=>j(h.id,S),onDeckChange:S=>E(h.id,S),onLoadCustomDeck:S=>F(h.id,S),onDrawCard:()=>m(h.id),handleDrop:c,draggedItem:f,setDraggedItem:p,openContextMenu:gn,onHandCardDoubleClick:js,playerColorMap:Gn,allPlayers:e.players,localPlayerTeamId:Ge==null?void 0:Ge.teamId,activeTurnPlayerId:e.activeTurnPlayerId,onToggleActiveTurn:Z,imageRefreshVersion:ue,layoutMode:"standard",onCardClick:Es,validHandTargets:Ss,onAnnouncedCardDoubleClick:bs,currentPhase:e.currentPhase,disableActiveHighlights:Yr},h.id))]}),(Q||ge&&((au=ge.payload)==null?void 0:au.tokenType))&&s.jsx("div",{ref:yt,className:"fixed pointer-events-none select-none z-[100000] flex items-center justify-center",style:{left:Kr.current.x-2,top:Kr.current.y-2},children:(Q||((iu=ge==null?void 0:ge.payload)==null?void 0:iu.tokenType))&&s.jsxs("div",{className:"relative w-12 h-12 rounded-full bg-gray-500 border-[3px] border-white flex items-center justify-center shadow-xl",children:[(()=>{var H;const h=Q?Q.type:ge.payload.tokenType;Q?Q.count:(H=ge==null?void 0:ge.payload)!=null&&H.count;let S=Yi[h];S&&ue&&(S=`${S}?v=${ue}`);const M=h.startsWith("Power");return S?s.jsx("img",{src:S,alt:h,className:"w-full h-full object-contain p-1",draggable:"false"}):s.jsx("span",{className:`font-bold text-white ${M?"text-sm":"text-lg"}`,style:{textShadow:"0 0 2px black"},children:M?h==="Power+"?"+P":"-P":h.charAt(0)})})(),s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center border border-white",children:Q?Q.count:((uu=ge==null?void 0:ge.payload)==null?void 0:uu.count)||1})]})}),ir&&!de&&s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black bg-opacity-70 p-4 rounded-lg z-50",children:[s.jsx("p",{className:"text-xl font-bold text-center",children:"Spectator Mode"}),s.jsx("p",{className:"text-center text-gray-300",children:"You are watching the game."})]}),(()=>{const h=e.revealRequests.find(M=>M.toPlayerId===t);if(!h)return null;const S=e.players.find(M=>M.id===h.fromPlayerId);return S?s.jsx(wg,{fromPlayer:S,cardCount:h.cardIdentifiers.length,onAccept:()=>ce(h.fromPlayerId,!0),onDecline:()=>ce(h.fromPlayerId,!1)}):null})(),x&&Ns&&s.jsx(vg,{players:e.players.filter(h=>!h.isDisconnected),gameMode:e.gameMode,onCancel:()=>N(!1),onConfirm:ap}),e.isReadyCheckActive&&!ir&&Ge&&s.jsx(xg,{players:e.players.filter(h=>!h.isDummy&&!h.isDisconnected),localPlayer:Ge,onReady:a}),b&&(()=>{const h=e.players.find(H=>H.id===b.player.id),S=h?h.discard:[],M=b.pickMode?S.filter(H=>{var _;return(_=H.types)==null?void 0:_.includes("Device")}):S;return s.jsx(Cc,{isOpen:!!b,onClose:()=>O(null),title:`${b.player.name}'s Discard Pile ${b.pickMode?"(Pick a Device)":""}`,player:b.player,cards:M,setDraggedItem:p,onCardContextMenu:(H,_)=>gn(H,"discardCard",{card:M[_],player:b.player,cardIndex:_}),onCardDoubleClick:H=>{if(b.pickMode){$l(b.player.id,H);const _=S.indexOf(M[H]);_>-1&&($l(b.player.id,_),O(null))}else su(b.player,M[H],H,"discard")},canInteract:t!==null&&e.isGameStarted&&(b.player.id===t||!!b.player.isDummy),playerColorMap:Gn,localPlayerId:t,imageRefreshVersion:ue})})(),P&&(()=>{const h=e.players.find(M=>M.id===P.id),S=h?h.deck:[];return s.jsx(Cc,{isOpen:!!P,onClose:()=>re(null),title:`${P.name}'s Deck`,player:P,cards:S,setDraggedItem:p,onCardContextMenu:(M,H)=>gn(M,"deckCard",{card:S[H],player:P,cardIndex:H}),onCardDoubleClick:M=>su(P,S[M],M,"deck"),canInteract:t!==null&&e.isGameStarted&&(P.id===t||!!P.isDummy),isDeckView:!0,playerColorMap:Gn,localPlayerId:t,imageRefreshVersion:ue})})(),s.jsx(hg,{isOpen:Hr,onClose:()=>Fn(!1),setDraggedItem:p,openContextMenu:gn,canInteract:t!==null&&e.isGameStarted,anchorEl:Cs,imageRefreshVersion:ue,draggedItem:f}),s.jsx(yg,{isOpen:Gl,onClose:()=>$n(!1),setDraggedItem:p,canInteract:t!==null&&e.isGameStarted,anchorEl:g,imageRefreshVersion:ue,onCounterMouseDown:vp,cursorStack:Q}),le&&s.jsx(Sc,{card:le.card,ownerPlayer:le.player,onClose:()=>J(null),statusDescriptions:Yo,allPlayers:e.players,imageRefreshVersion:ue}),hp]})}class Lg extends En.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?s.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white p-4 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Something went wrong"}),s.jsx("p",{className:"mb-6 text-gray-400",children:"The application encountered an unexpected error."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-bold shadow-lg",children:"Reload Game"})]}):this.props.children}}const Xf=document.getElementById("root");if(!Xf)throw new Error("Could not find root element to mount to");const Mg=la.createRoot(Xf);Mg.render(s.jsx(Lg,{children:s.jsx(Ag,{})}));
